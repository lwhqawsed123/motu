(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0bdc8a00","chunk-745a9afa","chunk-5a97a263","chunk-3c747b39","chunk-08486bce","chunk-adde61aa","chunk-d19c1a98","chunk-2d0a2db2","chunk-2d0f012d"],{"0062":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"任务名称",prop:"jobName"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入任务名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.jobName,callback:function(t){e.$set(e.queryParams,"jobName",t)},expression:"queryParams.jobName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"任务组名",prop:"jobGroup"}},[a("el-select",{staticStyle:{width:"240px"},attrs:{placeholder:"请任务组名",clearable:"",size:"small"},model:{value:e.queryParams.jobGroup,callback:function(t){e.$set(e.queryParams,"jobGroup",t)},expression:"queryParams.jobGroup"}},e._l(e.jobGroupOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"执行状态",prop:"status"}},[a("el-select",{staticStyle:{width:"240px"},attrs:{placeholder:"请选择执行状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"执行时间"}},[a("el-date-picker",{staticStyle:{width:"240px"},attrs:{size:"small","value-format":"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.dateRange,callback:function(t){e.dateRange=t},expression:"dateRange"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:job:remove"],expression:"['monitor:job:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:job:remove"],expression:"['monitor:job:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:e.handleClean}},[e._v("清空")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:job:export"],expression:"['monitor:job:export']"}],attrs:{type:"warning",icon:"el-icon-download",size:"mini"},on:{click:e.handleExport}},[e._v("导出")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.jobLogList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"日志编号",width:"80",align:"center",prop:"jobLogId"}}),e._v(" "),a("el-table-column",{attrs:{label:"任务名称",align:"center",prop:"jobName","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"任务组名",align:"center",prop:"jobGroup",formatter:e.jobGroupFormat,"show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"调用目标字符串",align:"center",prop:"invokeTarget","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"日志信息",align:"center",prop:"jobMessage","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"执行状态",align:"center",prop:"status",formatter:e.statusFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"执行时间",align:"center",prop:"createTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createTime)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:job:query"],expression:"['monitor:job:query']"}],attrs:{size:"mini",type:"text",icon:"el-icon-view"},on:{click:function(a){return e.handleView(t.row)}}},[e._v("详细")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:"调度日志详细",visible:e.open,width:"700px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"100px",size:"mini"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"日志序号："}},[e._v(e._s(e.form.jobLogId))]),e._v(" "),a("el-form-item",{attrs:{label:"任务名称："}},[e._v(e._s(e.form.jobName))])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"任务分组："}},[e._v(e._s(e.form.jobGroup))]),e._v(" "),a("el-form-item",{attrs:{label:"执行时间："}},[e._v(e._s(e.form.createTime))])],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"调用方法："}},[e._v(e._s(e.form.invokeTarget))])],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"日志信息："}},[e._v(e._s(e.form.jobMessage))])],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"执行状态："}},[0==e.form.status?a("div",[e._v("正常")]):1==e.form.status?a("div",[e._v("失败")]):e._e()])],1),e._v(" "),a("el-col",{attrs:{span:24}},[1==e.form.status?a("el-form-item",{attrs:{label:"异常信息："}},[e._v(e._s(e.form.exceptionInfo))]):e._e()],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.open=!1}}},[e._v("关 闭")])],1)],1)],1)},i=[],o=a("b775");function r(e){return Object(o["a"])({url:"/monitor/jobLog/list",method:"get",params:e})}function l(e){return Object(o["a"])({url:"/monitor/jobLog/"+e,method:"delete"})}function s(){return Object(o["a"])({url:"/monitor/jobLog/clean",method:"delete"})}function c(e){return Object(o["a"])({url:"/monitor/jobLog/export",method:"get",params:e})}var u={name:"JobLog",data:function(){return{loading:!0,ids:[],multiple:!0,total:0,jobLogList:[],open:!1,dateRange:[],form:{},statusOptions:[],jobGroupOptions:[],queryParams:{pageNum:1,pageSize:10,jobName:void 0,jobGroup:void 0,status:void 0}}},created:function(){var e=this;this.getList(),this.getDicts("sys_job_status").then((function(t){e.statusOptions=t.data})),this.getDicts("sys_job_group").then((function(t){e.jobGroupOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,r(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.jobLogList=t.rows,e.total=t.total,e.loading=!1}))},statusFormat:function(e,t){return this.selectDictLabel(this.statusOptions,e.status)},jobGroupFormat:function(e,t){return this.selectDictLabel(this.jobGroupOptions,e.jobGroup)},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.jobLogId})),this.multiple=!e.length},handleView:function(e){this.open=!0,this.form=e},handleDelete:function(e){var t=this,a=this.ids;this.$confirm('是否确认删除调度日志编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return l(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleClean:function(){var e=this;this.$confirm("是否确认清空所有调度日志数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return s()})).then((function(){e.getList(),e.msgSuccess("清空成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有调度日志数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return c(t)})).then((function(t){e.download(t.msg)})).catch((function(){}))}}},m=u,d=a("9ca4"),p=Object(d["a"])(m,n,i,!1,null,null,null);t["default"]=p.exports},"014c":function(e,t,a){},"018f":function(e,t,a){},"020c":function(e,t,a){"use strict";var n=a("61f5"),i=a.n(n);i.a},"022a":function(e,t,a){},"02f2":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"系统模块",prop:"title"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入系统模块",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.title,callback:function(t){e.$set(e.queryParams,"title",t)},expression:"queryParams.title"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"操作人员",prop:"operName"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入操作人员",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.operName,callback:function(t){e.$set(e.queryParams,"operName",t)},expression:"queryParams.operName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"类型",prop:"businessType"}},[a("el-select",{staticStyle:{width:"240px"},attrs:{placeholder:"操作类型",clearable:"",size:"small"},model:{value:e.queryParams.businessType,callback:function(t){e.$set(e.queryParams,"businessType",t)},expression:"queryParams.businessType"}},e._l(e.typeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{staticStyle:{width:"240px"},attrs:{placeholder:"操作状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"操作时间"}},[a("el-date-picker",{staticStyle:{width:"240px"},attrs:{size:"small","value-format":"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.dateRange,callback:function(t){e.dateRange=t},expression:"dateRange"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:operlog:remove"],expression:"['monitor:operlog:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:operlog:remove"],expression:"['monitor:operlog:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:e.handleClean}},[e._v("清空")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:config:export"],expression:"['system:config:export']"}],attrs:{type:"warning",icon:"el-icon-download",size:"mini"},on:{click:e.handleExport}},[e._v("导出")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.list},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"日志编号",align:"center",prop:"operId"}}),e._v(" "),a("el-table-column",{attrs:{label:"系统模块",align:"center",prop:"title"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作类型",align:"center",prop:"businessType",formatter:e.typeFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"请求方式",align:"center",prop:"requestMethod"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作人员",align:"center",prop:"operName"}}),e._v(" "),a("el-table-column",{attrs:{label:"主机",align:"center",prop:"operIp",width:"130","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"操作地点",align:"center",prop:"operLocation","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"操作状态",align:"center",prop:"status",formatter:e.statusFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"操作日期",align:"center",prop:"operTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.operTime)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:operlog:query"],expression:"['monitor:operlog:query']"}],attrs:{size:"mini",type:"text",icon:"el-icon-view"},on:{click:function(a){return e.handleView(t.row,t.index)}}},[e._v("详细")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:"操作日志详细",visible:e.open,width:"700px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"100px",size:"mini"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"操作模块："}},[e._v(e._s(e.form.title)+" / "+e._s(e.typeFormat(e.form)))]),e._v(" "),a("el-form-item",{attrs:{label:"登录信息："}},[e._v(e._s(e.form.operName)+" / "+e._s(e.form.operIp)+" / "+e._s(e.form.operLocation))])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"请求地址："}},[e._v(e._s(e.form.operUrl))]),e._v(" "),a("el-form-item",{attrs:{label:"请求方式："}},[e._v(e._s(e.form.requestMethod))])],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"操作方法："}},[e._v(e._s(e.form.method))])],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"请求参数："}},[e._v(e._s(e.form.operParam))])],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"返回参数："}},[e._v(e._s(e.form.jsonResult))])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"操作状态："}},[0===e.form.status?a("div",[e._v("正常")]):1===e.form.status?a("div",[e._v("失败")]):e._e()])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"操作时间："}},[e._v(e._s(e.parseTime(e.form.operTime)))])],1),e._v(" "),a("el-col",{attrs:{span:24}},[1===e.form.status?a("el-form-item",{attrs:{label:"异常信息："}},[e._v(e._s(e.form.errorMsg))]):e._e()],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.open=!1}}},[e._v("关 闭")])],1)],1)],1)},i=[],o=a("b775");function r(e){return Object(o["a"])({url:"/monitor/operlog/list",method:"get",params:e})}function l(e){return Object(o["a"])({url:"/monitor/operlog/"+e,method:"delete"})}function s(){return Object(o["a"])({url:"/monitor/operlog/clean",method:"delete"})}function c(e){return Object(o["a"])({url:"/monitor/operlog/export",method:"get",params:e})}var u={name:"Operlog",data:function(){return{loading:!0,ids:[],multiple:!0,total:0,list:[],open:!1,typeOptions:[],statusOptions:[],dateRange:[],form:{},queryParams:{pageNum:1,pageSize:10,title:void 0,operName:void 0,businessType:void 0,status:void 0}}},created:function(){var e=this;this.getList(),this.getDicts("sys_oper_type").then((function(t){e.typeOptions=t.data})),this.getDicts("sys_common_status").then((function(t){e.statusOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,r(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.list=t.rows,e.total=t.total,e.loading=!1}))},statusFormat:function(e,t){return this.selectDictLabel(this.statusOptions,e.status)},typeFormat:function(e,t){return this.selectDictLabel(this.typeOptions,e.businessType)},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.operId})),this.multiple=!e.length},handleView:function(e){this.open=!0,this.form=e},handleDelete:function(e){var t=this,a=e.operId||this.ids;this.$confirm('是否确认删除日志编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return l(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleClean:function(){var e=this;this.$confirm("是否确认清空所有操作日志数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return s()})).then((function(){e.getList(),e.msgSuccess("清空成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有操作日志数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return c(t)})).then((function(t){e.download(t.msg)})).catch((function(){}))}}},m=u,d=a("9ca4"),p=Object(d["a"])(m,n,i,!1,null,null,null);t["default"]=p.exports},"0332":function(e,t,a){"use strict";var n=a("3c7a"),i=a.n(n);i.a},"0418":function(e,t,a){"use strict";var n=a("51b0"),i=a.n(n);i.a},"046a":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"字典名称",prop:"dictName"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入字典名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.dictName,callback:function(t){e.$set(e.queryParams,"dictName",t)},expression:"queryParams.dictName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"字典类型",prop:"dictType"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入字典类型",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.dictType,callback:function(t){e.$set(e.queryParams,"dictType",t)},expression:"queryParams.dictType"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{staticStyle:{width:"240px"},attrs:{placeholder:"字典状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"创建时间"}},[a("el-date-picker",{staticStyle:{width:"240px"},attrs:{size:"small","value-format":"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.dateRange,callback:function(t){e.dateRange=t},expression:"dateRange"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:dict:add"],expression:"['system:dict:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:dict:edit"],expression:"['system:dict:edit']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:dict:remove"],expression:"['system:dict:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:dict:export"],expression:"['system:dict:export']"}],attrs:{type:"warning",icon:"el-icon-download",size:"mini"},on:{click:e.handleExport}},[e._v("导出")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:dict:remove"],expression:"['system:dict:remove']"}],attrs:{type:"danger",icon:"el-icon-refresh",size:"mini"},on:{click:e.handleClearCache}},[e._v("清理缓存")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.typeList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"字典编号",align:"center",prop:"dictId"}}),e._v(" "),a("el-table-column",{attrs:{label:"字典名称",align:"center",prop:"dictName","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"字典类型",align:"center","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[a("router-link",{staticClass:"link-type",attrs:{to:"/dict/type/data/"+t.row.dictId}},[a("span",[e._v(e._s(t.row.dictType))])])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"状态",align:"center",prop:"status",formatter:e.statusFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"备注",align:"center",prop:"remark","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createTime)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:dict:edit"],expression:"['system:dict:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:dict:remove"],expression:"['system:dict:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"字典名称",prop:"dictName"}},[a("el-input",{attrs:{placeholder:"请输入字典名称"},model:{value:e.form.dictName,callback:function(t){e.$set(e.form,"dictName",t)},expression:"form.dictName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"字典类型",prop:"dictType"}},[a("el-input",{attrs:{placeholder:"请输入字典类型"},model:{value:e.form.dictType,callback:function(t){e.$set(e.form,"dictType",t)},expression:"form.dictType"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusOptions,(function(t){return a("el-radio",{key:t.dictValue,attrs:{label:t.dictValue}},[e._v(e._s(t.dictLabel))])})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},i=[],o=a("ed45"),r={name:"Dict",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,typeList:[],title:"",open:!1,statusOptions:[],dateRange:[],queryParams:{pageNum:1,pageSize:10,dictName:void 0,dictType:void 0,status:void 0},form:{},rules:{dictName:[{required:!0,message:"字典名称不能为空",trigger:"blur"}],dictType:[{required:!0,message:"字典类型不能为空",trigger:"blur"}]}}},created:function(){var e=this;this.getList(),this.getDicts("sys_normal_disable").then((function(t){e.statusOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,Object(o["f"])(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.typeList=t.rows,e.total=t.total,e.loading=!1}))},statusFormat:function(e,t){return this.selectDictLabel(this.statusOptions,e.status)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={dictId:void 0,dictName:void 0,dictType:void 0,status:"0",remark:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handleAdd:function(){this.reset(),this.open=!0,this.title="添加字典类型"},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.dictId})),this.single=1!=e.length,this.multiple=!e.length},handleUpdate:function(e){var t=this;this.reset();var a=e.dictId||this.ids;Object(o["e"])(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改字典类型"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.dictId?Object(o["h"])(e.form).then((function(t){200===t.code&&(e.msgSuccess("修改成功"),e.open=!1,e.getList())})):Object(o["a"])(e.form).then((function(t){200===t.code&&(e.msgSuccess("新增成功"),e.open=!1,e.getList())})))}))},handleDelete:function(e){var t=this,a=e.dictId||this.ids;this.$confirm('是否确认删除字典编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["c"])(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有类型数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["d"])(t)})).then((function(t){e.download(t.msg)})).catch((function(){}))},handleClearCache:function(){var e=this;Object(o["b"])().then((function(t){200===t.code&&e.msgSuccess("清理成功")}))}}},l=r,s=a("9ca4"),c=Object(s["a"])(l,n,i,!1,null,null,null);t["default"]=c.exports},"048d":function(e,t,a){"use strict";var n=a("9932"),i=a.n(n);i.a},"06ab":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"record"},[a("div",{staticClass:"record-conter"},[a("el-row",{staticClass:"record-top",staticStyle:{"margin-left":"0px","margin-right":"0px"},attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[a("el-form-item",{attrs:{label:"注册日期："}},[e.formInline.date.startday?a("dateTimePicker",{attrs:{date:e.formInline.date},on:{onSubmit:e.onSubmit}}):e._e()],1),e._v(" "),a("el-form-item",{attrs:{label:"公会："}},[a("el-select",{staticStyle:{width:"85px"},attrs:{clearable:"",placeholder:"请选择",size:"mini"},on:{change:e.onSubmit},model:{value:e.formInline.groupid,callback:function(t){e.$set(e.formInline,"groupid",t)},expression:"formInline.groupid"}},e._l(e.groupOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"用户状态："}},[a("el-select",{staticStyle:{width:"85px"},attrs:{clearable:"",placeholder:"请选择",size:"mini"},on:{change:e.onSubmit},model:{value:e.formInline.status,callback:function(t){e.$set(e.formInline,"status",t)},expression:"formInline.status"}},e._l(e.liveingStateOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"性别："}},[a("el-select",{staticStyle:{width:"85px"},attrs:{clearable:"",placeholder:"请选择",size:"mini"},on:{change:e.onSubmit},model:{value:e.formInline.gender,callback:function(t){e.$set(e.formInline,"gender",t)},expression:"formInline.gender"}},e._l(e.gengerOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"设备："}},[a("el-select",{staticStyle:{width:"100px"},attrs:{clearable:"",placeholder:"请选择",size:"mini"},on:{change:e.onSubmit},model:{value:e.formInline.platform,callback:function(t){e.$set(e.formInline,"platform",t)},expression:"formInline.platform"}},e._l(e.platformOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"手机："}},[a("el-input",{attrs:{placeholder:"请输入",clearable:"",size:"mini",maxlength:"20"},on:{clear:e.onSubmit},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit(t)}},model:{value:e.formInline.mobile,callback:function(t){e.$set(e.formInline,"mobile","string"===typeof t?t.trim():t)},expression:"formInline.mobile"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"昵称："}},[a("el-input",{staticStyle:{width:"145px"},attrs:{placeholder:"请输入昵称关键字",clearable:"",size:"mini"},on:{clear:e.onSubmit},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit(t)}},model:{value:e.formInline.nickname,callback:function(t){e.$set(e.formInline,"nickname","string"===typeof t?t.trim():t)},expression:"formInline.nickname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"用户ID："}},[a("el-input",{attrs:{placeholder:"请输入用户id",clearable:"",size:"mini"},on:{clear:e.onSubmit},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit(t)}},model:{value:e.formInline.userid,callback:function(t){e.$set(e.formInline,"userid","string"===typeof t?t.trim():t)},expression:"formInline.userid"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"短ID："}},[a("el-input",{attrs:{placeholder:"请输入短id",clearable:"",size:"mini"},on:{clear:e.onSubmit},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit(t)}},model:{value:e.formInline.username,callback:function(t){e.$set(e.formInline,"username","string"===typeof t?t.trim():t)},expression:"formInline.username"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"渠道号："}},[a("el-input",{attrs:{placeholder:"请输入渠道号",clearable:"",size:"mini"},on:{clear:e.onSubmit},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit(t)}},model:{value:e.formInline.channel,callback:function(t){e.$set(e.formInline,"channel","string"===typeof t?t.trim():t)},expression:"formInline.channel"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.onSubmit}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-d-arrow-left",size:"mini"},on:{click:function(t){return e.handlePrev("prev")}}},[e._v("前一天")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.handlePrev("next")}}},[e._v("\n              后一天\n              "),a("span",{staticClass:"el-icon-d-arrow-right"})])],1)],1)],1)],1),e._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"dark","row-key":"proprId",stripe:""},on:{"sort-change":e.sortChange}},[a("el-table-column",{attrs:{type:"index","min-width":"50",label:"编号"}}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"","min-width":"70px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"anchor-info cursor",on:{click:function(a){return e.openDetail(t.row.userid)}}},[a("div",{staticClass:"profile-box"},[a("img",{staticClass:"profile",attrs:{src:t.row.avatar}})]),e._v(" "),"3"===t.row.status||"2"===t.row.status?a("br"):e._e(),e._v(" "),"3"===t.row.status?a("span",{staticStyle:{color:"#f56c6c"}},[e._v("禁言")]):"2"===t.row.status?a("span",{staticStyle:{color:"#f56c6c"}},[e._v("封号")]):e._e()])]}}])},[a("template",{slot:"header"},[a("span",[e._v("头像")]),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"提示文字",placement:"top"}},[a("i",{staticClass:"el-icon-question icon-color"})])],1)],2),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"","min-width":"120px",label:"昵称/ID"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticClass:"visitor-info-name",attrs:{title:"用户昵称"}},[e._v(e._s(t.row.nickname))]),e._v(" "),a("br"),e._v(" "),a("span",{staticClass:"gender-men",class:"1"===t.row.gender?"":"gender-women"},[e._v(e._s(t.row.age))]),e._v(" "),"1"===t.row.verify_status?a("span",{staticClass:"el-icon-video-camera-solid verify_status",attrs:{title:"视频认证"}}):e._e(),e._v(" "),a("span",{attrs:{title:"短ID"}},[e._v(e._s(t.row.username))]),e._v(" "),a("br"),e._v(" "),a("span",{attrs:{title:"用户ID"}},[e._v(e._s(t.row.userid))])]}}])}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"memo",label:"备注","min-width":"120px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"group_name",label:"工会","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"platform",label:"平台","min-width":"80px","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",sortable:"custom","min-width":"110px",prop:"registertime",label:"注册时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.parseTime(t.row.registertime)))]}}])}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",sortable:"custom","min-width":"110px",prop:"lastlogintime",label:"最近登陆"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.parseTime(t.row.lastlogintime)))]}}])}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",sortable:"custom",prop:"jifen_now",label:"当前收益"}},[a("template",{slot:"header"},[a("span",[e._v("当前收益")]),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"提示文字",placement:"top"}},[a("i",{staticClass:"el-icon-question icon-color"})])],1)],2),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",sortable:"custom",prop:"jifen_all",label:"历史收益","min-width":"120px"}},[a("template",{slot:"header"},[a("span",[e._v("历史收益")]),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"提示文字",placement:"top"}},[a("i",{staticClass:"el-icon-question icon-color"})])],1)],2),e._v(" "),a("el-table-column",{attrs:{label:"通话记录"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("a",{staticStyle:{"margin-right":"3px",color:"rgb(24, 144, 255)"},attrs:{href:"javascript:;"},on:{click:function(a){return e.toCallRecords(t.row)}}},[e._v("查看")])]}}])},[a("template",{slot:"header"},[a("span",[e._v("通话记录")]),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"提示文字",placement:"top"}},[a("i",{staticClass:"el-icon-question icon-color"})])],1)],2),e._v(" "),a("el-table-column",{attrs:{label:"审核状态"},scopedSlots:e._u([{key:"default",fn:function(t){return["2"===t.row.group_status?a("span",{staticStyle:{color:"#66b1ff"}},[e._v("待审核")]):"0"===t.row.group_status?a("span",{staticStyle:{color:"#f56c6c"}},[e._v("未通过")]):"1"===t.row.group_status?a("span",{staticStyle:{color:"#67c23a"}},[e._v("已通过")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"聊天记录","min-width":"140px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticStyle:{"margin-bottom":"5px"},attrs:{icon:"el-icon-chat-line-round",size:"mini",title:"聊天记录"},on:{click:function(a){return e.openChattingRecords(t.row)}}})]}}])},[a("template",{slot:"header"},[a("span",[e._v("聊天记录")]),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"提示文字",placement:"top"}},[a("i",{staticClass:"el-icon-question icon-color"})])],1)],2)],1),e._v(" "),a("my-pagination",{directives:[{name:"show",rawName:"v-show",value:e.totalNum>0,expression:"totalNum>0"}],attrs:{total:e.totalNum,page:e.formInline.pageNum,limit:e.formInline.pageSize,ext_stat:e.ext_stat},on:{"update:page":function(t){return e.$set(e.formInline,"pageNum",t)},"update:limit":function(t){return e.$set(e.formInline,"pageSize",t)},pagination:e.getOnlineList}})],1),e._v(" "),e.userDetail.userid?a("el-detail",{attrs:{userDetail:e.userDetail}}):e._e(),e._v(" "),e.chattingData.userid?a("chattingRecords",{attrs:{chattingData:e.chattingData}}):e._e()],1)},i=[],o=a("7f7e"),r=a("cafc"),l=a("b775");a("fed1");function s(e){return Object(l["a"])({url:"/organization/anchors/ajaxsearch",method:"GET",params:e})}var c=a("c2d3"),u={components:{chattingRecords:c["default"]},data:function(){return{gengerOptions:o["c"],platformOptions:o["g"],liveingStateOptions:o["e"],gstatusOptions:o["d"],groupOptions:[],totalNum:0,ext_stat:"",groupid:"",formInline:{date:{startday:"",endday:""},groupid:"",status:"",mobile:"",platform:"",nickname:"",userid:"",gender:"",username:"",channel:"",gstatus:"1",startday:"",endday:"",pageSize:20,pageNum:1,offset:0},tableData:[],channelOptions:[],userDetail:{timestamp:"",userid:""},chattingData:{timestamp:"",userid:""},chattingUserId:""}},created:function(){this.formInline.date.startday=this.getDateNow()[0],this.formInline.date.endday=this.getDateNow()[1],this.getOnlineList(),this.getGroupsOptions()},methods:{toCallRecords:function(e){this.$router.push({name:"union/callRecords",params:{username:e.username}})},onSubmit:function(){this.getOnlineList()},getOnlineList:function(){var e=this,t=JSON.parse(JSON.stringify(this.formInline));t.startday=t.date.startday,t.endday=t.date.endday,t.offset=(t.pageNum-1)*t.pageSize,delete t.date,s(t).then((function(t){0===t.code&&(e.tableData=t.data.items,e.ext_stat=t.data.ext_stat,e.groupid=t.data.groupid,e.totalNum=+t.data.total_rows)}))},getGroupsOptions:function(){var e=this;Object(r["a"])().then((function(t){0===t.code&&(e.groupOptions=t.data)}))},getChannelList:function(){var e=this,t={platform:"",version_proc_verifing:0,client_name:""};channel(t).then((function(t){0===t.code&&(e.channelOptions=t.data.items)}))},checkChannel:function(e){var t=this.channelOptions.filter((function(t){return t.client_id===e}));return t.length?t[0].client_name:""},openDetail:function(e){this.userDetail.timestamp=(new Date).getTime(),this.userDetail.userid=e},sortChange:function(e){e.column;var t=e.prop,a=e.order;console.log(a),this.formInline.orderByColumn=a?t:"id";var n="desc";"ascending"===a&&(n="asc"),this.formInline.isAsc=n,this.getOnlineList()},handleCurrentChange:function(e){this.formInline.pageNum=e,this.getOnlineList()},handlePrev:function(e){this.prevDate(this.formInline.date,e),this.getOnlineList()},openChattingRecords:function(e){this.chattingData.timestamp=(new Date).getTime(),this.chattingData.userid=e.userid,this.chattingData.username=e.username},closeDialog:function(e){this.chattingRecordsDialog=e}}},m=u,d=(a("f9c9"),a("8c07"),a("6e7b"),a("9ca4")),p=Object(d["a"])(m,n,i,!1,null,"2e8cfb5f",null);t["default"]=p.exports},"079f":function(e,t,a){},"0986":function(e,t,a){},"0a5a":function(e,t,a){"use strict";a.d(t,"h",(function(){return n})),a.d(t,"i",(function(){return i})),a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return r})),a.d(t,"j",(function(){return l})),a.d(t,"g",(function(){return s})),a.d(t,"f",(function(){return c})),a.d(t,"e",(function(){return u})),a.d(t,"d",(function(){return m})),a.d(t,"c",(function(){return d}));var n=[{value:"username",label:"短ID"},{value:"userid",label:"用户ID"}],i=[{value:"1",label:"成员数降序"}],o=[{value:"public",label:"对公"},{value:"private",label:"对私"}],r=[{value:"1",label:"按流水计算"},{value:"2",label:"按主播积分计算"}],l=[{value:"1",label:"正常"},{value:"0",label:"无效"}],s=[{value:"0",label:"成员"},{value:"1",label:"会长"}],c=[{value:"S+C",label:"底薪+提成"},{value:"R+C",label:"任务底薪+提成"},{value:"ensure",label:"保底"}],u=[{value:"H",label:"半月结"},{value:"M",label:"月结"}],m=[{value:"0",label:"---"},{value:"1",label:"任务奖励(半月)"}],d=[{value:"0",label:"---"},{value:"2",label:"任务奖励10%(半月)"}]},"0a5c":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.className,style:{height:e.height,width:e.width}})},i=[],o=a("24ce"),r=a.n(o),l=a("feb2");a("6cbb");var s=3e3,c={mixins:[l["default"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"}},data:function(){return{chart:null}},mounted:function(){var e=this;this.$nextTick((function(){e.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=r.a.init(this.$el,"macarons"),this.chart.setOption({tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},radar:{radius:"66%",center:["50%","42%"],splitNumber:8,splitArea:{areaStyle:{color:"rgba(127,95,132,.3)",opacity:1,shadowBlur:45,shadowColor:"rgba(0,0,0,.5)",shadowOffsetX:0,shadowOffsetY:15}},indicator:[{name:"Sales",max:1e4},{name:"Administration",max:2e4},{name:"Information Techology",max:2e4},{name:"Customer Support",max:2e4},{name:"Development",max:2e4},{name:"Marketing",max:2e4}]},legend:{left:"center",bottom:"10",data:["Allocated Budget","Expected Spending","Actual Spending"]},series:[{type:"radar",symbolSize:0,areaStyle:{normal:{shadowBlur:13,shadowColor:"rgba(0,0,0,.2)",shadowOffsetX:0,shadowOffsetY:10,opacity:1}},data:[{value:[5e3,7e3,12e3,11e3,15e3,14e3],name:"Allocated Budget"},{value:[4e3,9e3,15e3,15e3,13e3,11e3],name:"Expected Spending"},{value:[5500,11e3,12e3,15e3,12e3,12e3],name:"Actual Spending"}],animationDuration:s}]})}}},u=c,m=a("9ca4"),d=Object(m["a"])(u,n,i,!1,null,null,null);t["default"]=d.exports},"0ab7":function(e,t,a){},"0c42":function(e,t,a){},"0ce5":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"publicStyle"},[a("div",{staticClass:"publicStyle-conter"},[a(e.currentPage,{tag:"component",attrs:{obj:e.obj,"keep-alive":""},on:{changePage:e.changePage}})],1)])},i=[],o=(a("bbd8"),a("bebe")),r={name:"anchors",components:{LIST:o["default"]},data:function(){return{currentPage:"LIST",obj:{},activePage:"LIST"}},methods:{changePage:function(e,t){this.currentPage=e,t&&(this.obj=t)},changeActive:function(e){this.activePage=e,this.changePage(e)}}},l=r,s=(a("390d"),a("9ca4")),c=Object(s["a"])(l,n,i,!1,null,"348aa05c",null);t["default"]=c.exports},"0cfa":function(e,t,a){"use strict";var n=a("9f72"),i=a.n(n);i.a},"0d62":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"record"},[a("div",{staticClass:"record-conter"},[a("el-row",{staticClass:"record-top",staticStyle:{"margin-left":"0px","margin-right":"0px"},attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[a("el-form-item",{attrs:{label:"注册日期："}},[e.formInline.date.startday?a("dateTimePicker",{attrs:{date:e.formInline.date},on:{onSubmit:e.onSubmit}}):e._e()],1),e._v(" "),a("el-form-item",{attrs:{label:"用户状态："}},[a("el-select",{staticStyle:{width:"85px"},attrs:{clearable:"",placeholder:"请选择",size:"mini"},on:{change:e.onSubmit},model:{value:e.formInline.status,callback:function(t){e.$set(e.formInline,"status",t)},expression:"formInline.status"}},e._l(e.liveingStateOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"审核状态："}},[a("el-select",{staticStyle:{width:"85px"},attrs:{clearable:"",placeholder:"请选择",size:"mini"},on:{change:e.onSubmit},model:{value:e.formInline.gstatus,callback:function(t){e.$set(e.formInline,"gstatus",t)},expression:"formInline.gstatus"}},e._l(e.gstatusOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"性别："}},[a("el-select",{staticStyle:{width:"85px"},attrs:{clearable:"",placeholder:"请选择",size:"mini"},on:{change:e.onSubmit},model:{value:e.formInline.gender,callback:function(t){e.$set(e.formInline,"gender",t)},expression:"formInline.gender"}},e._l(e.gengerOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"设备："}},[a("el-select",{staticStyle:{width:"100px"},attrs:{clearable:"",placeholder:"请选择",size:"mini"},on:{change:e.onSubmit},model:{value:e.formInline.platform,callback:function(t){e.$set(e.formInline,"platform",t)},expression:"formInline.platform"}},e._l(e.platformOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"手机："}},[a("el-input",{attrs:{placeholder:"请输入",clearable:"",size:"mini",maxlength:"20"},on:{clear:e.onSubmit},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit(t)}},model:{value:e.formInline.mobile,callback:function(t){e.$set(e.formInline,"mobile","string"===typeof t?t.trim():t)},expression:"formInline.mobile"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"昵称："}},[a("el-input",{staticStyle:{width:"145px"},attrs:{placeholder:"请输入昵称关键字",clearable:"",size:"mini"},on:{clear:e.onSubmit},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit(t)}},model:{value:e.formInline.nickname,callback:function(t){e.$set(e.formInline,"nickname","string"===typeof t?t.trim():t)},expression:"formInline.nickname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"用户ID："}},[a("el-input",{attrs:{placeholder:"请输入用户id",clearable:"",size:"mini"},on:{clear:e.onSubmit},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit(t)}},model:{value:e.formInline.userid,callback:function(t){e.$set(e.formInline,"userid","string"===typeof t?t.trim():t)},expression:"formInline.userid"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"短ID："}},[a("el-input",{attrs:{placeholder:"请输入短id",clearable:"",size:"mini"},on:{clear:e.onSubmit},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit(t)}},model:{value:e.formInline.username,callback:function(t){e.$set(e.formInline,"username","string"===typeof t?t.trim():t)},expression:"formInline.username"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"渠道号："}},[a("el-input",{attrs:{placeholder:"请输入渠道号",clearable:"",size:"mini"},on:{clear:e.onSubmit},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit(t)}},model:{value:e.formInline.channel,callback:function(t){e.$set(e.formInline,"channel","string"===typeof t?t.trim():t)},expression:"formInline.channel"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.onSubmit}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-d-arrow-left",size:"mini"},on:{click:function(t){return e.handlePrev("prev")}}},[e._v("前一天")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.handlePrev("next")}}},[e._v("\n              后一天\n              "),a("span",{staticClass:"el-icon-d-arrow-right"})]),e._v(" "),a("el-button",{attrs:{type:"success",icon:"el-icon-circle-plus",plain:"",size:"mini"},on:{click:function(t){e.bind.bindDialog=!0}}},[e._v("绑定主播")])],1)],1)],1)],1),e._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"dark","row-key":"proprId",stripe:""},on:{"sort-change":e.sortChange}},[a("el-table-column",{attrs:{type:"index","min-width":"50",label:"编号"}}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"","min-width":"70px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"anchor-info cursor",on:{click:function(a){return e.openDetail(t.row.userid)}}},[a("div",{staticClass:"profile-box"},[a("img",{staticClass:"profile",attrs:{src:t.row.avatar,alt:""}})]),e._v(" "),"3"===t.row.status||"2"===t.row.status?a("br"):e._e(),e._v(" "),"3"===t.row.status?a("span",{staticStyle:{color:"#f56c6c"}},[e._v("禁言")]):"2"===t.row.status?a("span",{staticStyle:{color:"#f56c6c"}},[e._v("封号")]):e._e()])]}}])},[a("template",{slot:"header"},[a("span",[e._v("头像")]),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"提示文字",placement:"top"}},[a("i",{staticClass:"el-icon-question icon-color"})])],1)],2),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"","min-width":"120px",label:"昵称/ID"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticClass:"visitor-info-name",attrs:{title:"用户昵称"}},[e._v(e._s(t.row.nickname))]),e._v(" "),a("br"),e._v(" "),a("span",{staticClass:"gender-men",class:"1"===t.row.gender?"":"gender-women"},[e._v(e._s(t.row.age))]),e._v(" "),"1"===t.row.verify_status?a("span",{staticClass:"el-icon-video-camera-solid verify_status",attrs:{title:"视频认证"}}):e._e(),e._v(" "),a("span",{attrs:{title:"短ID"}},[e._v(e._s(t.row.username))]),e._v(" "),a("br"),e._v(" "),a("span",{attrs:{title:"用户ID"}},[e._v(e._s(t.row.userid))])]}}])}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"memo",label:"备注","min-width":"120px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"group_name",label:"工会","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"platform",label:"平台","min-width":"80px","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",sortable:"custom","min-width":"110px",prop:"registertime",label:"注册时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.parseTime(t.row.registertime)))]}}])}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",sortable:"custom","min-width":"110px",prop:"lastlogintime",label:"最近登陆"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.parseTime(t.row.lastlogintime)))]}}])}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",sortable:"custom",prop:"jifen_now",label:"当前收益"}},[a("template",{slot:"header"},[a("span",[e._v("当前收益")]),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"提示文字",placement:"top"}},[a("i",{staticClass:"el-icon-question icon-color"})])],1)],2),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",sortable:"custom",prop:"jifen_all",label:"历史收益","min-width":"120px"}},[a("template",{slot:"header"},[a("span",[e._v("历史收益")]),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"提示文字",placement:"top"}},[a("i",{staticClass:"el-icon-question icon-color"})])],1)],2),e._v(" "),a("el-table-column",{attrs:{label:"通话记录"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("a",{staticStyle:{"margin-right":"3px",color:"rgb(24, 144, 255)"},attrs:{href:"javascript:;"},on:{click:function(a){return e.toCallRecords(t.row)}}},[e._v("查看")])]}}])},[a("template",{slot:"header"},[a("span",[e._v("通话记录")]),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"提示文字",placement:"top"}},[a("i",{staticClass:"el-icon-question icon-color"})])],1)],2),e._v(" "),a("el-table-column",{attrs:{label:"审核状态"},scopedSlots:e._u([{key:"default",fn:function(t){return["2"===t.row.group_status?a("span",{staticStyle:{color:"#66b1ff"}},[e._v("待审核")]):"0"===t.row.group_status?a("span",{staticStyle:{color:"#f56c6c"}},[e._v("未通过")]):"1"===t.row.group_status?a("span",{staticStyle:{color:"#67c23a"}},[e._v("已通过")]):a("span",[e._v("-")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作","min-width":"140px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticStyle:{"margin-bottom":"5px"},attrs:{icon:"el-icon-chat-line-round",size:"mini",title:"聊天记录"},on:{click:function(a){return e.openChattingRecords(t.row)}}}),e._v(" "),a("el-button",{staticStyle:{"margin-bottom":"5px"},attrs:{icon:"el-icon-sell",size:"mini",title:"主播分成"},on:{click:function(a){return e.openMymember(t.row.userid)}}}),e._v(" "),a("el-button",{attrs:{type:"danger",icon:"el-icon-remove",plain:"",size:"mini"},on:{click:function(a){return e.removeBind(t.row)}}},[e._v("解绑")])]}}])},[a("template",{slot:"header"},[a("span",[e._v("操作")]),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"提示文字",placement:"top"}},[a("i",{staticClass:"el-icon-question icon-color"})])],1)],2)],1),e._v(" "),a("my-pagination",{directives:[{name:"show",rawName:"v-show",value:e.totalNum>0,expression:"totalNum>0"}],attrs:{total:e.totalNum,page:e.formInline.pageNum,limit:e.formInline.pageSize,ext_stat:e.ext_stat},on:{"update:page":function(t){return e.$set(e.formInline,"pageNum",t)},"update:limit":function(t){return e.$set(e.formInline,"pageSize",t)},pagination:e.getOnlineList}})],1),e._v(" "),e.userDetail.userid?a("detail",{attrs:{userDetail:e.userDetail}}):e._e(),e._v(" "),a("el-dialog",{attrs:{id:"bind-dialog",title:"绑定主播到公会",visible:e.bind.bindDialog,width:"500px","custom-class":"common-dialog"},on:{close:function(t){return e.resetForm("bindForm")},"update:visible":function(t){return e.$set(e.bind,"bindDialog",t)}}},[a("el-form",{ref:"bindForm",attrs:{rules:e.bind.rules,model:e.bind.bindForm,"label-width":"80px","label-position":"right","close-on-click-modal":!1}},[a("el-form-item",{attrs:{label:"主播手机",prop:"mobile"}},[a("el-input",{attrs:{maxlength:"11",placeholder:"请输入手机号"},model:{value:e.bind.bindForm.mobile,callback:function(t){e.$set(e.bind.bindForm,"mobile",t)},expression:"bind.bindForm.mobile"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"验证码",prop:"code"}},[a("el-row",[a("el-col",{staticStyle:{"margin-right":"10px"},attrs:{span:10}},[a("el-input",{attrs:{maxlength:"10",placeholder:"请输入验证码"},model:{value:e.bind.bindForm.code,callback:function(t){e.$set(e.bind.bindForm,"code",t)},expression:"bind.bindForm.code"}})],1),e._v(" "),a("el-col",{attrs:{span:10}},[a("el-button",{staticStyle:{width:"100%"},attrs:{type:"success",disabled:0!==e.bind.time},on:{click:function(t){return e.getCode("bindForm")}}},[a("span",[e._v("获取手机验证码")]),e._v(" "),e.bind.time?a("span",[e._v(e._s(e.bind.time)+"s")]):e._e()])],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"owner-dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){return e.resetForm("bindForm")}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("bindForm")}}},[e._v("确定")])],1)],1),e._v(" "),e.chattingData.userid?a("chattingRecords",{attrs:{chattingData:e.chattingData}}):e._e(),e._v(" "),e.mymemberData.id?a("mymember",{attrs:{mymemberData:e.mymemberData},on:{getOnlineList:e.getOnlineList}}):e._e()],1)},i=[],o=a("7f7e"),r=a("bff7"),l=a("f6be"),s=a("686d"),c=a("50b5"),u={components:{chattingRecords:l["default"],mymember:s["default"],detail:c["default"]},data:function(){return{gengerOptions:o["c"],platformOptions:o["g"],liveingStateOptions:o["e"],gstatusOptions:o["d"],totalNum:0,ext_stat:"",groupid:"",formInline:{groupid:this.$store.state.user.groupInfo.id,date:{startday:"",endday:""},status:"",mobile:"",platform:"",nickname:"",userid:"",gender:"",username:"",channel:"",gstatus:"",startday:"",endday:"",pageSize:20,pageNum:1,offset:0},startOptions:{disabledDate:!1},endOptions:{disabledDate:!1},tableData:[],channelOptions:[],dialogVisible:!1,bind:{time:0,bindDialog:!1,bindForm:{groupid:"",mobile:"",code:""},rules:{mobile:[{required:!0,message:"请输入手机号",trigger:"blur"},{pattern:/^1(3|4|5|6|7|8|9)\d{9}$/,message:"手机号格式不对",trigger:"blur"}],code:[{required:!0,message:"请输入验证码",trigger:"blur"}]}},userDetail:{timestamp:"",userid:""},chattingData:{timestamp:"",userid:""},chattingUserId:"",mymemberData:{}}},created:function(){this.formInline.date.startday=this.getDateNow()[0],this.formInline.date.endday=this.getDateNow()[1],this.getOnlineList()},methods:{toCallRecords:function(e){this.$router.push({name:"union/callRecords",params:{username:e.username}})},onSubmit:function(){this.getOnlineList()},getOnlineList:function(){var e=this,t=JSON.parse(JSON.stringify(this.formInline));t.startday=t.date.startday,t.endday=t.date.endday,t.offset=(t.pageNum-1)*t.pageSize,delete t.date,Object(r["f"])(t).then((function(t){0===t.code&&(e.tableData=t.data.items,e.groupid=t.data.groupid,e.totalNum=+t.data.total_rows,e.ext_stat=t.data.ext_stat)}))},getChannelList:function(){var e=this,t={platform:"",version_proc_verifing:0,client_name:""};Object(r["b"])(t).then((function(t){0===t.code&&(e.channelOptions=t.data.items)}))},checkChannel:function(e){var t=this.channelOptions.filter((function(t){return t.client_id===e}));return t.length?t[0].client_name:""},openDetail:function(e){this.userDetail.timestamp=(new Date).getTime(),this.userDetail.userid=e},sortChange:function(e){e.column;var t=e.prop,a=e.order;console.log(a),this.formInline.orderByColumn=a?t:"id";var n="desc";"ascending"===a&&(n="asc"),this.formInline.isAsc=n,this.getOnlineList()},handleSizeChange:function(e){this.formInline.pageNum=1,this.formInline.pageSize=e,this.getOnlineList()},handleCurrentChange:function(e){this.formInline.pageNum=e,this.getOnlineList()},handlePrev:function(e){this.prevDate(this.formInline.date,e),this.getOnlineList()},openChattingRecords:function(e){this.chattingData.timestamp=(new Date).getTime(),this.chattingData.userid=e.userid,this.chattingData.username=e.username},closeDialog:function(e){this.chattingRecordsDialog=e},resetForm:function(e){this.$refs[e].resetFields(),this.bind.bindDialog=!1},getCode:function(e){var t=this;if(this.bind.time)return!1;this.$refs[e].validateField("mobile",(function(e){if(!e){var a={mobile:t.bind.bindForm.mobile};Object(r["d"])(a).then((function(e){0===e.code&&(t.$message.success(e.info),t.bind.time=30,t.bind.interval=setInterval((function(){t.bind.time>0?t.bind.time--:clearInterval(t.bind.interval)}),1e3))}))}}))},submitForm:function(e){var t=this;this.$refs[e].validate((function(a){if(!a)return!1;var n=JSON.parse(JSON.stringify(t.bind.bindForm));if(console.log(t.$store.state.user.groupInfo),!t.$store.state.user.groupInfo.id)return t.$message.error("当前用户未绑定公会!"),!1;n.groupid=t.$store.state.user.groupInfo.id,Object(r["a"])(n).then((function(a){0===a.code&&(t.$message.success(a.info),t.$refs[e].resetFields(),t.getOnlineList(),t.bind.bindDialog=!1)}))}))},removeBind:function(e){var t=this;this.$confirm("是否解绑该用户?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var a={groupid:t.$store.state.user.groupInfo.id,userid:e.userid};Object(r["g"])(a).then((function(e){0===e.code&&(t.$message.success(e.info),t.getOnlineList())}))}))},openMymember:function(e){this.mymemberData={timestamp:(new Date).getTime(),id:e}}}},m=u,d=(a("637f"),a("b3cf"),a("83e2"),a("9ca4")),p=Object(d["a"])(m,n,i,!1,null,"5f8ba2c0",null);t["default"]=p.exports},"0eed":function(e,t,a){},"114f":function(e,t,a){},"159d":function(e,t,a){},"15e87":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"publicStyle"},[a("div",{staticClass:"publicStyle-conter"},[a(e.currentPage,{tag:"component",attrs:{obj:e.obj,"keep-alive":""},on:{changePage:e.changePage}})],1)])},i=[],o=(a("bbd8"),a("de2e")),r={name:"anchors",components:{LIST:o["default"]},data:function(){return{currentPage:"LIST",obj:{},activePage:"LIST"}},methods:{changePage:function(e,t){this.currentPage=e,t&&(this.obj=t)},changeActive:function(e){this.activePage=e,this.changePage(e)}}},l=r,s=(a("dedc"),a("9ca4")),c=Object(s["a"])(l,n,i,!1,null,"239270d3",null);t["default"]=c.exports},1773:function(e,t,a){"use strict";var n=a("7ea2"),i=a.n(n);i.a},"18a4":function(e,t,a){},1938:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"record"},[a("div",{staticClass:"record-conter"},[a("el-row",{staticClass:"record-top",staticStyle:{"margin-left":"0px","margin-right":"0px"},attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[a("el-form-item",{attrs:{label:"日期："}},[e.formInline.date.startday?a("dateTimePicker",{attrs:{date:e.formInline.date},on:{onSubmit:e.onSubmit}}):e._e()],1),e._v(" "),a("el-form-item",{attrs:{label:"送出方："}},[a("el-select",{staticStyle:{width:"85px"},attrs:{clearable:"",placeholder:"性别",size:"mini"},on:{change:e.onSubmit},model:{value:e.formInline.f_gender,callback:function(t){e.$set(e.formInline,"f_gender",t)},expression:"formInline.f_gender"}},e._l(e.gengerOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1),e._v(" "),a("el-input",{attrs:{placeholder:"请输入短ID",clearable:"",size:"mini",maxlength:"200"},on:{clear:e.onSubmit},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit(t)}},model:{value:e.formInline.f_username,callback:function(t){e.$set(e.formInline,"f_username","string"===typeof t?t.trim():t)},expression:"formInline.f_username"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"接收方："}},[a("el-select",{staticStyle:{width:"85px"},attrs:{clearable:"",placeholder:"性别",size:"mini"},on:{change:e.onSubmit},model:{value:e.formInline.t_gender,callback:function(t){e.$set(e.formInline,"t_gender",t)},expression:"formInline.t_gender"}},e._l(e.gengerOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1),e._v(" "),a("el-input",{attrs:{placeholder:"请输入短ID",clearable:"",size:"mini",maxlength:"200"},on:{clear:e.onSubmit},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit(t)}},model:{value:e.formInline.t_username,callback:function(t){e.$set(e.formInline,"t_username","string"===typeof t?t.trim():t)},expression:"formInline.t_username"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"搜索："}},[a("el-input",{attrs:{placeholder:"请输入礼物名称",clearable:"",size:"mini",maxlength:"200"},on:{clear:e.onSubmit},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit(t)}},model:{value:e.formInline.name,callback:function(t){e.$set(e.formInline,"name","string"===typeof t?t.trim():t)},expression:"formInline.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"金币："}},[a("el-input",{attrs:{placeholder:"最小金币",clearable:"",size:"mini",maxlength:"200"},on:{clear:e.onSubmit},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit(t)}},model:{value:e.formInline.min_gold,callback:function(t){e.$set(e.formInline,"min_gold","string"===typeof t?t.trim():t)},expression:"formInline.min_gold"}}),e._v(" "),a("span",[e._v("-")]),e._v(" "),a("el-input",{attrs:{placeholder:"最大金币",clearable:"",size:"mini",maxlength:"200"},on:{clear:e.onSubmit},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit(t)}},model:{value:e.formInline.max_gold,callback:function(t){e.$set(e.formInline,"max_gold","string"===typeof t?t.trim():t)},expression:"formInline.max_gold"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"积分："}},[a("el-input",{attrs:{placeholder:"最小积分",clearable:"",size:"mini",maxlength:"200"},on:{clear:e.onSubmit},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit(t)}},model:{value:e.formInline.min_jifen,callback:function(t){e.$set(e.formInline,"min_jifen","string"===typeof t?t.trim():t)},expression:"formInline.min_jifen"}}),e._v(" "),a("span",[e._v("-")]),e._v(" "),a("el-input",{attrs:{placeholder:"最大积分",clearable:"",size:"mini",maxlength:"200"},on:{clear:e.onSubmit},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit(t)}},model:{value:e.formInline.max_jifen,callback:function(t){e.$set(e.formInline,"max_jifen","string"===typeof t?t.trim():t)},expression:"formInline.max_jifen"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.onSubmit}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-d-arrow-left",size:"mini"},on:{click:function(t){return e.handlePrev("prev")}}},[e._v("前一天")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.handlePrev("next")}}},[e._v("\n              后一天\n              "),a("span",{staticClass:"el-icon-d-arrow-right"})])],1)],1)],1)],1),e._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"dark","row-key":"id"},on:{"sort-change":e.sortChange}},[a("el-table-column",{attrs:{type:"index","min-width":"45",label:"编号"}}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"","min-width":"70px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"anchor-info cursor",on:{click:function(a){return e.openDetail(t.row.send)}}},[a("div",{staticClass:"profile-box"},[a("img",{staticClass:"profile",attrs:{src:t.row.f_avatar,alt:""}})]),e._v(" "),"3"===t.row.f_status||"2"===t.row.f_status?a("br"):e._e(),e._v(" "),"3"===t.row.f_status?a("span",{staticStyle:{color:"#f56c6c"}},[e._v("禁言")]):"2"===t.row.f_status?a("span",{staticStyle:{color:"#f56c6c"}},[e._v("封号")]):e._e()])]}}])},[a("template",{slot:"header"},[a("span",[e._v("头像")]),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"提示文字",placement:"top"}},[a("i",{staticClass:"el-icon-question icon-color"})])],1)],2),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"","min-width":"120px",label:"昵称/ID"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticClass:"visitor-info-name",attrs:{title:"用户昵称"}},[e._v(e._s(t.row.f_nickname))]),e._v(" "),a("br"),e._v(" "),a("span",{staticClass:"gender-men",class:"1"===t.row.f_gender?"":"gender-women"},[e._v(e._s(t.row.f_age))]),e._v(" "),"1"===t.row.f_verify_status?a("span",{staticClass:"el-icon-video-camera-solid verify_status",attrs:{title:"视频认证"}}):e._e(),e._v(" "),a("span",{attrs:{title:"短ID"}},[e._v(e._s(t.row.f_username))]),e._v(" "),a("br"),e._v(" "),a("span",{attrs:{title:"用户ID"}},[e._v(e._s(t.row.fromid))])]}}])}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"","min-width":"70px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"anchor-info cursor",on:{click:function(a){return e.openDetail(t.row.receive)}}},[a("div",{staticClass:"profile-box"},[a("img",{staticClass:"profile",attrs:{src:t.row.t_avatar,alt:""}})]),e._v(" "),"3"===t.row.t_status||"2"===t.row.t_status?a("br"):e._e(),e._v(" "),"3"===t.row.t_status?a("span",{staticStyle:{color:"#f56c6c"}},[e._v("禁言")]):"2"===t.row.t_status?a("span",{staticStyle:{color:"#f56c6c"}},[e._v("封号")]):e._e()])]}}])},[a("template",{slot:"header"},[a("span",[e._v("头像")]),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"提示文字",placement:"top"}},[a("i",{staticClass:"el-icon-question icon-color"})])],1)],2),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"","min-width":"120px",label:"昵称/ID"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticClass:"visitor-info-name",attrs:{title:"用户昵称"}},[e._v(e._s(t.row.t_nickname))]),e._v(" "),a("br"),e._v(" "),a("span",{staticClass:"gender-men",class:"1"===t.row.t_gender?"":"gender-women"},[e._v(e._s(t.row.t_age))]),e._v(" "),"1"===t.row.t_verify_status?a("span",{staticClass:"el-icon-video-camera-solid verify_status",attrs:{title:"视频认证"}}):e._e(),e._v(" "),a("span",{attrs:{title:"短ID"}},[e._v(e._s(t.row.t_username))]),e._v(" "),a("br"),e._v(" "),a("span",{attrs:{title:"用户ID"}},[e._v(e._s(t.row.toid))])]}}])}),e._v(" "),a("el-table-column",{attrs:{"min-width":"80",label:"礼物"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{attrs:{title:"礼物"}},[e._v(e._s(t.row.name)+" x "+e._s(t.row.gift_num))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"goldcoin","min-width":"80",label:"金币"}}),e._v(" "),a("el-table-column",{attrs:{prop:"jifen","min-width":"80",label:"积分"}}),e._v(" "),a("el-table-column",{attrs:{prop:"time","min-width":"110",label:"时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.parseTime(t.row.dateline)))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作","min-width":"130px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{icon:"el-icon-view",size:"mini",title:"查看详情"},on:{click:function(a){return e.openOrder(t.row.id)}}})]}}])})],1),e._v(" "),a("my-pagination",{directives:[{name:"show",rawName:"v-show",value:e.totalNum>0,expression:"totalNum>0"}],attrs:{total:e.totalNum,page:e.formInline.pageNum,limit:e.formInline.pageSize,ext_stat:e.ext_stat},on:{"update:page":function(t){return e.$set(e.formInline,"pageNum",t)},"update:limit":function(t){return e.$set(e.formInline,"pageSize",t)},pagination:e.getOnlineList}})],1),e._v(" "),e.userDetail.userid?a("el-detail",{attrs:{userDetail:e.userDetail}}):e._e(),e._v(" "),a("el-dialog",{attrs:{id:"creditlogs-dialog",title:"查看详情",visible:e.orderDetail.orderDialog,width:"600px","custom-class":"common-dialog"},on:{"update:visible":function(t){return e.$set(e.orderDetail,"orderDialog",t)}}},[a("table",{staticClass:"table table-striped table-bordered table-hover view-userinfo"},[a("tbody",e._l(e.orderDetail.columns,(function(t,n){return a("tr",{key:n},[a("td",{attrs:{width:"30%"}},[e._v(e._s(t.label))]),e._v(" "),a("td",{attrs:{width:"70%"}},["dateline"===t.name?a("span",[e._v(e._s(e.parseTime(e.orderDetail.orderForm[t.name])))]):a("span",[e._v(e._s(e.orderDetail.orderForm[t.name]))])])])})),0)]),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.orderDetail.orderDialog=!1}}},[e._v("取 消")])],1)])],1)},i=[],o=(a("163d"),a("b449"),a("6648")),r=(a("6d57"),a("b775"));a("fed1");function l(e){return Object(r["a"])({url:"/union/anchorsGift_log/ajaxsearch",method:"GET",params:e})}function s(e){return Object(r["a"])({url:"/order/gift_log/view/".concat(e),method:"GET"})}var c=a("7f7e"),u={name:"users",data:function(){return{gengerOptions:c["c"],cmdTypeOptions:c["b"],msgTypeOptions:c["f"],totalNum:0,formInline:{groupid:this.$store.state.user.groupInfo.id,date:{startday:"",endday:""},f_gender:"",f_username:"",t_gender:"",t_username:"",name:"",min_gold:"",max_gold:"",min_jifen:"",max_jifen:"",startday:"",endday:"",pageSize:20,pageNum:1,offset:0},ext_stat:"",tableData:[],operationOptions:[],orderDetail:{orderForm:{},columns:{},orderDialog:!1,tableColumns:["id","fromid","toid","msgtype","fromClientType","cmd","msgcontent","time"]},userDetail:{timestamp:"",userid:""},ruleFormDialog:!1,ruleFormTitle:"",refundData:{},ruleForm:{id:"",ids:"",isAll:!1,isseven:""},rules:{},multipleSelection:[]}},created:function(){this.formInline.date.startday=this.getDateNow()[0],this.formInline.date.endday=this.getDateNow()[1],this.getOnlineList()},methods:{see:function(e){var t={id:e.id,orderNo:e.orderNo};this.$emit("changePage","SEE",t)},onSubmit:function(){this.getOnlineList()},getOnlineList:function(){var e=this,t=JSON.parse(JSON.stringify(this.formInline));t.startday=t.date.startday,t.endday=t.date.endday,t.offset=(t.pageNum-1)*t.pageSize,delete t.date,l(t).then((function(t){0===t.code&&(t.data.items.forEach((function(e){"PICTURE"!==e.msgtype&&"VIDEO"!==e.msgtype&&"AUDIO"!==e.msgtype&&("CUSTOM"!==e.msgtype||"TEXT"!==e.cmd&&"RICH_TEXT"!==e.cmd)&&"gift"!==e.cmd||(e.msgcontent=JSON.parse(e.msgcontent))})),e.tableData=t.data.items,e.ext_stat=t.data.ext_stat,e.totalNum=+t.data.total_rows)}))},sortChange:function(e){e.column;var t=e.prop,a=e.order;console.log(t),this.formInline.orderByColumn=t,null==a&&(console.log("空---按id排序"),this.formInline.orderByColumn="id");var n="DESC";"ascending"===a&&(n="ASC"),this.formInline.isAsc=n},handlePrev:function(e){this.prevDate(this.formInline.date,e),this.getOnlineList()},openOrder:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s(t);case 2:a=e.sent,a&&0===a.code&&(this.orderDetail.orderForm=a.data.item,this.orderDetail.columns=a.data.columns,this.orderDetail.orderDialog=!0);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),openDetail:function(e){this.userDetail.timestamp=(new Date).getTime(),this.userDetail.userid=e},closeDialog:function(e){this.detailDialog.detailDialog=e},openEdit:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,a,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.ruleFormTitle=t,"新增"!==t){e.next=5;break}this.ruleFormDialog=!0,e.next=12;break;case 5:if("撤回消息"!==t){e.next=11;break}this.ruleFormTitle="确定撤回吗?",n?(this.ruleForm.id="",this.ruleForm.ids=this.multipleSelection.map((function(e){return e.id})).join(","),this.ruleForm.isAll=!0):(this.ruleForm.id=a,this.ruleForm.ids="",this.ruleForm.isAll=!1),this.ruleFormDialog=!0,e.next=12;break;case 11:return e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,this)})));function t(t,a,n){return e.apply(this,arguments)}return t}(),submitForm:function(e){var t=this;this.ruleForm.isAll&&0===this.multipleSelection.length&&this.$message.error("您没有勾选任何消息哦！"),this.$refs[e].validate((function(a){if(!a)return!1;var n=JSON.parse(JSON.stringify(t.ruleForm));if(n.isAll){var i={str_id:n.ids,isseven:n.isseven?1:""};withdraw_all_by_ids(i).then((function(a){a&&0===a.code&&(t.$message.success({message:a.info}),t.$refs["multipleTable"].clearSelection(),t.closeRulesFormDialog(e),t.getOnlineList())}))}else{var o={id:n.id,data:{isseven:n.isseven?1:""}};withdraw_by_id(o).then((function(a){a&&0===a.code&&(t.$message.success({message:a.info}),t.closeRulesFormDialog(e),t.getOnlineList())}))}}))},closeRulesFormDialog:function(e){this.$refs[e].resetFields(),this.ruleFormDialog=!1},deleteMsg:function(e){var t=this;this.$confirm("确认删除此消息吗,是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){delete_by_id(e).then((function(e){e&&0===e.code&&(t.$message.success({message:e.info}),t.getOnlineList())}))})).catch((function(){return!1}))},getSummaries:function(e){var t=e.columns,a=e.data,n=[];return t.forEach((function(e,t){if(0!==t)if("total_price"===e.property){var i=a.map((function(e){return Number(e["total_price"])})),o=0;i.forEach((function(e){o+=e})),n[t]=o+"元"}else n[t]="";else n[t]="合计"})),n}}},m=u,d=(a("4163"),a("3296"),a("4ecd"),a("9ca4")),p=Object(d["a"])(m,n,i,!1,null,"69ef7ed6",null);t["default"]=p.exports},"1a2c":function(e,t,a){"use strict";var n=a("014c"),i=a.n(n);i.a},"1b60":function(e,t,a){"use strict";var n=a("ed7c"),i=a.n(n);i.a},"1da1":function(e,t,a){},"1e4b":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dashboard-editor-container"},[a("panel-group",{on:{handleSetLineChartData:e.handleSetLineChartData}}),e._v(" "),a("el-row",{staticStyle:{background:"#fff",padding:"16px 16px 0","margin-bottom":"32px"}},[a("line-chart",{attrs:{"chart-data":e.lineChartData}})],1),e._v(" "),a("el-row",{attrs:{gutter:32}},[a("el-col",{attrs:{xs:24,sm:24,lg:8}},[a("div",{staticClass:"chart-wrapper"},[a("raddar-chart")],1)]),e._v(" "),a("el-col",{attrs:{xs:24,sm:24,lg:8}},[a("div",{staticClass:"chart-wrapper"},[a("pie-chart")],1)]),e._v(" "),a("el-col",{attrs:{xs:24,sm:24,lg:8}},[a("div",{staticClass:"chart-wrapper"},[a("bar-chart")],1)])],1)],1)},i=[],o=a("fbc4"),r=a("eab4"),l=a("0a5c"),s=a("d153"),c=a("9488"),u={newVisitis:{expectedData:[100,120,161,134,105,160,165],actualData:[120,82,91,154,162,140,145]},messages:{expectedData:[200,192,120,144,160,130,140],actualData:[180,160,151,106,145,150,130]},purchases:{expectedData:[80,100,121,104,105,90,100],actualData:[120,90,100,138,142,130,130]},shoppings:{expectedData:[130,140,141,142,145,150,160],actualData:[120,82,91,154,162,140,130]}},m={name:"Index",components:{PanelGroup:o["default"],LineChart:r["default"],RaddarChart:l["default"],PieChart:s["default"],BarChart:c["default"]},data:function(){return{lineChartData:u.newVisitis}},methods:{handleSetLineChartData:function(e){this.lineChartData=u[e]}}},d=m,p=(a("87fd"),a("9ca4")),f=Object(p["a"])(d,n,i,!1,null,"faf97f02",null);t["default"]=f.exports},"1e58":function(e,t,a){},"1e8b":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"form",attrs:{model:e.user,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"用户名称",prop:"name"}},[a("el-input",{model:{value:e.user.name,callback:function(t){e.$set(e.user,"name",t)},expression:"user.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号码",prop:"phone"}},[a("el-input",{attrs:{maxlength:"11"},model:{value:e.user.phone,callback:function(t){e.$set(e.user,"phone",t)},expression:"user.phone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{attrs:{maxlength:"50"},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"性别"}},[a("el-radio-group",{model:{value:e.user.dictSex,callback:function(t){e.$set(e.user,"dictSex",t)},expression:"user.dictSex"}},[a("el-radio",{attrs:{label:"1"}},[e._v("男")]),e._v(" "),a("el-radio",{attrs:{label:"2"}},[e._v("女")])],1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.submit}},[e._v("保存")])],1)],1)},i=[],o=a("c0c7"),r={props:{user:{type:Object}},data:function(){return{rules:{name:[{required:!0,message:"用户昵称不能为空",trigger:"blur"}],email:[{type:"email",message:"'请输入正确的邮箱地址",trigger:["blur","change"]}],phone:[{required:!0,message:"手机号码不能为空",trigger:"blur"},{pattern:/^1[3|4|5|6|7|8|9][0-9]\d{8}$/,message:"请输入正确的手机号码",trigger:"blur"}]}}},methods:{submit:function(){var e=this;this.$refs["form"].validate((function(t){t&&Object(o["k"])(e.user).then((function(t){0===t.code&&e.msgSuccess("修改成功")}))}))},close:function(){this.$store.dispatch("tagsView/delView",this.$route),this.$router.push({path:"/index"})}}},l=r,s=a("9ca4"),c=Object(s["a"])(l,n,i,!1,null,null,null);t["default"]=c.exports},"1f34":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:4,xs:24}},[a("div",{staticClass:"head-container"},[a("el-input",{staticStyle:{"margin-bottom":"20px"},attrs:{placeholder:"请输入部门名称",clearable:"",size:"small","prefix-icon":"el-icon-search"},model:{value:e.deptName,callback:function(t){e.deptName=t},expression:"deptName"}})],1),e._v(" "),a("div",{staticClass:"head-container"},[a("el-tree",{ref:"tree",attrs:{data:e.deptOptions,props:e.defaultProps,"expand-on-click-node":!1,"filter-node-method":e.filterNode,"default-expand-all":""},on:{"node-click":e.handleNodeClick}})],1)]),e._v(" "),a("el-col",{attrs:{span:20,xs:24}},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"用户名称",prop:"userName"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入用户名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.userName,callback:function(t){e.$set(e.queryParams,"userName",t)},expression:"queryParams.userName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号码",prop:"phonenumber"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入手机号码",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.phonenumber,callback:function(t){e.$set(e.queryParams,"phonenumber",t)},expression:"queryParams.phonenumber"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{staticStyle:{width:"240px"},attrs:{placeholder:"用户状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"创建时间"}},[a("el-date-picker",{staticStyle:{width:"240px"},attrs:{size:"small","value-format":"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.dateRange,callback:function(t){e.dateRange=t},expression:"dateRange"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:user:add"],expression:"['system:user:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:user:edit"],expression:"['system:user:edit']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:user:remove"],expression:"['system:user:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:user:import"],expression:"['system:user:import']"}],attrs:{type:"info",icon:"el-icon-upload2",size:"mini"},on:{click:e.handleImport}},[e._v("导入")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:user:export"],expression:"['system:user:export']"}],attrs:{type:"warning",icon:"el-icon-download",size:"mini"},on:{click:e.handleExport}},[e._v("导出")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.userList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"50",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"用户编号",align:"center",prop:"userId"}}),e._v(" "),a("el-table-column",{attrs:{label:"用户名称",align:"center",prop:"userName","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"用户昵称",align:"center",prop:"nickName","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"部门",align:"center",prop:"dept.deptName","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"手机号码",align:"center",prop:"phonenumber",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{label:"状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-value":"0","inactive-value":"1"},on:{change:function(a){return e.handleStatusChange(t.row)}},model:{value:t.row.status,callback:function(a){e.$set(t.row,"status",a)},expression:"scope.row.status"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createTime)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"180","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:user:edit"],expression:"['system:user:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),1!==t.row.userId?a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:user:remove"],expression:"['system:user:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")]):e._e(),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:user:resetPwd"],expression:"['system:user:resetPwd']"}],attrs:{size:"mini",type:"text",icon:"el-icon-key"},on:{click:function(a){return e.handleResetPwd(t.row)}}},[e._v("重置")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}})],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"600px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"用户昵称",prop:"nickName"}},[a("el-input",{attrs:{placeholder:"请输入用户昵称"},model:{value:e.form.nickName,callback:function(t){e.$set(e.form,"nickName",t)},expression:"form.nickName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"归属部门",prop:"deptId"}},[a("treeselect",{attrs:{options:e.deptOptions,"disable-branch-nodes":!0,"show-count":!0,placeholder:"请选择归属部门"},model:{value:e.form.deptId,callback:function(t){e.$set(e.form,"deptId",t)},expression:"form.deptId"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"手机号码",prop:"phonenumber"}},[a("el-input",{attrs:{placeholder:"请输入手机号码",maxlength:"11"},model:{value:e.form.phonenumber,callback:function(t){e.$set(e.form,"phonenumber",t)},expression:"form.phonenumber"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{attrs:{placeholder:"请输入邮箱",maxlength:"50"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[void 0==e.form.userId?a("el-form-item",{attrs:{label:"用户名称",prop:"userName"}},[a("el-input",{attrs:{placeholder:"请输入用户名称"},model:{value:e.form.userName,callback:function(t){e.$set(e.form,"userName",t)},expression:"form.userName"}})],1):e._e()],1),e._v(" "),a("el-col",{attrs:{span:12}},[void 0==e.form.userId?a("el-form-item",{attrs:{label:"用户密码",prop:"password"}},[a("el-input",{attrs:{placeholder:"请输入用户密码",type:"password"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1):e._e()],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"用户性别"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.sex,callback:function(t){e.$set(e.form,"sex",t)},expression:"form.sex"}},e._l(e.sexOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"状态"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusOptions,(function(t){return a("el-radio",{key:t.dictValue,attrs:{label:t.dictValue}},[e._v(e._s(t.dictLabel))])})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"岗位"}},[a("el-select",{attrs:{multiple:"",placeholder:"请选择"},model:{value:e.form.postIds,callback:function(t){e.$set(e.form,"postIds",t)},expression:"form.postIds"}},e._l(e.postOptions,(function(e){return a("el-option",{key:e.postId,attrs:{label:e.postName,value:e.postId,disabled:1==e.status}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"角色"}},[a("el-select",{attrs:{multiple:"",placeholder:"请选择"},model:{value:e.form.roleIds,callback:function(t){e.$set(e.form,"roleIds",t)},expression:"form.roleIds"}},e._l(e.roleOptions,(function(e){return a("el-option",{key:e.roleId,attrs:{label:e.roleName,value:e.roleId,disabled:1==e.status}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.upload.title,visible:e.upload.open,width:"400px","append-to-body":""},on:{"update:visible":function(t){return e.$set(e.upload,"open",t)}}},[a("el-upload",{ref:"upload",attrs:{limit:1,accept:".xlsx, .xls",headers:e.upload.headers,action:e.upload.url+"?updateSupport="+e.upload.updateSupport,disabled:e.upload.isUploading,"on-progress":e.handleFileUploadProgress,"on-success":e.handleFileSuccess,"auto-upload":!1,drag:""}},[a("i",{staticClass:"el-icon-upload"}),e._v(" "),a("div",{staticClass:"el-upload__text"},[e._v("\n        将文件拖到此处，或\n        "),a("em",[e._v("点击上传")])]),e._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[a("el-checkbox",{model:{value:e.upload.updateSupport,callback:function(t){e.$set(e.upload,"updateSupport",t)},expression:"upload.updateSupport"}}),e._v("是否更新已经存在的用户数据\n        "),a("el-link",{staticStyle:{"font-size":"12px"},attrs:{type:"info"},on:{click:e.importTemplate}},[e._v("下载模板")])],1),e._v(" "),a("div",{staticClass:"el-upload__tip",staticStyle:{color:"red"},attrs:{slot:"tip"},slot:"tip"},[e._v("提示：仅允许导入“xls”或“xlsx”格式文件！")])]),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitFileForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:function(t){e.upload.open=!1}}},[e._v("取 消")])],1)],1)],1)},i=[],o=a("c0c7"),r=a("5f87"),l=a("fcb7"),s=a("7d66"),c=a.n(s),u=(a("5166"),{name:"User",components:{Treeselect:c.a},data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,userList:null,title:"",deptOptions:void 0,open:!1,deptName:void 0,initPassword:void 0,dateRange:[],statusOptions:[],sexOptions:[],postOptions:[],roleOptions:[],form:{},defaultProps:{children:"children",label:"label"},upload:{open:!1,title:"",isUploading:!1,updateSupport:0,headers:{Authorization:"Bearer "+Object(r["a"])()},url:"/index.php/system/user/importData"},queryParams:{pageNum:1,pageSize:10,userName:void 0,phonenumber:void 0,status:void 0,deptId:void 0},rules:{userName:[{required:!0,message:"用户名称不能为空",trigger:"blur"}],nickName:[{required:!0,message:"用户昵称不能为空",trigger:"blur"}],deptId:[{required:!0,message:"归属部门不能为空",trigger:"blur"}],password:[{required:!0,message:"用户密码不能为空",trigger:"blur"}],email:[{required:!0,message:"邮箱地址不能为空",trigger:"blur"},{type:"email",message:"'请输入正确的邮箱地址",trigger:["blur","change"]}],phonenumber:[{required:!0,message:"手机号码不能为空",trigger:"blur"},{pattern:/^1[3|4|5|6|7|8|9][0-9]\d{8}$/,message:"请输入正确的手机号码",trigger:"blur"}]}}},watch:{deptName:function(e){this.$refs.tree.filter(e)}},created:function(){var e=this;this.getList(),this.getTreeselect(),this.getDicts("sys_normal_disable").then((function(t){e.statusOptions=t.data})),this.getDicts("sys_user_sex").then((function(t){e.sexOptions=t.data})),this.getConfigKey("sys.user.initPassword").then((function(t){e.initPassword=t.msg}))},methods:{getList:function(){var e=this;this.loading=!0,Object(o["h"])(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.userList=t.rows,e.total=t.total,e.loading=!1}))},getTreeselect:function(){var e=this;Object(l["g"])().then((function(t){e.deptOptions=t.data}))},filterNode:function(e,t){return!e||-1!==t.label.indexOf(e)},handleNodeClick:function(e){this.queryParams.deptId=e.id,this.getList()},handleStatusChange:function(e){var t=this,a="0"===e.status?"启用":"停用";this.$confirm('确认要"'+a+'""'+e.userName+'"用户吗?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["b"])(e.userId,e.status)})).then((function(){t.msgSuccess(a+"成功")})).catch((function(){e.status="0"===e.status?"1":"0"}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={userId:void 0,deptId:void 0,userName:void 0,nickName:void 0,password:void 0,phonenumber:void 0,email:void 0,sex:void 0,status:"0",remark:void 0,postIds:[],roleIds:[]},this.resetForm("form")},handleQuery:function(){this.queryParams.page=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.userId})),this.single=1!=e.length,this.multiple=!e.length},handleAdd:function(){var e=this;this.reset(),this.getTreeselect(),Object(o["e"])().then((function(t){e.postOptions=t.posts,e.roleOptions=t.roles,e.open=!0,e.title="添加用户",e.form.password=e.initPassword}))},handleUpdate:function(e){var t=this;this.reset(),this.getTreeselect();var a=e.userId||this.ids;Object(o["e"])(a).then((function(e){t.form=e.data,t.postOptions=e.posts,t.roleOptions=e.roles,t.form.postIds=e.postIds,t.form.roleIds=e.roleIds,t.open=!0,t.title="修改用户",t.form.password=""}))},handleResetPwd:function(e){var t=this;this.$prompt('请输入"'+e.userName+'"的新密码',"提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then((function(a){var n=a.value;Object(o["i"])(e.userId,n).then((function(e){200===e.code&&t.msgSuccess("修改成功，新密码是："+n)}))})).catch((function(){}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.userId?Object(o["j"])(e.form).then((function(t){200===t.code&&(e.msgSuccess("修改成功"),e.open=!1,e.getList())})):Object(o["a"])(e.form).then((function(t){200===t.code&&(e.msgSuccess("新增成功"),e.open=!1,e.getList())})))}))},handleDelete:function(e){var t=this,a=e.userId||this.ids;this.$confirm('是否确认删除用户编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["c"])(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有用户数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["d"])(t)})).then((function(t){e.download(t.msg)})).catch((function(){}))},handleImport:function(){this.upload.title="用户导入",this.upload.open=!0},importTemplate:function(){var e=this;Object(o["g"])().then((function(t){e.download(t.msg)}))},handleFileUploadProgress:function(e,t,a){this.upload.isUploading=!0},handleFileSuccess:function(e,t,a){this.upload.open=!1,this.upload.isUploading=!1,this.$refs.upload.clearFiles(),this.$alert(e.msg,"导入结果",{dangerouslyUseHTMLString:!0}),this.getList()},submitFileForm:function(){this.$refs.upload.submit()}}}),m=u,d=a("9ca4"),p=Object(d["a"])(m,n,i,!1,null,null,null);t["default"]=p.exports},"202d":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"公告标题",prop:"noticeTitle"}},[a("el-input",{attrs:{placeholder:"请输入公告标题",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.noticeTitle,callback:function(t){e.$set(e.queryParams,"noticeTitle",t)},expression:"queryParams.noticeTitle"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"操作人员",prop:"createBy"}},[a("el-input",{attrs:{placeholder:"请输入操作人员",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.createBy,callback:function(t){e.$set(e.queryParams,"createBy",t)},expression:"queryParams.createBy"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"类型",prop:"noticeType"}},[a("el-select",{attrs:{placeholder:"公告类型",clearable:"",size:"small"},model:{value:e.queryParams.noticeType,callback:function(t){e.$set(e.queryParams,"noticeType",t)},expression:"queryParams.noticeType"}},e._l(e.typeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:notice:add"],expression:"['system:notice:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:notice:edit"],expression:"['system:notice:edit']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:notice:remove"],expression:"['system:notice:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.noticeList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"序号",align:"center",prop:"noticeId",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"公告标题",align:"center",prop:"noticeTitle","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"公告类型",align:"center",prop:"noticeType",formatter:e.typeFormat,width:"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"状态",align:"center",prop:"status",formatter:e.statusFormat,width:"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"创建者",align:"center",prop:"createBy",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createTime,"{y}-{m}-{d}")))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:notice:edit"],expression:"['system:notice:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:notice:remove"],expression:"['system:notice:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"780px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"公告标题",prop:"noticeTitle"}},[a("el-input",{attrs:{placeholder:"请输入公告标题"},model:{value:e.form.noticeTitle,callback:function(t){e.$set(e.form,"noticeTitle",t)},expression:"form.noticeTitle"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"公告类型",prop:"noticeType"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.noticeType,callback:function(t){e.$set(e.form,"noticeType",t)},expression:"form.noticeType"}},e._l(e.typeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"状态"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusOptions,(function(t){return a("el-radio",{key:t.dictValue,attrs:{label:t.dictValue}},[e._v(e._s(t.dictLabel))])})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"内容"}},[a("Editor",{model:{value:e.form.noticeContent,callback:function(t){e.$set(e.form,"noticeContent",t)},expression:"form.noticeContent"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",staticStyle:{"padding-top":"20px"},attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},i=[],o=a("b775");function r(e){return Object(o["a"])({url:"/system/notice/list",method:"get",params:e})}function l(e){return Object(o["a"])({url:"/system/notice/"+e,method:"get"})}function s(e){return Object(o["a"])({url:"/system/notice",method:"post",data:e})}function c(e){return Object(o["a"])({url:"/system/notice",method:"put",data:e})}function u(e){return Object(o["a"])({url:"/system/notice/"+e,method:"delete"})}var m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-upload",{staticClass:"avatar-uploader quill-img",attrs:{action:e.uploadImgUrl,name:"file",headers:e.headers,"show-file-list":!1,"on-success":e.quillImgSuccess,"on-error":e.uploadError,"before-upload":e.quillImgBefore,accept:".jpg,.jpeg,.png,.gif"}}),e._v(" "),a("quill-editor",{ref:"quillEditor",staticClass:"editor",attrs:{options:e.editorOption},on:{blur:function(t){return e.onEditorBlur(t)},focus:function(t){return e.onEditorFocus(t)},change:function(t){return e.onEditorChange(t)}},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}})],1)},d=[],p=a("200d"),f=(a("163d"),a("5f87")),v=a("b881"),h=(a("121a"),a("7e41"),a("96be"),[["bold","italic","underline","strike"],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{align:[]}],["clean"],["link","image","video"]]),b={props:{value:{type:String},maxSize:{type:Number,default:4e3}},components:{quillEditor:v["quillEditor"]},data:function(){var e,t;return t={content:this.value,uploadImgUrl:"",editorOption:(e={placeholder:"",theme:"snow"},Object(p["a"])(e,"placeholder","请输入内容"),Object(p["a"])(e,"modules",{toolbar:{container:h,handlers:{image:function(e){e?document.querySelector(".quill-img input").click():this.quill.format("image",!1)}}}}),e)},Object(p["a"])(t,"uploadImgUrl","/index.php/common/upload"),Object(p["a"])(t,"headers",{Authorization:"Bearer "+Object(f["a"])()}),t},watch:{value:function(){this.content=this.value}},methods:{onEditorBlur:function(){},onEditorFocus:function(){},onEditorChange:function(){this.$emit("input",this.content)},quillImgBefore:function(e){var t=e.type;return"image/jpeg"===t||"image/png"===t||(this.$message.error("请插入图片类型文件(jpg/jpeg/png)"),!1)},quillImgSuccess:function(e,t){var a=this.$refs.quillEditor.quill;if(200==e.code){var n=a.getSelection().index;a.insertEmbed(n,"image",e.url),a.setSelection(n+1)}else this.$message.error("图片插入失败")},uploadError:function(){this.$message.error("图片插入失败")}}},g=b,_=(a("4ff4"),a("9ca4")),y=Object(_["a"])(g,m,d,!1,null,null,null),w=y.exports,x={name:"Notice",components:{Editor:w},data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,noticeList:[],title:"",open:!1,statusOptions:[],typeOptions:[],queryParams:{pageNum:1,pageSize:10,noticeTitle:void 0,createBy:void 0,status:void 0},form:{},rules:{noticeTitle:[{required:!0,message:"公告标题不能为空",trigger:"blur"}],noticeType:[{required:!0,message:"公告类型不能为空",trigger:"blur"}]}}},created:function(){var e=this;this.getList(),this.getDicts("sys_notice_status").then((function(t){e.statusOptions=t.data})),this.getDicts("sys_notice_type").then((function(t){e.typeOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,r(this.queryParams).then((function(t){e.noticeList=t.rows,e.total=t.total,e.loading=!1}))},statusFormat:function(e,t){return this.selectDictLabel(this.statusOptions,e.status)},typeFormat:function(e,t){return this.selectDictLabel(this.typeOptions,e.noticeType)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={noticeId:void 0,noticeTitle:void 0,noticeType:void 0,noticeContent:void 0,status:"0"},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.noticeId})),this.single=1!=e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加公告"},handleUpdate:function(e){var t=this;this.reset();var a=e.noticeId||this.ids;l(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改公告"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.noticeId?c(e.form).then((function(t){200===t.code&&(e.msgSuccess("修改成功"),e.open=!1,e.getList())})):s(e.form).then((function(t){200===t.code&&(e.msgSuccess("新增成功"),e.open=!1,e.getList())})))}))},handleDelete:function(e){var t=this,a=e.noticeId||this.ids;this.$confirm('是否确认删除公告编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return u(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))}}},k=x,C=Object(_["a"])(k,n,i,!1,null,null,null);t["default"]=C.exports},2065:function(e,t,a){"use strict";var n=a("b8b6"),i=a.n(n);i.a},"21da":function(e,t,a){},"224f":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"record"},[a("div",{staticClass:"record-conter"},[a("el-row",{staticClass:"record-top",staticStyle:{"margin-left":"0px","margin-right":"0px"},attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[a("el-form-item",{attrs:{label:"日期："}},[e.formInline.date.startday?a("dateTimePicker",{attrs:{date:e.formInline.date},on:{onSubmit:e.onSubmit}}):e._e()],1),e._v(" "),a("el-form-item",{attrs:{label:"发送方："}},[a("el-select",{staticStyle:{width:"85px"},attrs:{clearable:"",placeholder:"性别",size:"mini"},on:{change:e.onSubmit},model:{value:e.formInline.f_gender,callback:function(t){e.$set(e.formInline,"f_gender",t)},expression:"formInline.f_gender"}},e._l(e.gengerOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1),e._v(" "),a("el-input",{attrs:{placeholder:"请输入短ID",clearable:"",size:"mini",maxlength:"200"},on:{clear:e.onSubmit},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit(t)}},model:{value:e.formInline.f_username,callback:function(t){e.$set(e.formInline,"f_username","string"===typeof t?t.trim():t)},expression:"formInline.f_username"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"接收方："}},[a("el-select",{staticStyle:{width:"85px"},attrs:{clearable:"",placeholder:"性别",size:"mini"},on:{change:e.onSubmit},model:{value:e.formInline.t_gender,callback:function(t){e.$set(e.formInline,"t_gender",t)},expression:"formInline.t_gender"}},e._l(e.gengerOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1),e._v(" "),a("el-input",{attrs:{placeholder:"请输入短ID",clearable:"",size:"mini",maxlength:"200"},on:{clear:e.onSubmit},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit(t)}},model:{value:e.formInline.t_username,callback:function(t){e.$set(e.formInline,"t_username","string"===typeof t?t.trim():t)},expression:"formInline.t_username"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"过滤消息："}},[a("el-checkbox",{model:{value:e.formInline.guanfang,callback:function(t){e.$set(e.formInline,"guanfang",t)},expression:"formInline.guanfang"}},[e._v("过滤官方消息")]),e._v(" "),a("el-checkbox",{model:{value:e.formInline.fenghao,callback:function(t){e.$set(e.formInline,"fenghao",t)},expression:"formInline.fenghao"}},[e._v("过滤封号用户")])],1),e._v(" "),a("el-form-item",{attrs:{label:"消息类型："}},[a("el-select",{staticStyle:{width:"85px"},attrs:{clearable:"",placeholder:"请选择",size:"mini"},on:{change:e.onSubmit},model:{value:e.formInline.msgtype,callback:function(t){e.$set(e.formInline,"msgtype",t)},expression:"formInline.msgtype"}},e._l(e.msgTypeOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"指令类型："}},[a("el-select",{staticStyle:{width:"85px"},attrs:{clearable:"",placeholder:"请选择",size:"mini"},on:{change:e.onSubmit},model:{value:e.formInline.cmd,callback:function(t){e.$set(e.formInline,"cmd",t)},expression:"formInline.cmd"}},e._l(e.cmdTypeOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"搜索："}},[a("el-input",{attrs:{placeholder:"请输入关键字",clearable:"",size:"mini",maxlength:"200"},on:{clear:e.onSubmit},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit(t)}},model:{value:e.formInline.description,callback:function(t){e.$set(e.formInline,"description","string"===typeof t?t.trim():t)},expression:"formInline.description"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.onSubmit}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-d-arrow-left",size:"mini"},on:{click:function(t){return e.handlePrev("prev")}}},[e._v("前一天")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.handlePrev("next")}}},[e._v("\n              后一天\n              "),a("span",{staticClass:"el-icon-d-arrow-right"})]),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-refresh-left",size:"mini"},on:{click:function(t){return e.openEdit("撤回消息",null,!0)}}},[e._v("批量撤回")])],1)],1)],1)],1),e._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"dark","row-key":"id"},on:{"sort-change":e.sortChange,"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection","min-width":"20",selectable:function(e){return"2"!==e.response}}}),e._v(" "),a("el-table-column",{attrs:{type:"index","min-width":"45",label:"编号"}}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"","min-width":"70px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"anchor-info cursor",on:{click:function(a){return e.openDetail(t.row.fromid)}}},[a("div",{staticClass:"profile-box"},[a("img",{staticClass:"profile",attrs:{src:t.row.f_avatar,alt:""}})]),e._v(" "),"3"===t.row.f_status||"2"===t.row.f_status?a("br"):e._e(),e._v(" "),"3"===t.row.f_status?a("span",{staticStyle:{color:"#f56c6c"}},[e._v("禁言")]):"2"===t.row.f_status?a("span",{staticStyle:{color:"#f56c6c"}},[e._v("封号")]):e._e()])]}}])},[a("template",{slot:"header"},[a("span",[e._v("头像")]),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"提示文字",placement:"top"}},[a("i",{staticClass:"el-icon-question icon-color"})])],1)],2),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"","min-width":"120px",label:"昵称/ID"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticClass:"visitor-info-name",attrs:{title:"用户昵称"}},[e._v(e._s(t.row.f_nickname))]),e._v(" "),a("br"),e._v(" "),a("span",{staticClass:"gender-men",class:"1"===t.row.f_gender?"":"gender-women"},[e._v(e._s(t.row.f_age))]),e._v(" "),"1"===t.row.f_verify_status?a("span",{staticClass:"el-icon-video-camera-solid verify_status",attrs:{title:"视频认证"}}):e._e(),e._v(" "),a("span",{attrs:{title:"短ID"}},[e._v(e._s(t.row.f_username))]),e._v(" "),a("br"),e._v(" "),a("span",{attrs:{title:"用户ID"}},[e._v(e._s(t.row.fromid))])]}}])}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"","min-width":"70px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"anchor-info cursor",on:{click:function(a){return e.openDetail(t.row.toid)}}},[a("div",{staticClass:"profile-box"},[a("img",{staticClass:"profile",attrs:{src:t.row.t_avatar,alt:""}})]),e._v(" "),"3"===t.row.t_status||"2"===t.row.t_status?a("br"):e._e(),e._v(" "),"3"===t.row.t_status?a("span",{staticStyle:{color:"#f56c6c"}},[e._v("禁言")]):"2"===t.row.t_status?a("span",{staticStyle:{color:"#f56c6c"}},[e._v("封号")]):e._e()])]}}])},[a("template",{slot:"header"},[a("span",[e._v("头像")]),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"提示文字",placement:"top"}},[a("i",{staticClass:"el-icon-question icon-color"})])],1)],2),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"","min-width":"120px",label:"昵称/ID"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticClass:"visitor-info-name",attrs:{title:"用户昵称"}},[e._v(e._s(t.row.t_nickname))]),e._v(" "),a("br"),e._v(" "),a("span",{staticClass:"gender-men",class:"1"===t.row.t_gender?"":"gender-women"},[e._v(e._s(t.row.t_age))]),e._v(" "),"1"===t.row.t_verify_status?a("span",{staticClass:"el-icon-video-camera-solid verify_status",attrs:{title:"视频认证"}}):e._e(),e._v(" "),a("span",{attrs:{title:"短ID"}},[e._v(e._s(t.row.t_username))]),e._v(" "),a("br"),e._v(" "),a("span",{attrs:{title:"用户ID"}},[e._v(e._s(t.row.toid))])]}}])}),e._v(" "),a("el-table-column",{attrs:{"min-width":"80",label:"类型/终端"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{attrs:{title:"消息类型"}},[e._v(e._s(t.row.msgtype))]),e._v(" "),a("br"),e._v(" "),a("span",{attrs:{title:"终端"}},[e._v(e._s(t.row.fromClientType))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"cmd","min-width":"80",label:"指令"}}),e._v(" "),a("el-table-column",{attrs:{prop:"msgcontent","min-width":"140",label:"内容"},scopedSlots:e._u([{key:"default",fn:function(t){return["TEXT"===t.row.msgtype?a("span",[e._v(e._s(t.row.msgcontent))]):"TEXT"===t.row.cmd||"RICH_TEXT"===t.row.cmd?a("span",[e._v(e._s(t.row.msgcontent.info.msg))]):"PICTURE"===t.row.msgtype?a("el-image",{staticStyle:{height:"90px"},attrs:{src:t.row.msgcontent.url,fit:"contain",lazy:"","preview-src-list":[t.row.msgcontent.url]}},[a("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[a("i",{staticClass:"el-icon-picture-outline"})])]):"VIDEO"===t.row.msgtype?a("video",{attrs:{src:t.row.msgcontent.url,controls:"controls",width:"140"}},[e._v("格式不支持")]):"AUDIO"===t.row.msgtype?a("audio",{staticStyle:{width:"140px"},attrs:{src:t.row.msgcontent.url,controls:"controls"}},[e._v("格式不支持")]):"gift"===t.row.cmd&&t.row.msgcontent.info?a("div",[a("img",{attrs:{src:t.row.msgcontent.info.gift.src,width:"50"}}),e._v(" "),a("br"),e._v(" "),a("span",[e._v(e._s(t.row.msgcontent.info.gift.name)+" x "+e._s(t.row.msgcontent.info.number))])]):a("span",[e._v(e._s(t.row.msgcontent))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"response","min-width":"80",label:"是否撤回"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s("2"!==t.row.response?"否":"是"))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"time","min-width":"110",label:"时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.parseTime(t.row.time)))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作","min-width":"130px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticStyle:{"margin-bottom":"5px"},attrs:{icon:"el-icon-view",size:"mini",title:"查看详情"},on:{click:function(a){return e.openOrder(t.row.id)}}}),e._v(" "),"2"!==t.row.response?a("el-button",{staticStyle:{"margin-bottom":"5px"},attrs:{type:"warning",size:"mini",title:"撤回",plain:"",icon:"el-icon-refresh-left"},on:{click:function(a){return e.openEdit("撤回消息",t.row.id)}}}):e._e(),e._v(" "),a("el-button",{staticStyle:{"margin-bottom":"5px"},attrs:{icon:"el-icon-delete",size:"mini",title:"删除"},on:{click:function(a){return e.deleteMsg(t.row.id)}}})]}}])})],1),e._v(" "),a("my-pagination",{directives:[{name:"show",rawName:"v-show",value:e.totalNum>0,expression:"totalNum>0"}],attrs:{total:e.totalNum,page:e.formInline.pageNum,limit:e.formInline.pageSize,ext_stat:e.ext_stat},on:{"update:page":function(t){return e.$set(e.formInline,"pageNum",t)},"update:limit":function(t){return e.$set(e.formInline,"pageSize",t)},pagination:e.getOnlineList}})],1),e._v(" "),e.userDetail.userid?a("el-detail",{attrs:{userDetail:e.userDetail}}):e._e(),e._v(" "),a("el-dialog",{attrs:{id:"creditlogs-dialog",title:"查看详情",visible:e.orderDetail.orderDialog,width:"600px","custom-class":"common-dialog"},on:{"update:visible":function(t){return e.$set(e.orderDetail,"orderDialog",t)}}},[a("table",{staticClass:"table table-striped table-bordered table-hover view-userinfo"},[a("tbody",e._l(e.orderDetail.columns,(function(t,n){return a("tr",{key:n},[a("td",{attrs:{width:"30%"}},[e._v(e._s(t.label))]),e._v(" "),a("td",{attrs:{width:"70%"}},["time"===t.name?a("span",[e._v(e._s(e.parseTime(e.orderDetail.orderForm[t.name])))]):a("span",[e._v(e._s(e.orderDetail.orderForm[t.name]))])])])})),0)]),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.orderDetail.orderDialog=!1}}},[e._v("取 消")])],1)]),e._v(" "),a("el-dialog",{attrs:{id:"ruleForm-dialog",title:e.ruleFormTitle,visible:e.ruleFormDialog,width:"600px","custom-class":"common-dialog"},on:{close:function(t){return e.closeRulesFormDialog("ruleForm")},"update:visible":function(t){e.ruleFormDialog=t}}},[a("el-form",{ref:"ruleForm",attrs:{rules:e.rules,model:e.ruleForm,"label-width":"50px","label-position":"right"}},[a("el-form-item",{attrs:{label:"",prop:"isseven"}},[a("el-checkbox",{model:{value:e.ruleForm.isseven,callback:function(t){e.$set(e.ruleForm,"isseven",t)},expression:"ruleForm.isseven"}},[e._v("同时撤回近七天同类型消息")])],1)],1),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){return e.closeRulesFormDialog("ruleForm")}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("保 存")])],1)],1)],1)},i=[],o=(a("163d"),a("b449"),a("6648")),r=(a("6d57"),a("c23b"),a("2922")),l=a("7f7e"),s={name:"users",data:function(){return{gengerOptions:l["c"],cmdTypeOptions:l["b"],msgTypeOptions:l["f"],totalNum:0,formInline:{date:{startday:"",endday:""},f_gender:"",f_username:"",t_gender:"",t_username:"",guanfang:"",fenghao:"",msgtype:"",cmd:"",description:"",startday:"",endday:"",pageSize:20,pageNum:1,offset:0},startOptions:{disabledDate:!1},endOptions:{disabledDate:!1},ext_stat:"",tableData:[],operationOptions:[],orderDetail:{orderForm:{},columns:{},orderDialog:!1,tableColumns:["id","fromid","toid","msgtype","fromClientType","cmd","msgcontent","time"]},userDetail:{timestamp:"",userid:""},ruleFormDialog:!1,ruleFormTitle:"",refundData:{},ruleForm:{id:"",ids:"",isAll:!1,isseven:""},rules:{},multipleSelection:[],audioUrl:"https://nim-nosdn.netease.im/NDI4NDk3OA==/bmltYV8xOTA3NTk3MTY4N18xNTk0MjgxMjM1NTg5Xzg1NzAxNTgzLTU0ZjMtNGQwOC1iMTljLTU2M2YwOTNmNzE3NA=="}},created:function(){this.formInline.date.startday=this.getDateNow()[0],this.formInline.date.endday=this.getDateNow()[1],this.getOnlineList()},methods:{see:function(e){var t={id:e.id,orderNo:e.orderNo};this.$emit("changePage","SEE",t)},onSubmit:function(){this.getOnlineList()},getOnlineList:function(){var e=this,t=JSON.parse(JSON.stringify(this.formInline));t.startday=t.date.startday,t.endday=t.date.endday,t.offset=(t.pageNum-1)*t.pageSize,delete t.date,t.guanfang?t.guanfang=1:delete t.guanfang,t.fenghao?t.fenghao=1:delete t.fenghao,Object(r["c"])(t).then((function(t){0===t.code&&(t.data.items.forEach((function(e){"PICTURE"!==e.msgtype&&"VIDEO"!==e.msgtype&&"AUDIO"!==e.msgtype&&("CUSTOM"!==e.msgtype||"TEXT"!==e.cmd&&"RICH_TEXT"!==e.cmd)&&"gift"!==e.cmd||(e.msgcontent=JSON.parse(e.msgcontent))})),e.tableData=t.data.items,e.ext_stat=t.data.ext_stat,e.totalNum=+t.data.total_rows)}))},sortChange:function(e){e.column;var t=e.prop,a=e.order;console.log(a),this.formInline.orderByColumn=t;var n="DESC";"ascending"===a&&(n="ASC"),this.formInline.isAsc=n},handleSizeChange:function(e){this.formInline.pageNum=1,this.formInline.pageSize=e,this.getOnlineList()},handleCurrentChange:function(e){this.formInline.pageNum=e,this.getOnlineList()},handleSelectionChange:function(e){this.multipleSelection=e},handlePrev:function(e){this.prevDate(this.formInline.date,e),this.getOnlineList()},openOrder:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(r["b"])(t);case 2:a=e.sent,a&&0===a.code&&(this.orderDetail.orderForm=a.data.item,this.orderDetail.columns=a.data.columns,this.orderDetail.orderDialog=!0);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),openDetail:function(e){this.userDetail.timestamp=(new Date).getTime(),this.userDetail.userid=e},openEdit:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,a,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.ruleFormTitle=t,"新增"!==t){e.next=5;break}this.ruleFormDialog=!0,e.next=12;break;case 5:if("撤回消息"!==t){e.next=11;break}this.ruleFormTitle="确定撤回吗?",n?(this.ruleForm.id="",this.ruleForm.ids=this.multipleSelection.map((function(e){return e.id})).join(","),this.ruleForm.isAll=!0):(this.ruleForm.id=a,this.ruleForm.ids="",this.ruleForm.isAll=!1),this.ruleFormDialog=!0,e.next=12;break;case 11:return e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,this)})));function t(t,a,n){return e.apply(this,arguments)}return t}(),submitForm:function(e){var t=this;if(this.ruleForm.isAll&&0===this.multipleSelection.length)return this.$message.error("您没有勾选任何消息哦！"),!1;this.$refs[e].validate((function(a){if(!a)return!1;var n=JSON.parse(JSON.stringify(t.ruleForm));if(n.isAll){var i={str_id:n.ids,isseven:n.isseven?1:""};Object(r["d"])(i).then((function(a){a&&0===a.code&&(t.$message.success({message:a.info}),t.$refs["multipleTable"].clearSelection(),t.closeRulesFormDialog(e),t.getOnlineList())}))}else{var o={id:n.id,data:{isseven:n.isseven?1:""}};Object(r["e"])(o).then((function(a){a&&0===a.code&&(t.$message.success({message:a.info}),t.closeRulesFormDialog(e),t.getOnlineList())}))}}))},closeRulesFormDialog:function(e){this.$refs[e].resetFields(),this.ruleFormDialog=!1},deleteMsg:function(e){var t=this;this.$confirm("确认删除此消息吗,是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(r["a"])(e).then((function(e){e&&0===e.code&&(t.$message.success({message:e.info}),t.getOnlineList())}))})).catch((function(){return!1}))},getSummaries:function(e){var t=e.columns,a=e.data,n=[];return t.forEach((function(e,t){if(0!==t)if("total_price"===e.property){var i=a.map((function(e){return Number(e["total_price"])})),o=0;i.forEach((function(e){o+=e})),n[t]=o+"元"}else n[t]="";else n[t]="合计"})),n}}},c=s,u=(a("d06a"),a("d61f"),a("d094"),a("9ca4")),m=Object(u["a"])(c,n,i,!1,null,"541c70b0",null);t["default"]=m.exports},"235a":function(e,t,a){},2496:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"record"},[a("div",{staticClass:"record-conter"},[a("el-row",{staticClass:"record-top",staticStyle:{"margin-left":"0px","margin-right":"0px"},attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[a("el-form-item",{attrs:{label:"注册日期："}},[e.formInline.date.startday?a("dateTimePicker",{attrs:{date:e.formInline.date},on:{onSubmit:e.onSubmit}}):e._e()],1),e._v(" "),a("el-form-item",{attrs:{label:"用户ID："}},[a("el-input",{attrs:{placeholder:"请输入用户ID",clearable:"",size:"mini"},on:{clear:e.onSubmit},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit(t)}},model:{value:e.formInline.userid,callback:function(t){e.$set(e.formInline,"userid","string"===typeof t?t.trim():t)},expression:"formInline.userid"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"短ID："}},[a("el-input",{attrs:{placeholder:"请输入短ID",clearable:"",size:"mini"},on:{clear:e.onSubmit},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit(t)}},model:{value:e.formInline.username,callback:function(t){e.$set(e.formInline,"username","string"===typeof t?t.trim():t)},expression:"formInline.username"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.onSubmit}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"warning",plain:"",icon:"el-icon-d-arrow-left",size:"mini"},on:{click:e.back}},[e._v("返回")])],1)],1)],1)],1),e._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"dark","row-key":"id"},on:{"sort-change":e.sortChange}},[a("el-table-column",{attrs:{prop:"id","min-width":"50",label:"ID"}}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"","min-width":"70px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"anchor-info cursor",on:{click:function(a){return e.openDetail(t.row.userid)}}},[a("div",{staticClass:"profile-box"},[a("img",{staticClass:"profile",attrs:{src:t.row.avatar,alt:""}})]),e._v(" "),"3"===t.row.status||"2"===t.row.status?a("br"):e._e(),e._v(" "),"3"===t.row.status?a("span",{staticStyle:{color:"#f56c6c"}},[e._v("禁言")]):"2"===t.row.status?a("span",{staticStyle:{color:"#f56c6c"}},[e._v("封号")]):e._e()])]}}])},[a("template",{slot:"header"},[a("span",[e._v("头像")]),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"提示文字",placement:"top"}},[a("i",{staticClass:"el-icon-question icon-color"})])],1)],2),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"","min-width":"100px",label:"昵称/ID"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticClass:"visitor-info-name",attrs:{title:"用户昵称"}},[e._v(e._s(t.row.nickname))]),e._v(" "),a("br"),e._v(" "),a("span",{staticClass:"gender-men",class:"1"===t.row.gender?"":"gender-women"},[e._v(e._s(t.row.age))]),e._v(" "),"1"===t.row.verify_status?a("span",{staticClass:"el-icon-video-camera-solid verify_status",attrs:{title:"视频认证"}}):e._e(),e._v(" "),a("span",{attrs:{title:"短ID"}},[e._v(e._s(t.row.username))]),e._v(" "),a("br"),e._v(" "),a("span",{attrs:{title:"用户ID"}},[e._v(e._s(t.row.userid))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"status","min-width":"80",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s("1"===t.row.isliveing?"直播中":"未直播"))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"nickname","min-width":"80",label:"等级"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.xingguang.title))]),e._v(" "),a("br"),e._v(" "),a("span",[e._v("魅力值："+e._s(t.row.charm))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"jifen_month","min-width":"80",label:"本月收益"}}),e._v(" "),a("el-table-column",{attrs:{prop:"jifen_week","min-width":"80",label:"近七日收益"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"140",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticStyle:{"margin-bottom":"5px"},attrs:{icon:"el-icon-edit",type:"primary",plain:"",size:"mini",title:"编辑"},on:{click:function(a){return e.openOrder("编辑",t.row.id)}}}),e._v(" "),a("el-button",{staticStyle:{"margin-bottom":"5px"},attrs:{icon:"el-icon-delete",type:"danger",size:"mini",title:"删除",plain:""},on:{click:function(a){return e.deleteById(t.row.id)}}})]}}])})],1),e._v(" "),a("my-pagination",{directives:[{name:"show",rawName:"v-show",value:e.totalNum>0,expression:"totalNum>0"}],attrs:{total:e.totalNum,page:e.formInline.pageNum,limit:e.formInline.pageSize,ext_stat:e.ext_stat},on:{"update:page":function(t){return e.$set(e.formInline,"pageNum",t)},"update:limit":function(t){return e.$set(e.formInline,"pageSize",t)},pagination:e.getOnlineList}})],1),e._v(" "),e.userDetail.userid?a("detail",{attrs:{userDetail:e.userDetail}}):e._e(),e._v(" "),a("el-dialog",{attrs:{id:"owner-dialog",title:e.title,visible:e.dialogVisible,width:"600px","custom-class":"common-dialog"},on:{close:function(t){return e.resetForm("ruleForm")},"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"ruleForm",attrs:{rules:e.rules,model:e.ownerForm,"label-width":"120px","label-position":"left"}},[a("el-form-item",{attrs:{label:"短ID（短ID、用户ID二选一）",prop:"username"}},[a("el-input",{attrs:{maxlength:"100"},model:{value:e.ownerForm.username,callback:function(t){e.$set(e.ownerForm,"username",t)},expression:"ownerForm.username"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"成员ID",prop:"userid"}},[a("el-input",{attrs:{maxlength:"100","show-word-limit":""},model:{value:e.ownerForm.userid,callback:function(t){e.$set(e.ownerForm,"userid",t)},expression:"ownerForm.userid"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"角色",prop:"role"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",size:"mini"},model:{value:e.ownerForm.role,callback:function(t){e.$set(e.ownerForm,"role",t)},expression:"ownerForm.role"}},e._l(e.roleOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"公会ID",prop:"groupid"}},[a("el-input",{attrs:{maxlength:"100"},model:{value:e.ownerForm.groupid,callback:function(t){e.$set(e.ownerForm,"groupid",t)},expression:"ownerForm.groupid"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"分成计算方式",prop:"commission_method"}},[a("el-radio-group",{model:{value:e.ownerForm.commission_method,callback:function(t){e.$set(e.ownerForm,"commission_method",t)},expression:"ownerForm.commission_method"}},e._l(e.commissionMethodOptions,(function(t,n){return a("el-radio",{key:n,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1)],1),e._v(" "),"1"===e.ownerForm.commission_method?a("el-form-item",{attrs:{label:"分成(%)",prop:"rate"}},[a("el-input",{attrs:{maxlength:"100"},model:{value:e.ownerForm.rate,callback:function(t){e.$set(e.ownerForm,"rate",t)},expression:"ownerForm.rate"}})],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"公会分成(%)",prop:"group_rate"}},[a("el-input",{attrs:{maxlength:"100"},model:{value:e.ownerForm.group_rate,callback:function(t){e.$set(e.ownerForm,"group_rate",t)},expression:"ownerForm.group_rate"}})],1),e._v(" "),"1"===e.ownerForm.commission_method?a("el-form-item",{attrs:{label:"成员分成(%)",prop:"member_rate"}},[a("el-input",{attrs:{maxlength:"100"},model:{value:e.ownerForm.member_rate,callback:function(t){e.$set(e.ownerForm,"member_rate",t)},expression:"ownerForm.member_rate"}})],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"加入公会日期(yyyy-mm-dd)",prop:"join_date"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:e.ownerForm.join_date,callback:function(t){e.$set(e.ownerForm,"join_date",t)},expression:"ownerForm.join_date"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"自主提现",prop:"withdraw_enable"}},[a("el-checkbox",{attrs:{"true-label":"1","false-label":"0"},model:{value:e.ownerForm.withdraw_enable,callback:function(t){e.$set(e.ownerForm,"withdraw_enable",t)},expression:"ownerForm.withdraw_enable"}},[e._v("允许")])],1),e._v(" "),a("el-form-item",{attrs:{label:"公会备注",prop:"memo"}},[a("el-input",{attrs:{type:"textarea",maxlength:"255",row:"3",resize:"none","show-word-limit":""},model:{value:e.ownerForm.memo,callback:function(t){e.$set(e.ownerForm,"memo",t)},expression:"ownerForm.memo"}})],1)],1),e._v(" "),a("div",{staticClass:"owner-dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("a",{staticClass:"owner-btn btn1",attrs:{href:"javascript:;"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("保存")]),e._v(" "),a("a",{staticClass:"owner-btn btn2",attrs:{href:"javascript:;"},on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("关闭")])])],1)],1)},i=[],o=(a("b449"),a("6648")),r=a("24ae"),l=a("7f7e"),s=a("0a5a"),c=a("cf45"),u=a("50b5"),m={name:"Unions_see",props:["obj"],components:{detail:u["default"]},data:function(){return{commissionMethodOptions:s["b"],liveingStateOptions:l["e"],roleOptions:s["g"],payModeOptions:s["f"],payDateOptions:s["e"],memberRewardRuleOptions:s["d"],groupRewardRuleOptions:s["c"],totalNum:0,ext_stat:"",formInline:{date:{startday:"",endday:""},userid:"",username:"",pageSize:20,pageNum:1},startOptions:{disabledDate:!1},endOptions:{disabledDate:!1},userDetail:{timestamp:"",userid:""},tableData:[],dialogVisible:!1,title:"标题",ownerForm:{name:"",loginuser:"",create_userid:"",account_type:"",commission_method:"",rate:"",group_rate:"",member_rate:"",account_name:"",account_branchs:"",account_num:"",status:"",memo:""},rules:{houseAddress:[{required:!0,message:"请输入新地址",trigger:"blur"}],houseNumber:[{required:!0,message:"请输入门牌号",trigger:"blur"}]}}},created:function(){this.formInline.date.startday=Object(c["b"])()[0],this.formInline.date.endday=Object(c["b"])()[1],this.getOnlineList()},methods:{back:function(){var e={id:this.obj.id};this.$emit("changePage","LIST",e)},see:function(e){var t={id:this.obj.id,userid:e.userid};this.$emit("changePage","ANCHOR",t)},changePage:function(e,t){this.$emit("changePage",e,t)},onSubmit:function(){this.getOnlineList()},getOnlineList:function(){var e=this,t=JSON.parse(JSON.stringify(this.formInline));t.groupid=this.obj.id,t.startday=t.date.startday,t.endday=t.date.endday,t.offset=(t.pageNum-1)*t.pageSize,delete t.date,console.log(t),Object(r["c"])(t).then((function(t){0===t.code&&(e.tableData=t.data.items,e.ext_stat=t.data.ext_stat,e.totalNum=+t.data.total_rows)}))},openOrder:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,a){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.title=t,"新增"!==t){e.next=5;break}this.dialogVisible=!0,e.next=10;break;case 5:if("编辑"!==t){e.next=10;break}return e.next=8,Object(r["b"])(a);case 8:n=e.sent,n&&0===n.code&&(this.ownerForm=n.data.item,this.dialogVisible=!0);case 10:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}(),sortChange:function(e){e.column;var t=e.prop,a=e.order;console.log(a),this.formInline.orderByColumn=t;var n="DESC";"ascending"===a&&(n="ASC"),this.formInline.isAsc=n},handleCurrentChange:function(e){this.formInline.pageNum=e,this.getOnlineList()},submitForm:function(e){var t=this;this.$refs[e].validate((function(a){if(!a)return!1;var n=JSON.parse(JSON.stringify(t.ownerForm));"2"===n.commission_method&&(n.rate=0,n.member_rate=0),console.log(n),Object(r["d"])(n).then((function(a){0===a.code&&(t.$message.success(a.info),t.$refs[e].resetFields(),t.getOnlineList(),t.dialogVisible=!1)}))}))},resetForm:function(e){this.$refs[e].resetFields(),this.dialogVisible=!1},deleteById:function(e){var t=this;this.$confirm("是否删除当前项?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(r["a"])(e).then((function(e){0===e.code&&t.$message.success(e.info)}))}))},openDetail:function(e){this.userDetail.timestamp=(new Date).getTime(),this.userDetail.userid=e}}},d=m,p=(a("cb57"),a("1773"),a("258f"),a("9ca4")),f=Object(p["a"])(d,n,i,!1,null,"cf78e4a0",null);t["default"]=f.exports},24963:function(e,t,a){"use strict";var n=a("cb539"),i=a.n(n);i.a},"24ae":function(e,t,a){"use strict";a.d(t,"c",(function(){return r})),a.d(t,"b",(function(){return l})),a.d(t,"d",(function(){return s})),a.d(t,"a",(function(){return c}));var n=a("b775"),i=a("fed1"),o=a.n(i);function r(e){return Object(n["a"])({url:"/live/group_details/ajaxsearch",method:"GET",params:e})}function l(e){return Object(n["a"])({url:"/live/group_details/edit/".concat(e),method:"GET"})}function s(e){return Object(n["a"])({url:"/live/group_details/save",method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},data:o.a.stringify(e)})}function c(e){return Object(n["a"])({url:"/live/group_details/delete/".concat(e),method:"GET"})}},"251a":function(e,t,a){"use strict";var n=a("0c42"),i=a.n(n);i.a},"258f":function(e,t,a){"use strict";var n=a("59ec"),i=a.n(n);i.a},"25ae":function(e,t,a){"use strict";var n=a("d2a7"),i=a.n(n);i.a},"25f9":function(e,t,a){},2694:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"record"},[a("div",{staticClass:"record-conter"},[a("el-row",{staticClass:"record-top",staticStyle:{"margin-left":"0px","margin-right":"0px"},attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[a("el-form-item",{attrs:{label:"日期："}},[e.formInline.date.startday?a("dateTimePicker",{attrs:{date:e.formInline.date},on:{onSubmit:e.onSubmit}}):e._e()],1),e._v(" "),a("el-form-item",{attrs:{label:"主叫："}},[a("el-select",{staticStyle:{width:"85px"},attrs:{clearable:"",placeholder:"性别",size:"mini"},on:{change:e.onSubmit},model:{value:e.formInline.f_gender,callback:function(t){e.$set(e.formInline,"f_gender",t)},expression:"formInline.f_gender"}},e._l(e.gengerOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1),e._v(" "),a("el-select",{staticStyle:{width:"85px"},attrs:{clearable:"",placeholder:"平台",size:"mini"},on:{change:e.onSubmit},model:{value:e.formInline.caller_platform,callback:function(t){e.$set(e.formInline,"caller_platform",t)},expression:"formInline.caller_platform"}},e._l(e.platformOptions1,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1),e._v(" "),a("el-input",{attrs:{placeholder:"请输入短ID",clearable:"",size:"mini",maxlength:"200"},on:{clear:e.onSubmit},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit(t)}},model:{value:e.formInline.f_username,callback:function(t){e.$set(e.formInline,"f_username","string"===typeof t?t.trim():t)},expression:"formInline.f_username"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"被叫："}},[a("el-select",{staticStyle:{width:"85px"},attrs:{clearable:"",placeholder:"性别",size:"mini"},on:{change:e.onSubmit},model:{value:e.formInline.t_gender,callback:function(t){e.$set(e.formInline,"t_gender",t)},expression:"formInline.t_gender"}},e._l(e.gengerOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1),e._v(" "),a("el-select",{staticStyle:{width:"85px"},attrs:{clearable:"",placeholder:"平台",size:"mini"},on:{change:e.onSubmit},model:{value:e.formInline.called_platform,callback:function(t){e.$set(e.formInline,"called_platform",t)},expression:"formInline.called_platform"}},e._l(e.platformOptions1,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1),e._v(" "),a("el-input",{attrs:{placeholder:"请输入短ID",clearable:"",size:"mini",maxlength:"200"},on:{clear:e.onSubmit},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit(t)}},model:{value:e.formInline.t_username,callback:function(t){e.$set(e.formInline,"t_username","string"===typeof t?t.trim():t)},expression:"formInline.t_username"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"通话状态："}},[a("el-select",{staticStyle:{width:"120px"},attrs:{clearable:"",placeholder:"不限",size:"mini"},on:{change:e.onSubmit},model:{value:e.formInline.status,callback:function(t){e.$set(e.formInline,"status",t)},expression:"formInline.status"}},e._l(e.callStatusOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"收费类型："}},[a("el-select",{staticStyle:{width:"120px"},attrs:{clearable:"",placeholder:"不限",size:"mini"},on:{change:e.onSubmit},model:{value:e.formInline.charge_type,callback:function(t){e.$set(e.formInline,"charge_type",t)},expression:"formInline.charge_type"}},e._l(e.chargeTypeOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"挂断原因："}},[a("el-select",{staticStyle:{width:"120px"},attrs:{clearable:"",placeholder:"不限",size:"mini"},on:{change:e.onSubmit},model:{value:e.formInline.hangup,callback:function(t){e.$set(e.formInline,"hangup",t)},expression:"formInline.hangup"}},e._l(e.hangupOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"呼叫类型："}},[a("el-select",{staticStyle:{width:"120px"},attrs:{clearable:"",placeholder:"不限",size:"mini"},on:{change:e.onSubmit},model:{value:e.formInline.type,callback:function(t){e.$set(e.formInline,"type",t)},expression:"formInline.type"}},e._l(e.callTypeOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"费率："}},[a("el-select",{staticStyle:{width:"120px"},attrs:{clearable:"",placeholder:"不限",size:"mini"},on:{change:e.onSubmit},model:{value:e.formInline.feerate,callback:function(t){e.$set(e.formInline,"feerate",t)},expression:"formInline.feerate"}},e._l(e.feerateOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"通话时长："}},[a("el-input",{staticStyle:{width:"90px"},attrs:{placeholder:"最少(秒)",clearable:"",size:"mini"},on:{clear:e.onSubmit},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit(t)}},model:{value:e.formInline.duration1,callback:function(t){e.$set(e.formInline,"duration1","string"===typeof t?t.trim():t)},expression:"formInline.duration1"}}),e._v(" "),a("span",[e._v("-")]),e._v(" "),a("el-input",{staticStyle:{width:"90px"},attrs:{placeholder:"最多(秒)",clearable:"",size:"mini"},on:{clear:e.onSubmit},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit(t)}},model:{value:e.formInline.duration2,callback:function(t){e.$set(e.formInline,"duration2","string"===typeof t?t.trim():t)},expression:"formInline.duration2"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"金币："}},[a("el-input",{staticStyle:{width:"80px"},attrs:{placeholder:"最少",clearable:"",size:"mini"},on:{clear:e.onSubmit},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit(t)}},model:{value:e.formInline.gold2,callback:function(t){e.$set(e.formInline,"gold2","string"===typeof t?t.trim():t)},expression:"formInline.gold2"}}),e._v(" "),a("span",[e._v("-")]),e._v(" "),a("el-input",{staticStyle:{width:"80px"},attrs:{placeholder:"最多",clearable:"",size:"mini"},on:{clear:e.onSubmit},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit(t)}},model:{value:e.formInline.gold1,callback:function(t){e.$set(e.formInline,"gold1","string"===typeof t?t.trim():t)},expression:"formInline.gold1"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"积分："}},[a("el-input",{staticStyle:{width:"80px"},attrs:{placeholder:"最少",clearable:"",size:"mini"},on:{clear:e.onSubmit},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit(t)}},model:{value:e.formInline.jifen1,callback:function(t){e.$set(e.formInline,"jifen1","string"===typeof t?t.trim():t)},expression:"formInline.jifen1"}}),e._v(" "),a("span",[e._v("-")]),e._v(" "),a("el-input",{staticStyle:{width:"80px"},attrs:{placeholder:"最多",clearable:"",size:"mini"},on:{clear:e.onSubmit},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit(t)}},model:{value:e.formInline.jifen2,callback:function(t){e.$set(e.formInline,"jifen2","string"===typeof t?t.trim():t)},expression:"formInline.jifen2"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"话单ID："}},[a("el-input",{staticStyle:{width:"120px"},attrs:{placeholder:"话单ID",clearable:"",size:"mini"},on:{clear:e.onSubmit},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit(t)}},model:{value:e.formInline.channelId,callback:function(t){e.$set(e.formInline,"channelId","string"===typeof t?t.trim():t)},expression:"formInline.channelId"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.onSubmit}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-d-arrow-left",size:"mini"},on:{click:function(t){return e.handlePrev("prev")}}},[e._v("前一天")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.handlePrev("next")}}},[e._v("\n              后一天\n              "),a("span",{staticClass:"el-icon-d-arrow-right"})])],1)],1)],1)],1),e._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"dark","row-key":"id"},on:{"sort-change":e.sortChange}},[a("el-table-column",{attrs:{type:"index","min-width":"50",label:"编号"}}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"","min-width":"70px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"anchor-info cursor",on:{click:function(a){return e.openDetail(t.row.caller_userid)}}},[a("div",{staticClass:"profile-box"},[a("img",{staticClass:"profile",attrs:{src:t.row.f_avatar,alt:""}})])])]}}])},[a("template",{slot:"header"},[a("span",[e._v("主叫")]),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"提示文字",placement:"top"}},[a("i",{staticClass:"el-icon-question icon-color"})])],1)],2),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"","min-width":"120px",label:"昵称/ID"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticClass:"visitor-info-name",attrs:{title:"用户昵称"}},[e._v(e._s(t.row.f_nickname))]),e._v(" "),a("br"),e._v(" "),a("span",{staticClass:"gender-men",class:"1"===t.row.caller_gender?"":"gender-women"},[e._v(e._s(t.row.f_age))]),e._v(" "),"1"===t.row.f_verify_status?a("span",{staticClass:"el-icon-video-camera-solid verify_status",attrs:{title:"视频认证"}}):e._e(),e._v(" "),a("span",{attrs:{title:"短ID"}},[e._v(e._s(t.row.f_username))]),e._v(" "),a("br"),e._v(" "),a("span",{attrs:{title:"用户ID"}},[e._v(e._s(t.row.caller_userid))])]}}])}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"","min-width":"70px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"anchor-info cursor",on:{click:function(a){return e.openDetail(t.row.called_userid)}}},[a("div",{staticClass:"profile-box"},[a("img",{staticClass:"profile",attrs:{src:t.row.t_avatar,alt:""}})])])]}}])},[a("template",{slot:"header"},[a("span",[e._v("被叫")]),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"提示文字",placement:"top"}},[a("i",{staticClass:"el-icon-question icon-color"})])],1)],2),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"","min-width":"120px",label:"昵称/ID"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticClass:"visitor-info-name",attrs:{title:"用户昵称"}},[e._v(e._s(t.row.t_nickname))]),e._v(" "),a("br"),e._v(" "),a("span",{staticClass:"gender-men",class:"1"===t.row.called_gender?"":"gender-women"},[e._v(e._s(t.row.t_age))]),e._v(" "),"1"===t.row.t_verify_status?a("span",{staticClass:"el-icon-video-camera-solid verify_status",attrs:{title:"视频认证"}}):e._e(),e._v(" "),a("span",{attrs:{title:"短ID"}},[e._v(e._s(t.row.t_username))]),e._v(" "),a("br"),e._v(" "),a("span",{attrs:{title:"用户ID"}},[e._v(e._s(t.row.called_userid))])]}}])}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"charge_type","min-width":"120px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(e.chargeTypeOptions.filter((function(e){return e.value===t.row.charge_type}))[0].label)+"\n        ")]}}])},[a("template",{slot:"header"},[a("span",[e._v("收费类型")]),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"提示文字",placement:"top"}},[a("i",{staticClass:"el-icon-question icon-color"})])],1)],2),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"status","min-width":"120px",label:"话单状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.callStatusOptions.filter((function(e){return e.value===t.row.status}))[0].label))]}}])}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"hangup","min-width":"120px",label:"挂断原因"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.hangup?e.hangupOptions.filter((function(e){return e.value===t.row.hangup}))[0].label:""))]}}])}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"ring_duration",label:"响铃"}}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"duration",label:"通话"}}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"feerate",label:"费率"}}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"gold",label:"金币"}}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"jifen",label:"积分"}}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"channelId",label:"话单ID"}}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"","min-width":"110px",label:"时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.parseTime(t.row.dateline)))]}}])}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{icon:"el-icon-view",size:"mini",title:"查看详情"},on:{click:function(a){return e.openOrder(t.row.id)}}})]}}])})],1),e._v(" "),a("my-pagination",{directives:[{name:"show",rawName:"v-show",value:e.totalNum>0,expression:"totalNum>0"}],attrs:{total:e.totalNum,page:e.formInline.pageNum,limit:e.formInline.pageSize,ext_stat:e.ext_stat},on:{"update:page":function(t){return e.$set(e.formInline,"pageNum",t)},"update:limit":function(t){return e.$set(e.formInline,"pageSize",t)},pagination:e.getOnlineList}})],1),e._v(" "),e.userDetail.userid?a("detail",{attrs:{userDetail:e.userDetail}}):e._e(),e._v(" "),a("el-dialog",{attrs:{id:"creditlogs-dialog",title:"查看详情",visible:e.orderDetail.orderDialog,width:"600px","custom-class":"common-dialog"},on:{"update:visible":function(t){return e.$set(e.orderDetail,"orderDialog",t)}}},[a("table",{staticClass:"table table-striped table-bordered table-hover view-userinfo"},[a("tbody",e._l(e.orderDetail.tableColumns,(function(t,n){return a("tr",{key:n},[a("td",{attrs:{width:"30%"}},[e._v(e._s(e.orderDetail.columns[t]?e.orderDetail.columns[t].label:""))]),e._v(" "),a("td",{attrs:{width:"70%"}},[a("span","dateline"===t?[e._v(e._s(e.parseTime(e.orderDetail.orderForm[t])))]:[e._v(e._s(e.orderDetail.orderForm[t]))])])])})),0)]),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.orderDetail.orderDialog=!1}}},[e._v("取 消")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:"查看详情",visible:e.pictureDetail.pictureDialog,width:"670px","custom-class":"picture-box-dialog"},on:{"update:visible":function(t){return e.$set(e.pictureDetail,"pictureDialog",t)}}},[a("div",{staticClass:"picture-box"},[e._l(e.pictureDetail.items,(function(t,n){return a("div",{key:n,staticClass:"picture-item"},[a("div",{staticClass:"picture-title"},[a("div",{staticClass:"picture-user"},[a("span",{staticClass:"picture-user-id cursor",on:{click:function(a){return e.openDetail(t.userid)}}},[e._v(e._s(t.username))]),e._v(" "),a("span",{staticClass:"picture-user-nickname cursor",on:{click:function(a){return e.openDetail(t.userid)}}},[e._v(e._s(t.nickname)+"-")])]),e._v(" "),a("div",{staticClass:"picture-dateline"},[a("span",[e._v(e._s(e.parseTime(t.dateline)))])])]),e._v(" "),a("div",{staticClass:"picture-image-box"},[a("el-image",{staticStyle:{width:"100%",height:"100%"},attrs:{src:e.baseImageUrl+t.screenshot,previewSrcList:e.pictureDetail.previewSrcList,fit:"contain"}})],1),e._v(" "),a("div",{staticClass:"picture-pass"},[a("span",[e._v(e._s(t.suggestion))]),e._v(" "),a("span",[e._v(e._s(t.rate))])])])})),e._v(" "),a("my-pagination",{directives:[{name:"show",rawName:"v-show",value:e.pictureDetail.totalNum>0,expression:"pictureDetail.totalNum>0"}],attrs:{total:e.pictureDetail.totalNum,page:e.pictureDetail.pageNum,limit:e.pictureDetail.pageSize,ext_stat:e.pictureDetail.ext_stat},on:{"update:page":function(t){return e.$set(e.pictureDetail,"pageNum",t)},"update:limit":function(t){return e.$set(e.pictureDetail,"pageSize",t)},pagination:e.getPicture}})],2),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.pictureDetail.pictureDialog=!1}}},[e._v("取 消")])],1)])],1)},i=[],o=(a("b449"),a("6648")),r=a("b775");function l(e){return Object(r["a"])({url:"/union/callRecords/ajaxsearch",method:"GET",params:e})}function s(e){return Object(r["a"])({url:"/cdr/call/view/".concat(e),method:"GET"})}function c(e){return Object(r["a"])({url:"/cdr/screenshot/ajaxsearch",method:"GET",params:e})}var u=a("7f7e"),m=[{value:"0",label:"正常收费"},{value:"1",label:"赠送免费"},{value:"2",label:"红钻免费"},{value:"3",label:"审核免费"}],d=[{value:"SUCCESS",label:"已接通"},{value:"SINGLE_PARTICIPATE",label:"未接通(汇总)"},{value:"TIMEOUT",label:"无人接听"},{value:"CALLER_HANGUP",label:"主叫挂断"},{value:"REJECT",label:"被叫拒绝"},{value:"LOST",label:"掉单话单"}],p=[{value:"porn",label:"涉嫌发布低俗内容"},{value:"nomoney",label:"余额不足"}],f=[{value:"AUDIO",label:"语音"},{value:"VEDIO",label:"视频"}],v=[{value:"0",label:"0"},{value:"15",label:"15"},{value:"20",label:"20"},{value:"25",label:"25"},{value:"30",label:"30"},{value:"35",label:"35"},{value:"40",label:"40"},{value:"50",label:"50"},{value:"60",label:"60"},{value:"70",label:"70"},{value:"80",label:"80"}],h=a("bd78"),b=a("50b5"),g={name:"record",components:{chattingRecords:h["default"],detail:b["default"]},data:function(){return{gengerOptions:u["c"],platformOptions1:u["h"],chargeTypeOptions:m,callStatusOptions:d,hangupOptions:p,callTypeOptions:f,feerateOptions:v,baseImageUrl:u["a"],totalNum:0,ext_stat:"",formInline:{groupid:this.$store.state.user.groupInfo.id,date:{startday:"",endday:""},f_gender:"",caller_platform:"",f_username:"",t_gender:"",called_platform:"",t_username:"",status:"",charge_type:"",hangup:"",type:"",feerate:"",duration1:"",duration2:"",gold2:"",gold1:"",jifen1:"",jifen2:"",channelId:"",pageSize:20,pageNum:1},tableData:[],orderDetail:{orderForm:{},columns:{},orderDialog:!1,tableColumns:["id","caller_userid","called_userid","duration","channelId","members","status","hangup","charge_type","type","caller_platform","called_platform","dateline"]},userDetail:{timestamp:"",userid:""},pictureDetail:{channelId:"",items:[],previewSrcList:[],pictureDialog:!1,pageSize:20,pageNum:1,offset:0,totalNum:0,ext_stat:""}}},created:function(){this.formInline.date.startday=this.getDateNow()[0],this.formInline.date.endday=this.getDateNow()[1],this.getOnlineList()},watch:{$route:{handler:function(e){this.formInline.f_username=e.params.username},immediate:!0}},methods:{see:function(e){var t={id:e.id,orderNo:e.orderNo};this.$emit("changePage","SEE",t)},onSubmit:function(){this.getOnlineList()},getOnlineList:function(){var e=this,t=JSON.parse(JSON.stringify(this.formInline));t.startday=t.date.startday,t.endday=t.date.endday,t.offset=(t.pageNum-1)*t.pageSize,delete t.date,l(t).then((function(t){0===t.code&&(e.tableData=t.data.items,e.ext_stat=t.data.ext_stat,e.totalNum=+t.data.total_rows)}))},sortChange:function(e){e.column;var t=e.prop,a=e.order;this.formInline.orderByColumn=t;var n="DESC";"ascending"===a&&(n="ASC"),this.formInline.isAsc=n},handleCurrentChange:function(e){this.formInline.pageNum=e,this.getOnlineList()},pictureHandleCurrentChange:function(e){this.formInline.pageNum=e,this.getPicture()},handlePrev:function(e){this.prevDate(this.formInline.date,e),this.getOnlineList()},openOrder:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s(t);case 2:a=e.sent,a&&0===a.code&&(this.orderDetail.orderForm=a.data.item,this.orderDetail.columns=a.data.columns,this.orderDetail.orderDialog=!0);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),openPicture:function(e){var t=this;this.pictureDetail.channelId=e.channelId,this.$nextTick((function(){t.pictureDetail.pictureDialog=!0})),this.getPicture()},getPicture:function(){var e=this,t={quicksearch:1,channelid:this.pictureDetail.channelId,offset:(this.pictureDetail.pageNum-1)*this.pictureDetail.pageSize};c(t).then((function(t){t&&0===t.code&&(e.pictureDetail.items=t.data.items,e.pictureDetail.ext_stat=t.data.ext_stat,e.pictureDetail.totalNum=+t.data.total_rows,e.pictureDetail.previewSrcList=t.data.items.map((function(t){return e.baseImageUrl+t.screenshot})))}))},openDetail:function(e){this.userDetail.timestamp=(new Date).getTime(),this.userDetail.userid=e}}},_=g,y=(a("24963"),a("86c0"),a("048d"),a("9ca4")),w=Object(y["a"])(_,n,i,!1,null,"60efa2ae",null);t["default"]=w.exports},"26fc":function(e,t,a){e.exports=a.p+"static/img/404_cloud.0f4bc32b.png"},2754:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wscn-http404-container"},[a("div",{staticClass:"wscn-http404"},[e._m(0),e._v(" "),a("div",{staticClass:"bullshit"},[a("div",{staticClass:"bullshit__oops"},[e._v("\n        404错误!\n      ")]),e._v(" "),a("div",{staticClass:"bullshit__headline"},[e._v("\n        "+e._s(e.message)+"\n      ")]),e._v(" "),a("div",{staticClass:"bullshit__info"},[e._v("\n        对不起，您正在寻找的页面不存在。尝试检查URL的错误，然后按浏览器上的刷新按钮或尝试在我们的应用程序中找到其他内容。\n      ")]),e._v(" "),a("router-link",{staticClass:"bullshit__return-home",attrs:{to:"/"}},[e._v("\n        返回首页\n      ")])],1)])])},i=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pic-404"},[n("img",{staticClass:"pic-404__parent",attrs:{src:a("a36b"),alt:"404"}}),e._v(" "),n("img",{staticClass:"pic-404__child left",attrs:{src:a("26fc"),alt:"404"}}),e._v(" "),n("img",{staticClass:"pic-404__child mid",attrs:{src:a("26fc"),alt:"404"}}),e._v(" "),n("img",{staticClass:"pic-404__child right",attrs:{src:a("26fc"),alt:"404"}})])}],o={name:"Page404",computed:{message:function(){return"找不到网页！"}}},r=o,l=(a("32c1"),a("9ca4")),s=Object(l["a"])(r,n,i,!1,null,"d7d08274",null);t["default"]=s.exports},2855:function(e,t,a){"use strict";a.r(t);var n,i,o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"left-board"},[a("div",{staticClass:"logo-wrapper"},[a("div",{staticClass:"logo"},[a("img",{attrs:{src:e.logo,alt:"logo"}}),e._v(" Form Generator\n      ")])]),e._v(" "),a("el-scrollbar",{staticClass:"left-scrollbar"},[a("div",{staticClass:"components-list"},[a("div",{staticClass:"components-title"},[a("svg-icon",{attrs:{"icon-class":"component"}}),e._v("输入型组件\n        ")],1),e._v(" "),a("draggable",{staticClass:"components-draggable",attrs:{list:e.inputComponents,group:{name:"componentsGroup",pull:"clone",put:!1},clone:e.cloneComponent,draggable:".components-item",sort:!1},on:{end:e.onEnd}},e._l(e.inputComponents,(function(t,n){return a("div",{key:n,staticClass:"components-item",on:{click:function(a){return e.addComponent(t)}}},[a("div",{staticClass:"components-body"},[a("svg-icon",{attrs:{"icon-class":t.tagIcon}}),e._v("\n              "+e._s(t.label)+"\n            ")],1)])})),0),e._v(" "),a("div",{staticClass:"components-title"},[a("svg-icon",{attrs:{"icon-class":"component"}}),e._v("选择型组件\n        ")],1),e._v(" "),a("draggable",{staticClass:"components-draggable",attrs:{list:e.selectComponents,group:{name:"componentsGroup",pull:"clone",put:!1},clone:e.cloneComponent,draggable:".components-item",sort:!1},on:{end:e.onEnd}},e._l(e.selectComponents,(function(t,n){return a("div",{key:n,staticClass:"components-item",on:{click:function(a){return e.addComponent(t)}}},[a("div",{staticClass:"components-body"},[a("svg-icon",{attrs:{"icon-class":t.tagIcon}}),e._v("\n              "+e._s(t.label)+"\n            ")],1)])})),0),e._v(" "),a("div",{staticClass:"components-title"},[a("svg-icon",{attrs:{"icon-class":"component"}}),e._v(" 布局型组件\n        ")],1),e._v(" "),a("draggable",{staticClass:"components-draggable",attrs:{list:e.layoutComponents,group:{name:"componentsGroup",pull:"clone",put:!1},clone:e.cloneComponent,draggable:".components-item",sort:!1},on:{end:e.onEnd}},e._l(e.layoutComponents,(function(t,n){return a("div",{key:n,staticClass:"components-item",on:{click:function(a){return e.addComponent(t)}}},[a("div",{staticClass:"components-body"},[a("svg-icon",{attrs:{"icon-class":t.tagIcon}}),e._v("\n              "+e._s(t.label)+"\n            ")],1)])})),0)],1)])],1),e._v(" "),a("div",{staticClass:"center-board"},[a("div",{staticClass:"action-bar"},[a("el-button",{attrs:{icon:"el-icon-download",type:"text"},on:{click:e.download}},[e._v("\n        导出vue文件\n      ")]),e._v(" "),a("el-button",{staticClass:"copy-btn-main",attrs:{icon:"el-icon-document-copy",type:"text"},on:{click:e.copy}},[e._v("\n        复制代码\n      ")]),e._v(" "),a("el-button",{staticClass:"delete-btn",attrs:{icon:"el-icon-delete",type:"text"},on:{click:e.empty}},[e._v("\n        清空\n      ")])],1),e._v(" "),a("el-scrollbar",{staticClass:"center-scrollbar"},[a("el-row",{staticClass:"center-board-row",attrs:{gutter:e.formConf.gutter}},[a("el-form",{attrs:{size:e.formConf.size,"label-position":e.formConf.labelPosition,disabled:e.formConf.disabled,"label-width":e.formConf.labelWidth+"px"}},[a("draggable",{staticClass:"drawing-board",attrs:{list:e.drawingList,animation:340,group:"componentsGroup"}},e._l(e.drawingList,(function(t,n){return a("draggable-item",{key:t.renderKey,attrs:{"drawing-list":e.drawingList,element:t,index:n,"active-id":e.activeId,"form-conf":e.formConf},on:{activeItem:e.activeFormItem,copyItem:e.drawingItemCopy,deleteItem:e.drawingItemDelete}})})),1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.drawingList.length,expression:"!drawingList.length"}],staticClass:"empty-info"},[e._v("\n            从左侧拖入或点选组件进行表单设计\n          ")])],1)],1)],1)],1),e._v(" "),a("right-panel",{attrs:{"active-data":e.activeData,"form-conf":e.formConf,"show-field":!!e.drawingList.length},on:{"tag-change":e.tagChange}}),e._v(" "),a("code-type-dialog",{attrs:{visible:e.dialogVisible,title:"选择生成类型","show-file-name":e.showFileName},on:{"update:visible":function(t){e.dialogVisible=t},confirm:e.generate}}),e._v(" "),a("input",{attrs:{id:"copyNode",type:"hidden"}})],1)},r=[],l=(a("5ab2"),a("e204"),a("4f54")),s=(a("e10e"),a("6d57"),a("200d")),c=(a("f548"),a("8ecb")),u=a.n(c),m=a("d72d"),d=a("0637"),p=a.n(d),f=a("7cbd"),v=a.n(f),h=a("a85b"),b=a("766b"),g=a("2e2a"),_=a("ed08");a("cc57");function y(e){return'<el-dialog v-bind="$attrs" v-on="$listeners" @open="onOpen" @close="onClose" title="Dialog Titile">\n    '.concat(e,'\n    <div slot="footer">\n      <el-button @click="close">取消</el-button>\n      <el-button type="primary" @click="handelConfirm">确定</el-button>\n    </div>\n  </el-dialog>')}function w(e){return"<template>\n    <div>\n      ".concat(e,"\n    </div>\n  </template>")}function x(e){return"<script>\n    ".concat(e,"\n  <\/script>")}function k(e){return"<style>\n    ".concat(e,"\n  </style>")}function C(e,t,a){var n="";"right"!==e.labelPosition&&(n='label-position="'.concat(e.labelPosition,'"'));var o=e.disabled?':disabled="'.concat(e.disabled,'"'):"",r='<el-form ref="'.concat(e.formRef,'" :model="').concat(e.formModel,'" :rules="').concat(e.formRules,'" size="').concat(e.size,'" ').concat(o,' label-width="').concat(e.labelWidth,'px" ').concat(n,">\n      ").concat(t,"\n      ").concat(D(e,a),"\n    </el-form>");return i&&(r='<el-row :gutter="'.concat(e.gutter,'">\n        ').concat(r,"\n      </el-row>")),r}function D(e,t){var a="";return e.formBtns&&"file"===t&&(a='<el-form-item size="large">\n          <el-button type="primary" @click="submitForm">提交</el-button>\n          <el-button @click="resetForm">重置</el-button>\n        </el-form-item>',i&&(a='<el-col :span="24">\n          '.concat(a,"\n        </el-col>"))),a}function S(e,t){return i||24!==e.span?'<el-col :span="'.concat(e.span,'">\n      ').concat(t,"\n    </el-col>"):t}var O={colFormItem:function(e){var t="";e.labelWidth&&e.labelWidth!==n.labelWidth&&(t='label-width="'.concat(e.labelWidth,'px"'));var a=!g["e"][e.tag]&&e.required?"required":"",i=I[e.tag]?I[e.tag](e):null,o="<el-form-item ".concat(t,' label="').concat(e.label,'" prop="').concat(e.vModel,'" ').concat(a,">\n        ").concat(i,"\n      </el-form-item>");return o=S(e,o),o},rowFormItem:function(e){var t="default"===e.type?"":'type="'.concat(e.type,'"'),a="default"===e.type?"":'justify="'.concat(e.justify,'"'),n="default"===e.type?"":'align="'.concat(e.align,'"'),i=e.gutter?'gutter="'.concat(e.gutter,'"'):"",o=e.children.map((function(e){return O[e.layout](e)})),r="<el-row ".concat(t," ").concat(a," ").concat(n," ").concat(i,">\n      ").concat(o.join("\n"),"\n    </el-row>");return r=S(e,r),r}},I={"el-input":function(e){var t=T(e),a=t.disabled,n=t.vModel,i=t.clearable,o=t.placeholder,r=t.width,l=e.maxlength?':maxlength="'.concat(e.maxlength,'"'):"",s=e["show-word-limit"]?"show-word-limit":"",c=e.readonly?"readonly":"",u=e["prefix-icon"]?"prefix-icon='".concat(e["prefix-icon"],"'"):"",m=e["suffix-icon"]?"suffix-icon='".concat(e["suffix-icon"],"'"):"",d=e["show-password"]?"show-password":"",p=e.type?'type="'.concat(e.type,'"'):"",f=e.autosize&&e.autosize.minRows?':autosize="{minRows: '.concat(e.autosize.minRows,", maxRows: ").concat(e.autosize.maxRows,'}"'):"",v=$(e);return v&&(v="\n".concat(v,"\n")),"<".concat(e.tag," ").concat(n," ").concat(p," ").concat(o," ").concat(l," ").concat(s," ").concat(c," ").concat(a," ").concat(i," ").concat(u," ").concat(m," ").concat(d," ").concat(f," ").concat(r,">").concat(v,"</").concat(e.tag,">")},"el-input-number":function(e){var t=T(e),a=t.disabled,n=t.vModel,i=t.placeholder,o=e["controls-position"]?"controls-position=".concat(e["controls-position"]):"",r=e.min?":min='".concat(e.min,"'"):"",l=e.max?":max='".concat(e.max,"'"):"",s=e.step?":step='".concat(e.step,"'"):"",c=e["step-strictly"]?"step-strictly":"",u=e.precision?":precision='".concat(e.precision,"'"):"";return"<".concat(e.tag," ").concat(n," ").concat(i," ").concat(s," ").concat(c," ").concat(u," ").concat(o," ").concat(r," ").concat(l," ").concat(a,"></").concat(e.tag,">")},"el-select":function(e){var t=T(e),a=t.disabled,n=t.vModel,i=t.clearable,o=t.placeholder,r=t.width,l=e.filterable?"filterable":"",s=e.multiple?"multiple":"",c=N(e);return c&&(c="\n".concat(c,"\n")),"<".concat(e.tag," ").concat(n," ").concat(o," ").concat(a," ").concat(s," ").concat(l," ").concat(i," ").concat(r,">").concat(c,"</").concat(e.tag,">")},"el-radio-group":function(e){var t=T(e),a=t.disabled,n=t.vModel,i='size="'.concat(e.size,'"'),o=P(e);return o&&(o="\n".concat(o,"\n")),"<".concat(e.tag," ").concat(n," ").concat(i," ").concat(a,">").concat(o,"</").concat(e.tag,">")},"el-checkbox-group":function(e){var t=T(e),a=t.disabled,n=t.vModel,i='size="'.concat(e.size,'"'),o=e.min?':min="'.concat(e.min,'"'):"",r=e.max?':max="'.concat(e.max,'"'):"",l=F(e);return l&&(l="\n".concat(l,"\n")),"<".concat(e.tag," ").concat(n," ").concat(o," ").concat(r," ").concat(i," ").concat(a,">").concat(l,"</").concat(e.tag,">")},"el-switch":function(e){var t=T(e),a=t.disabled,n=t.vModel,i=e["active-text"]?'active-text="'.concat(e["active-text"],'"'):"",o=e["inactive-text"]?'inactive-text="'.concat(e["inactive-text"],'"'):"",r=e["active-color"]?'active-color="'.concat(e["active-color"],'"'):"",l=e["inactive-color"]?'inactive-color="'.concat(e["inactive-color"],'"'):"",s=!0!==e["active-value"]?":active-value='".concat(JSON.stringify(e["active-value"]),"'"):"",c=!1!==e["inactive-value"]?":inactive-value='".concat(JSON.stringify(e["inactive-value"]),"'"):"";return"<".concat(e.tag," ").concat(n," ").concat(i," ").concat(o," ").concat(r," ").concat(l," ").concat(s," ").concat(c," ").concat(a,"></").concat(e.tag,">")},"el-cascader":function(e){var t=T(e),a=t.disabled,n=t.vModel,i=t.clearable,o=t.placeholder,r=t.width,l=e.options?':options="'.concat(e.vModel,'Options"'):"",s=e.props?':props="'.concat(e.vModel,'Props"'):"",c=e["show-all-levels"]?"":':show-all-levels="false"',u=e.filterable?"filterable":"",m="/"===e.separator?"":'separator="'.concat(e.separator,'"');return"<".concat(e.tag," ").concat(n," ").concat(l," ").concat(s," ").concat(r," ").concat(c," ").concat(o," ").concat(m," ").concat(u," ").concat(i," ").concat(a,"></").concat(e.tag,">")},"el-slider":function(e){var t=T(e),a=t.disabled,n=t.vModel,i=e.min?":min='".concat(e.min,"'"):"",o=e.max?":max='".concat(e.max,"'"):"",r=e.step?":step='".concat(e.step,"'"):"",l=e.range?"range":"",s=e["show-stops"]?':show-stops="'.concat(e["show-stops"],'"'):"";return"<".concat(e.tag," ").concat(i," ").concat(o," ").concat(r," ").concat(n," ").concat(l," ").concat(s," ").concat(a,"></").concat(e.tag,">")},"el-time-picker":function(e){var t=T(e),a=t.disabled,n=t.vModel,i=t.clearable,o=t.placeholder,r=t.width,l=e["start-placeholder"]?'start-placeholder="'.concat(e["start-placeholder"],'"'):"",s=e["end-placeholder"]?'end-placeholder="'.concat(e["end-placeholder"],'"'):"",c=e["range-separator"]?'range-separator="'.concat(e["range-separator"],'"'):"",u=e["is-range"]?"is-range":"",m=e.format?'format="'.concat(e.format,'"'):"",d=e["value-format"]?'value-format="'.concat(e["value-format"],'"'):"",p=e["picker-options"]?":picker-options='".concat(JSON.stringify(e["picker-options"]),"'"):"";return"<".concat(e.tag," ").concat(n," ").concat(u," ").concat(m," ").concat(d," ").concat(p," ").concat(r," ").concat(o," ").concat(l," ").concat(s," ").concat(c," ").concat(i," ").concat(a,"></").concat(e.tag,">")},"el-date-picker":function(e){var t=T(e),a=t.disabled,n=t.vModel,i=t.clearable,o=t.placeholder,r=t.width,l=e["start-placeholder"]?'start-placeholder="'.concat(e["start-placeholder"],'"'):"",s=e["end-placeholder"]?'end-placeholder="'.concat(e["end-placeholder"],'"'):"",c=e["range-separator"]?'range-separator="'.concat(e["range-separator"],'"'):"",u=e.format?'format="'.concat(e.format,'"'):"",m=e["value-format"]?'value-format="'.concat(e["value-format"],'"'):"",d="date"===e.type?"":'type="'.concat(e.type,'"'),p=e.readonly?"readonly":"";return"<".concat(e.tag," ").concat(d," ").concat(n," ").concat(u," ").concat(m," ").concat(r," ").concat(o," ").concat(l," ").concat(s," ").concat(c," ").concat(i," ").concat(p," ").concat(a,"></").concat(e.tag,">")},"el-rate":function(e){var t=T(e),a=t.disabled,n=t.vModel,i=(e.max&&":max='".concat(e.max,"'"),e["allow-half"]?"allow-half":""),o=e["show-text"]?"show-text":"",r=e["show-score"]?"show-score":"";return"<".concat(e.tag," ").concat(n," ").concat(i," ").concat(o," ").concat(r," ").concat(a,"></").concat(e.tag,">")},"el-color-picker":function(e){var t=T(e),a=t.disabled,n=t.vModel,i='size="'.concat(e.size,'"'),o=e["show-alpha"]?"show-alpha":"",r=e["color-format"]?'color-format="'.concat(e["color-format"],'"'):"";return"<".concat(e.tag," ").concat(n," ").concat(i," ").concat(o," ").concat(r," ").concat(a,"></").concat(e.tag,">")},"el-upload":function(e){var t=e.disabled?":disabled='true'":"",a=e.action?':action="'.concat(e.vModel,'Action"'):"",n=e.multiple?"multiple":"",i="text"!==e["list-type"]?'list-type="'.concat(e["list-type"],'"'):"",o=e.accept?'accept="'.concat(e.accept,'"'):"",r="file"!==e.name?'name="'.concat(e.name,'"'):"",l=!1===e["auto-upload"]?':auto-upload="false"':"",s=':before-upload="'.concat(e.vModel,'BeforeUpload"'),c=':file-list="'.concat(e.vModel,'fileList"'),u='ref="'.concat(e.vModel,'"'),m=j(e);return m&&(m="\n".concat(m,"\n")),"<".concat(e.tag," ").concat(u," ").concat(c," ").concat(a," ").concat(l," ").concat(n," ").concat(s," ").concat(i," ").concat(o," ").concat(r," ").concat(t,">").concat(m,"</").concat(e.tag,">")}};function T(e){return{vModel:'v-model="'.concat(n.formModel,".").concat(e.vModel,'"'),clearable:e.clearable?"clearable":"",placeholder:e.placeholder?'placeholder="'.concat(e.placeholder,'"'):"",width:e.style&&e.style.width?":style=\"{width: '100%'}\"":"",disabled:e.disabled?":disabled='true'":""}}function $(e){var t=[];return e.prepend&&t.push('<template slot="prepend">'.concat(e.prepend,"</template>")),e.append&&t.push('<template slot="append">'.concat(e.append,"</template>")),t.join("\n")}function N(e){var t=[];return e.options&&e.options.length&&t.push('<el-option v-for="(item, index) in '.concat(e.vModel,'Options" :key="index" :label="item.label" :value="item.value" :disabled="item.disabled"></el-option>')),t.join("\n")}function P(e){var t=[];if(e.options&&e.options.length){var a="button"===e.optionType?"el-radio-button":"el-radio",n=e.border?"border":"";t.push("<".concat(a,' v-for="(item, index) in ').concat(e.vModel,'Options" :key="index" :label="item.value" :disabled="item.disabled" ').concat(n,">{{item.label}}</").concat(a,">"))}return t.join("\n")}function F(e){var t=[];if(e.options&&e.options.length){var a="button"===e.optionType?"el-checkbox-button":"el-checkbox",n=e.border?"border":"";t.push("<".concat(a,' v-for="(item, index) in ').concat(e.vModel,'Options" :key="index" :label="item.value" :disabled="item.disabled" ').concat(n,">{{item.label}}</").concat(a,">"))}return t.join("\n")}function j(e){var t=[];return"picture-card"===e["list-type"]?t.push('<i class="el-icon-plus"></i>'):t.push('<el-button size="small" type="primary" icon="el-icon-upload">'.concat(e.buttonText,"</el-button>")),e.showTip&&t.push('<div slot="tip" class="el-upload__tip">只能上传不超过 '.concat(e.fileSize).concat(e.sizeUnit," 的").concat(e.accept,"文件</div>")),t.join("\n")}function z(e,t){var a=[];n=e,i=e.fields.some((function(e){return 24!==e.span})),e.fields.forEach((function(e){a.push(O[e.layout](e))}));var o=a.join("\n"),r=C(e,o,t);return"dialog"===t&&(r=y(r)),n=null,r}var L=a("80de"),E={"el-rate":".el-rate{display: inline-block; vertical-align: text-top;}","el-upload":".el-upload__tip{line-height: 1.2;}"};function q(e,t){var a=E[t.tag];a&&-1===e.indexOf(a)&&e.push(a),t.children&&t.children.forEach((function(t){return q(e,t)}))}function R(e){var t=[];return e.fields.forEach((function(e){return q(t,e)})),t.join("\n")}var M=[{layout:"colFormItem",tagIcon:"input",label:"手机号",vModel:"mobile",formId:6,tag:"el-input",placeholder:"请输入手机号",defaultValue:"",span:24,style:{width:"100%"},clearable:!0,prepend:"",append:"","prefix-icon":"el-icon-mobile","suffix-icon":"",maxlength:11,"show-word-limit":!0,readonly:!1,disabled:!1,required:!0,changeTag:!0,regList:[{pattern:"/^1(3|4|5|7|8|9)\\d{9}$/",message:"手机号格式错误"}]}],A=a("81a5"),B=a.n(A),V=a("a92a"),U=a("4923");function K(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function G(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?K(Object(a),!0).forEach((function(t){Object(s["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):K(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Q,J,H={components:{draggable:u.a,render:h["a"],RightPanel:b["default"],CodeTypeDialog:V["default"],DraggableItem:U["default"]},data:function(){return{logo:B.a,idGlobal:100,formConf:g["a"],inputComponents:g["b"],selectComponents:g["d"],layoutComponents:g["c"],labelWidth:100,drawingList:M,drawingData:{},activeId:M[0].formId,drawerVisible:!1,formData:{},dialogVisible:!1,generateConf:null,showFileName:!1,activeData:M[0]}},computed:{},watch:{"activeData.label":function(e,t){void 0!==this.activeData.placeholder&&this.activeData.tag&&Q===this.activeId&&(this.activeData.placeholder=this.activeData.placeholder.replace(t,"")+e)},activeId:{handler:function(e){Q=e},immediate:!0}},mounted:function(){var e=this,t=new v.a("#copyNode",{text:function(t){var a=e.generateCode();return e.$notify({title:"成功",message:"代码已复制到剪切板，可粘贴。",type:"success"}),a}});t.on("error",(function(t){e.$message.error("代码复制失败")}))},methods:{activeFormItem:function(e){this.activeData=e,this.activeId=e.formId},onEnd:function(e,t){e.from!==e.to&&(this.activeData=J,this.activeId=this.idGlobal)},addComponent:function(e){var t=this.cloneComponent(e);this.drawingList.push(t),this.activeFormItem(t)},cloneComponent:function(e){var t=JSON.parse(JSON.stringify(e));return t.formId=++this.idGlobal,t.span=g["a"].span,t.renderKey=+new Date,t.layout||(t.layout="colFormItem"),"colFormItem"===t.layout?(t.vModel="field".concat(this.idGlobal),void 0!==t.placeholder&&(t.placeholder+=t.label),J=t):"rowFormItem"===t.layout&&(delete t.label,t.componentName="row".concat(this.idGlobal),t.gutter=this.formConf.gutter,J=t),J},AssembleFormData:function(){this.formData=G({fields:JSON.parse(JSON.stringify(this.drawingList))},this.formConf)},generate:function(e){var t=this["exec".concat(Object(_["h"])(this.operationType))];this.generateConf=e,t&&t(e)},execRun:function(e){this.AssembleFormData(),this.drawerVisible=!0},execDownload:function(e){var t=this.generateCode(),a=new Blob([t],{type:"text/plain;charset=utf-8"});Object(m["saveAs"])(a,e.fileName)},execCopy:function(e){document.getElementById("copyNode").click()},empty:function(){var e=this;this.$confirm("确定要清空所有组件吗？","提示",{type:"warning"}).then((function(){e.drawingList=[]}))},drawingItemCopy:function(e,t){var a=JSON.parse(JSON.stringify(e));a=this.createIdAndKey(a),t.push(a),this.activeFormItem(a)},createIdAndKey:function(e){var t=this;return e.formId=++this.idGlobal,e.renderKey=+new Date,"colFormItem"===e.layout?e.vModel="field".concat(this.idGlobal):"rowFormItem"===e.layout&&(e.componentName="row".concat(this.idGlobal)),Array.isArray(e.children)&&(e.children=e.children.map((function(e){return t.createIdAndKey(e)}))),e},drawingItemDelete:function(e,t){var a=this;t.splice(e,1),this.$nextTick((function(){var e=a.drawingList.length;e&&a.activeFormItem(a.drawingList[e-1])}))},generateCode:function(){var e=this.generateConf.type;this.AssembleFormData();var t=x(Object(L["a"])(this.formData,e)),a=w(z(this.formData,e)),n=k(R(this.formData));return p.a.html(a+t+n,_["b"].html)},download:function(){this.dialogVisible=!0,this.showFileName=!0,this.operationType="download"},run:function(){this.dialogVisible=!0,this.showFileName=!1,this.operationType="run"},copy:function(){this.dialogVisible=!0,this.showFileName=!1,this.operationType="copy"},tagChange:function(e){var t=this;e=this.cloneComponent(e),e.vModel=this.activeData.vModel,e.formId=this.activeId,e.span=this.activeData.span,delete this.activeData.tag,delete this.activeData.tagIcon,delete this.activeData.document,Object.keys(e).forEach((function(a){void 0!==t.activeData[a]&&Object(l["a"])(t.activeData[a])===Object(l["a"])(e[a])&&(e[a]=t.activeData[a])})),this.activeData=e,this.updateDrawingList(e,this.drawingList)},updateDrawingList:function(e,t){var a=this,n=t.findIndex((function(e){return e.formId===a.activeId}));n>-1?t.splice(n,1,e):t.forEach((function(t){Array.isArray(t.children)&&a.updateDrawingList(e,t.children)}))}}},W=H,X=(a("1a2c"),a("9ca4")),Y=Object(X["a"])(W,o,r,!1,null,null,null);t["default"]=Y.exports},2922:function(e,t,a){"use strict";a.d(t,"c",(function(){return i})),a.d(t,"b",(function(){return o})),a.d(t,"e",(function(){return r})),a.d(t,"d",(function(){return l})),a.d(t,"a",(function(){return s}));var n=a("b775");a("fed1");function i(e){return Object(n["a"])({url:"/cdr/msg/ajaxsearch",method:"GET",params:e})}function o(e){return Object(n["a"])({url:"/cdr/msg/view/".concat(e),method:"GET"})}function r(e){return Object(n["a"])({url:"/cdr/msg/withdraw/".concat(e.id),method:"GET",params:e.data})}function l(e){return Object(n["a"])({url:"/cdr/msg/allwithdraw",method:"GET",params:e})}function s(e){return Object(n["a"])({url:"/cdr/msg/delete/".concat(e),method:"GET"})}},"2a33":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",[a("el-col",{staticClass:"card-box",attrs:{span:12}},[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("CPU")])]),e._v(" "),a("div",{staticClass:"el-table el-table--enable-row-hover el-table--medium"},[a("table",{staticStyle:{width:"100%"},attrs:{cellspacing:"0"}},[a("thead",[a("tr",[a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("属性")])]),e._v(" "),a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("值")])])])]),e._v(" "),a("tbody",[a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("核心数")])]),e._v(" "),a("td",[e.server.cpu?a("div",{staticClass:"cell"},[e._v(e._s(e.server.cpu.cpuNum))]):e._e()])]),e._v(" "),a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("用户使用率")])]),e._v(" "),a("td",[e.server.cpu?a("div",{staticClass:"cell"},[e._v(e._s(e.server.cpu.used)+"%")]):e._e()])]),e._v(" "),a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("系统使用率")])]),e._v(" "),a("td",[e.server.cpu?a("div",{staticClass:"cell"},[e._v(e._s(e.server.cpu.sys)+"%")]):e._e()])]),e._v(" "),a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("当前空闲率")])]),e._v(" "),a("td",[e.server.cpu?a("div",{staticClass:"cell"},[e._v(e._s(e.server.cpu.free)+"%")]):e._e()])])])])])])],1),e._v(" "),a("el-col",{staticClass:"card-box",attrs:{span:12}},[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("内存")])]),e._v(" "),a("div",{staticClass:"el-table el-table--enable-row-hover el-table--medium"},[a("table",{staticStyle:{width:"100%"},attrs:{cellspacing:"0"}},[a("thead",[a("tr",[a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("属性")])]),e._v(" "),a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("内存")])]),e._v(" "),a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("JVM")])])])]),e._v(" "),a("tbody",[a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("总内存")])]),e._v(" "),a("td",[e.server.mem?a("div",{staticClass:"cell"},[e._v(e._s(e.server.mem.total)+"G")]):e._e()]),e._v(" "),a("td",[e.server.jvm?a("div",{staticClass:"cell"},[e._v(e._s(e.server.jvm.total)+"M")]):e._e()])]),e._v(" "),a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("已用内存")])]),e._v(" "),a("td",[e.server.mem?a("div",{staticClass:"cell"},[e._v(e._s(e.server.mem.used)+"G")]):e._e()]),e._v(" "),a("td",[e.server.jvm?a("div",{staticClass:"cell"},[e._v(e._s(e.server.jvm.used)+"M")]):e._e()])]),e._v(" "),a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("剩余内存")])]),e._v(" "),a("td",[e.server.mem?a("div",{staticClass:"cell"},[e._v(e._s(e.server.mem.free)+"G")]):e._e()]),e._v(" "),a("td",[e.server.jvm?a("div",{staticClass:"cell"},[e._v(e._s(e.server.jvm.free)+"M")]):e._e()])]),e._v(" "),a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("使用率")])]),e._v(" "),a("td",[e.server.mem?a("div",{staticClass:"cell",class:{"text-danger":e.server.mem.usage>80}},[e._v(e._s(e.server.mem.usage)+"%")]):e._e()]),e._v(" "),a("td",[e.server.jvm?a("div",{staticClass:"cell",class:{"text-danger":e.server.jvm.usage>80}},[e._v(e._s(e.server.jvm.usage)+"%")]):e._e()])])])])])])],1),e._v(" "),a("el-col",{staticClass:"card-box",attrs:{span:24}},[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("服务器信息")])]),e._v(" "),a("div",{staticClass:"el-table el-table--enable-row-hover el-table--medium"},[a("table",{staticStyle:{width:"100%"},attrs:{cellspacing:"0"}},[a("tbody",[a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("服务器名称")])]),e._v(" "),a("td",[e.server.sys?a("div",{staticClass:"cell"},[e._v(e._s(e.server.sys.computerName))]):e._e()]),e._v(" "),a("td",[a("div",{staticClass:"cell"},[e._v("操作系统")])]),e._v(" "),a("td",[e.server.sys?a("div",{staticClass:"cell"},[e._v(e._s(e.server.sys.osName))]):e._e()])]),e._v(" "),a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("服务器IP")])]),e._v(" "),a("td",[e.server.sys?a("div",{staticClass:"cell"},[e._v(e._s(e.server.sys.computerIp))]):e._e()]),e._v(" "),a("td",[a("div",{staticClass:"cell"},[e._v("系统架构")])]),e._v(" "),a("td",[e.server.sys?a("div",{staticClass:"cell"},[e._v(e._s(e.server.sys.osArch))]):e._e()])])])])])])],1),e._v(" "),a("el-col",{staticClass:"card-box",attrs:{span:24}},[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("Java虚拟机信息")])]),e._v(" "),a("div",{staticClass:"el-table el-table--enable-row-hover el-table--medium"},[a("table",{staticStyle:{width:"100%"},attrs:{cellspacing:"0"}},[a("tbody",[a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("Java名称")])]),e._v(" "),a("td",[e.server.jvm?a("div",{staticClass:"cell"},[e._v(e._s(e.server.jvm.name))]):e._e()]),e._v(" "),a("td",[a("div",{staticClass:"cell"},[e._v("Java版本")])]),e._v(" "),a("td",[e.server.jvm?a("div",{staticClass:"cell"},[e._v(e._s(e.server.jvm.version))]):e._e()])]),e._v(" "),a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v("启动时间")])]),e._v(" "),a("td",[e.server.jvm?a("div",{staticClass:"cell"},[e._v(e._s(e.server.jvm.startTime))]):e._e()]),e._v(" "),a("td",[a("div",{staticClass:"cell"},[e._v("运行时长")])]),e._v(" "),a("td",[e.server.jvm?a("div",{staticClass:"cell"},[e._v(e._s(e.server.jvm.runTime))]):e._e()])]),e._v(" "),a("tr",[a("td",{attrs:{colspan:"1"}},[a("div",{staticClass:"cell"},[e._v("安装路径")])]),e._v(" "),a("td",{attrs:{colspan:"3"}},[e.server.jvm?a("div",{staticClass:"cell"},[e._v(e._s(e.server.jvm.home))]):e._e()])]),e._v(" "),a("tr",[a("td",{attrs:{colspan:"1"}},[a("div",{staticClass:"cell"},[e._v("项目路径")])]),e._v(" "),a("td",{attrs:{colspan:"3"}},[e.server.sys?a("div",{staticClass:"cell"},[e._v(e._s(e.server.sys.userDir))]):e._e()])])])])])])],1),e._v(" "),a("el-col",{staticClass:"card-box",attrs:{span:24}},[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v("磁盘状态")])]),e._v(" "),a("div",{staticClass:"el-table el-table--enable-row-hover el-table--medium"},[a("table",{staticStyle:{width:"100%"},attrs:{cellspacing:"0"}},[a("thead",[a("tr",[a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("盘符路径")])]),e._v(" "),a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("文件系统")])]),e._v(" "),a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("盘符类型")])]),e._v(" "),a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("总大小")])]),e._v(" "),a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("可用大小")])]),e._v(" "),a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("已用大小")])]),e._v(" "),a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[e._v("已用百分比")])])])]),e._v(" "),e.server.sysFiles?a("tbody",e._l(e.server.sysFiles,(function(t){return a("tr",[a("td",[a("div",{staticClass:"cell"},[e._v(e._s(t.dirName))])]),e._v(" "),a("td",[a("div",{staticClass:"cell"},[e._v(e._s(t.sysTypeName))])]),e._v(" "),a("td",[a("div",{staticClass:"cell"},[e._v(e._s(t.typeName))])]),e._v(" "),a("td",[a("div",{staticClass:"cell"},[e._v(e._s(t.total))])]),e._v(" "),a("td",[a("div",{staticClass:"cell"},[e._v(e._s(t.free))])]),e._v(" "),a("td",[a("div",{staticClass:"cell"},[e._v(e._s(t.used))])]),e._v(" "),a("td",[a("div",{staticClass:"cell",class:{"text-danger":t.usage>80}},[e._v(e._s(t.usage)+"%")])])])})),0):e._e()])])])],1)],1)],1)},i=[],o=a("b775");function r(){return Object(o["a"])({url:"/monitor/server",method:"get"})}var l={name:"Server",data:function(){return{loading:[],server:[]}},created:function(){this.getList(),this.openLoading()},methods:{getList:function(){var e=this;r().then((function(t){e.server=t.data,e.loading.close()}))},openLoading:function(){this.loading=this.$loading({lock:!0,text:"拼命读取中",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"})}}},s=l,c=a("9ca4"),u=Object(c["a"])(s,n,i,!1,null,null,null);t["default"]=u.exports},"2a99":function(e,t,a){"use strict";var n=a("87e5"),i=a.n(n);i.a},"2b90":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"record"},[a("div",{staticClass:"record-conter"},[a("el-row",{staticClass:"record-top",staticStyle:{"margin-left":"0px","margin-right":"0px"},attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[a("el-form-item",{attrs:{label:"日期："}},[e.formInline.date.startday?a("dateTimePicker",{attrs:{date:e.formInline.date},on:{onSubmit:e.onSubmit}}):e._e()],1),e._v(" "),a("el-form-item",{attrs:{label:"短ID："}},[a("el-input",{attrs:{placeholder:"请输入短ID",clearable:"",size:"mini",maxlength:"200"},on:{clear:e.onSubmit},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit(t)}},model:{value:e.formInline.username,callback:function(t){e.$set(e.formInline,"username","string"===typeof t?t.trim():t)},expression:"formInline.username"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"用户ID："}},[a("el-input",{attrs:{placeholder:"请输入用户ID",clearable:"",size:"mini",maxlength:"200"},on:{clear:e.onSubmit},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit(t)}},model:{value:e.formInline.userid,callback:function(t){e.$set(e.formInline,"userid","string"===typeof t?t.trim():t)},expression:"formInline.userid"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"操作类型："}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择",size:"mini"},on:{change:e.onSubmit},model:{value:e.formInline.operation,callback:function(t){e.$set(e.formInline,"operation",t)},expression:"formInline.operation"}},e._l(e.operationOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"描述："}},[a("el-input",{attrs:{placeholder:"请输入关键字",clearable:"",size:"mini",maxlength:"200"},on:{clear:e.onSubmit},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit(t)}},model:{value:e.formInline.description,callback:function(t){e.$set(e.formInline,"description","string"===typeof t?t.trim():t)},expression:"formInline.description"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.onSubmit}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-d-arrow-left",size:"mini"},on:{click:function(t){return e.handlePrev("prev")}}},[e._v("前一天")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.handlePrev("next")}}},[e._v("\n              后一天\n              "),a("span",{staticClass:"el-icon-d-arrow-right"})]),e._v(" "),a("span",{staticStyle:{"margin-left":"10px",color:"#cccccc"}},[e._v("注:不支持跨月份查询")])],1)],1)],1)],1),e._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"dark","row-key":"proprId"},on:{"sort-change":e.sortChange}},[a("el-table-column",{attrs:{type:"index","min-width":"45",label:"编号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"userid","min-width":"110",label:"用户ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"operation","show-overflow-tooltip":"","min-width":"120px",label:"操作类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.operationOptions.filter((function(e){return e.value===t.row.operation}))[0].label))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"credittype","min-width":"80",label:"币种"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.creditTypeOptions.filter((function(e){return e.value===t.row.credittype}))[0].label))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"number","min-width":"80",label:"数量"}}),e._v(" "),a("el-table-column",{attrs:{prop:"count","min-width":"80",label:"余额"}}),e._v(" "),a("el-table-column",{attrs:{prop:"description","min-width":"80",label:"描述"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ipaddr","min-width":"80",label:"IP"}}),e._v(" "),a("el-table-column",{attrs:{prop:"operator","min-width":"80",label:"操作人"}}),e._v(" "),a("el-table-column",{attrs:{prop:"dateline","min-width":"110",label:"操作时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.parseTime(t.row.dateline)))]}}])}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"操作","min-width":"130px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{icon:"el-icon-view",size:"mini",title:"查看详情"},on:{click:function(a){return e.openOrder(t.row.id)}}})]}}])})],1),e._v(" "),a("my-pagination",{directives:[{name:"show",rawName:"v-show",value:e.totalNum>0,expression:"totalNum>0"}],attrs:{total:e.totalNum,page:e.formInline.pageNum,limit:e.formInline.pageSize,ext_stat:e.ext_stat},on:{"update:page":function(t){return e.$set(e.formInline,"pageNum",t)},"update:limit":function(t){return e.$set(e.formInline,"pageSize",t)},pagination:e.getOnlineList}})],1),e._v(" "),a("el-dialog",{attrs:{id:"creditlogs-dialog",title:"查看详情",visible:e.orderDetail.orderDialog,width:"600px","custom-class":"common-dialog"},on:{"update:visible":function(t){return e.$set(e.orderDetail,"orderDialog",t)}}},[a("table",{staticClass:"table table-striped table-bordered table-hover view-userinfo"},[a("tbody",e._l(e.orderDetail.tableColumns,(function(t,n){return a("tr",{key:n},[a("td",{attrs:{width:"30%"}},[e._v(e._s(e.orderDetail.columns[t]?e.orderDetail.columns[t].label:""))]),e._v(" "),a("td",{attrs:{width:"70%"}},[a("span","credittype"===t||"operation"===t?[e._v(e._s(e.orderDetail.columns[t]?e.orderDetail.columns[t].value[e.orderDetail.orderForm[t]]:""))]:"dateline"===t?[e._v(e._s(e.orderDetail.columns[t]?e.parseTime(e.orderDetail.orderForm[t]):""))]:[e._v(e._s(e.orderDetail.orderForm[t]))])])])})),0)]),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.orderDetail.orderDialog=!1}}},[e._v("取 消")])],1)]),e._v(" "),a("el-dialog",{attrs:{id:"ruleForm-dialog",title:e.ruleFormTitle,visible:e.ruleFormDialog,width:"600px","custom-class":"common-dialog"},on:{close:function(t){return e.closeRulesFormDialog("ruleForm")},"update:visible":function(t){e.ruleFormDialog=t}}},[a("div",{staticStyle:{"margin-left":"13px","margin-bottom":"10px",color:"#f56c6c"}},[e._v("已退款金额："+e._s(e.refundData.refund_money)+"元，可退金额:"+e._s(e.refundData.price)+"元")]),e._v(" "),a("el-form",{ref:"ruleForm",attrs:{rules:e.rules,model:e.ruleForm,"label-width":"100px","label-position":"right"}},[a("el-form-item",{attrs:{label:"退款金额",prop:"refund_money"}},[a("el-input",{attrs:{maxlength:"20","show-word-limit":""},model:{value:e.ruleForm.refund_money,callback:function(t){e.$set(e.ruleForm,"refund_money",t)},expression:"ruleForm.refund_money"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"退款时间",prop:"operation_time"}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",type:"datetime",placeholder:"选择日期时间"},model:{value:e.ruleForm.operation_time,callback:function(t){e.$set(e.ruleForm,"operation_time",t)},expression:"ruleForm.operation_time"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"是否限制充值",prop:"pay_refused"}},[a("el-checkbox",{model:{value:e.ruleForm.pay_refused,callback:function(t){e.$set(e.ruleForm,"pay_refused",t)},expression:"ruleForm.pay_refused"}},[e._v("不允许再充值")])],1)],1),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){return e.closeRulesFormDialog("ruleForm")}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("保 存")])],1)],1)],1)},i=[],o=(a("163d"),a("6d57"),a("b449"),a("6648")),r=a("200d"),l=a("b775");function s(e){return Object(l["a"])({url:"/union/diamonds/ajaxsearch",method:"GET",params:e})}function c(e){return Object(l["a"])({url:"/union/diamonds/view/".concat(e),method:"GET"})}var u=a("aa3e"),m=a("6787"),d={name:"users",data:function(){var e,t=this,a=function(e,a,n){if(a){var i=/^\d+(\.\d{0,2})?$/;i.test(a)?100*a>100*t.refundData.price?n(new Error("退款金额不能大于可退款金额!")):n():n(new Error("必须为数字类型,且小数点后最多保留2位"))}else n(new Error("请输入退款金额"))};return e={creditTypeOptions:m["a"],totalNum:0,ext_stat:"",formInline:{groupid:this.$store.state.user.groupInfo.id,date:{startday:"",endday:""},username:"",userid:"",operation:"",description:"",startday:"",endday:"",pageSize:20,pageNum:1,offset:0},startOptions:{disabledDate:!1},endOptions:{disabledDate:!1}},Object(r["a"])(e,"ext_stat",""),Object(r["a"])(e,"tableData",[]),Object(r["a"])(e,"operationOptions",[]),Object(r["a"])(e,"orderDetail",{orderForm:{},columns:{},orderDialog:!1,tableColumns:["id","userid","credittype","operation","number","count","description","ipaddr","operator","dateline"]}),Object(r["a"])(e,"detailDialog",{detailDialog:!1,detailForm:{},columns:{}}),Object(r["a"])(e,"ruleFormDialog",!1),Object(r["a"])(e,"ruleFormTitle",""),Object(r["a"])(e,"refundData",{}),Object(r["a"])(e,"ruleForm",{refund_id:"",userid:"",order_id:"",pay_mode:"",refund_money:"",operation_time:"",admin:"",client_id:"",channel:"",udid:"",dateline:""}),Object(r["a"])(e,"rules",{refund_money:[{required:!0,validator:a,trigger:"blur"}],operation_time:[{required:!0,message:"请选择退款时间",trigger:"change"}]}),e},created:function(){this.formInline.date.startday=this.getDateNow()[0],this.formInline.date.endday=this.getDateNow()[1],this.getOnlineList(),this.getOperationOptions()},watch:{$route:{handler:function(e){this.formInline.username=e.params.username},immediate:!0}},methods:{onSubmit:function(){this.getOnlineList()},getOnlineList:function(){var e=this,t=JSON.parse(JSON.stringify(this.formInline));t.startday=t.date.startday,t.endday=t.date.endday,t.offset=(t.pageNum-1)*t.pageSize,delete t.date,s(t).then((function(t){0===t.code&&(e.tableData=t.data.items,e.ext_stat=t.data.ext_stat,e.totalNum=+t.data.total_rows)}))},getOperationOptions:function(){var e=this;Object(u["b"])().then((function(t){0===t.code&&(e.operationOptions=t.data)}))},sortChange:function(e){e.column;var t=e.prop,a=e.order;console.log(a),this.formInline.orderByColumn=t;var n="DESC";"ascending"===a&&(n="ASC"),this.formInline.isAsc=n},handleSizeChange:function(e){this.formInline.pageNum=1,this.formInline.pageSize=e,this.getOnlineList()},handleCurrentChange:function(e){this.formInline.pageNum=e,this.getOnlineList()},handlePrev:function(e){this.prevDate(this.formInline.date,e),this.getOnlineList()},openOrder:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c(t);case 2:a=e.sent,a&&0===a.code&&(this.orderDetail.orderForm=a.data.item,this.orderDetail.columns=a.data.columns,this.orderDetail.orderDialog=!0);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),openDetail:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,get_user_by_id(t);case 2:a=e.sent,a&&0===a.code&&(this.detailDialog.detailForm=a.data.item,this.detailDialog.columns=a.data.columns,this.detailDialog.detailDialog=!0);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getDetailById:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,get_user_by_id(t);case 2:a=e.sent,a&&0===a.code&&(this.detailDialog.detailForm=a.data.item);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),closeDialog:function(e){this.detailDialog.detailDialog=e},openEdit:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,a){var n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.ruleFormTitle=t,"新增"!==t){e.next=5;break}this.ruleFormDialog=!0,e.next=14;break;case 5:if("退款"!==t){e.next=13;break}return n={order_id:a},e.next=9,get_refund(n);case 9:i=e.sent,i&&0===i.code&&(this.refundData=i.data,this.ruleForm=i.data.item,this.ruleFormDialog=!0),e.next=14;break;case 13:return e.abrupt("return",!1);case 14:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}(),submitForm:function(e){var t=this;this.$refs[e].validate((function(a){if(!a)return!1;JSON.parse(JSON.stringify(t.ruleForm));var n={refund_id:t.ruleForm.refund_id,userid:t.ruleForm.userid,order_id:t.ruleForm.order_id,pay_mode:t.ruleForm.pay_mode,refund_money:t.ruleForm.refund_money,operation_time:t.ruleForm.operation_time,pay_refused:t.ruleForm.pay_refused,admin:t.ruleForm.admin,client_id:t.ruleForm.client_id,channel:t.ruleForm.channel,udid:t.ruleForm.udid,dateline:t.ruleForm.dateline};console.log(n),save_edit(n).then((function(a){a&&0===a.code&&(t.$message.success({message:a.info}),t.closeRulesFormDialog(e),t.getOnlineList())}))}))},closeRulesFormDialog:function(e){this.$refs[e].resetFields(),this.ruleFormDialog=!1},getSummaries:function(e){var t=e.columns,a=e.data,n=[];return t.forEach((function(e,t){if(0!==t)if("total_price"===e.property){var i=a.map((function(e){return Number(e["total_price"])})),o=0;i.forEach((function(e){o+=e})),n[t]=o+"元"}else n[t]="";else n[t]="合计"})),n}}},p=d,f=(a("2ff0"),a("82e4"),a("1b60"),a("9ca4")),v=Object(f["a"])(p,n,i,!1,null,"2d83b0b1",null);t["default"]=v.exports},"2c35":function(e,t,a){"use strict";var n=a("35d5"),i=a.n(n);i.a},"2e2a":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i})),a.d(t,"d",(function(){return o})),a.d(t,"c",(function(){return r})),a.d(t,"e",(function(){return l}));var n={formRef:"elForm",formModel:"formData",size:"medium",labelPosition:"right",labelWidth:100,formRules:"rules",gutter:15,disabled:!1,span:24,formBtns:!0},i=[{label:"单行文本",tag:"el-input",tagIcon:"input",placeholder:"请输入",defaultValue:void 0,span:24,labelWidth:null,style:{width:"100%"},clearable:!0,prepend:"",append:"","prefix-icon":"","suffix-icon":"",maxlength:null,"show-word-limit":!1,readonly:!1,disabled:!1,required:!0,regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/input"},{label:"多行文本",tag:"el-input",tagIcon:"textarea",type:"textarea",placeholder:"请输入",defaultValue:void 0,span:24,labelWidth:null,autosize:{minRows:4,maxRows:4},style:{width:"100%"},maxlength:null,"show-word-limit":!1,readonly:!1,disabled:!1,required:!0,regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/input"},{label:"密码",tag:"el-input",tagIcon:"password",placeholder:"请输入",defaultValue:void 0,span:24,"show-password":!0,labelWidth:null,style:{width:"100%"},clearable:!0,prepend:"",append:"","prefix-icon":"","suffix-icon":"",maxlength:null,"show-word-limit":!1,readonly:!1,disabled:!1,required:!0,regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/input"},{label:"计数器",tag:"el-input-number",tagIcon:"number",placeholder:"",defaultValue:void 0,span:24,labelWidth:null,min:void 0,max:void 0,step:void 0,"step-strictly":!1,precision:void 0,"controls-position":"",disabled:!1,required:!0,regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/input-number"}],o=[{label:"下拉选择",tag:"el-select",tagIcon:"select",placeholder:"请选择",defaultValue:void 0,span:24,labelWidth:null,style:{width:"100%"},clearable:!0,disabled:!1,required:!0,filterable:!1,multiple:!1,options:[{label:"选项一",value:1},{label:"选项二",value:2}],regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/select"},{label:"级联选择",tag:"el-cascader",tagIcon:"cascader",placeholder:"请选择",defaultValue:[],span:24,labelWidth:null,style:{width:"100%"},props:{props:{multiple:!1}},"show-all-levels":!0,disabled:!1,clearable:!0,filterable:!1,required:!0,options:[{id:1,value:1,label:"选项1",children:[{id:2,value:2,label:"选项1-1"}]}],dataType:"dynamic",labelKey:"label",valueKey:"value",childrenKey:"children",separator:"/",regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/cascader"},{label:"单选框组",tag:"el-radio-group",tagIcon:"radio",defaultValue:void 0,span:24,labelWidth:null,style:{},optionType:"default",border:!1,size:"medium",disabled:!1,required:!0,options:[{label:"选项一",value:1},{label:"选项二",value:2}],regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/radio"},{label:"多选框组",tag:"el-checkbox-group",tagIcon:"checkbox",defaultValue:[],span:24,labelWidth:null,style:{},optionType:"default",border:!1,size:"medium",disabled:!1,required:!0,options:[{label:"选项一",value:1},{label:"选项二",value:2}],regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/checkbox"},{label:"开关",tag:"el-switch",tagIcon:"switch",defaultValue:!1,span:24,labelWidth:null,style:{},disabled:!1,required:!0,"active-text":"","inactive-text":"","active-color":null,"inactive-color":null,"active-value":!0,"inactive-value":!1,regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/switch"},{label:"滑块",tag:"el-slider",tagIcon:"slider",defaultValue:null,span:24,labelWidth:null,disabled:!1,required:!0,min:0,max:100,step:1,"show-stops":!1,range:!1,regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/slider"},{label:"时间选择",tag:"el-time-picker",tagIcon:"time",placeholder:"请选择",defaultValue:null,span:24,labelWidth:null,style:{width:"100%"},disabled:!1,clearable:!0,required:!0,"picker-options":{selectableRange:"00:00:00-23:59:59"},format:"HH:mm:ss","value-format":"HH:mm:ss",regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/time-picker"},{label:"时间范围",tag:"el-time-picker",tagIcon:"time-range",defaultValue:null,span:24,labelWidth:null,style:{width:"100%"},disabled:!1,clearable:!0,required:!0,"is-range":!0,"range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间",format:"HH:mm:ss","value-format":"HH:mm:ss",regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/time-picker"},{label:"日期选择",tag:"el-date-picker",tagIcon:"date",placeholder:"请选择",defaultValue:null,type:"date",span:24,labelWidth:null,style:{width:"100%"},disabled:!1,clearable:!0,required:!0,format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",readonly:!1,regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/date-picker"},{label:"日期范围",tag:"el-date-picker",tagIcon:"date-range",defaultValue:null,span:24,labelWidth:null,style:{width:"100%"},type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",disabled:!1,clearable:!0,required:!0,format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",readonly:!1,regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/date-picker"},{label:"评分",tag:"el-rate",tagIcon:"rate",defaultValue:0,span:24,labelWidth:null,style:{},max:5,"allow-half":!1,"show-text":!1,"show-score":!1,disabled:!1,required:!0,regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/rate"},{label:"颜色选择",tag:"el-color-picker",tagIcon:"color",defaultValue:null,labelWidth:null,"show-alpha":!1,"color-format":"",disabled:!1,required:!0,size:"medium",regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/color-picker"},{label:"上传",tag:"el-upload",tagIcon:"upload",action:"https://jsonplaceholder.typicode.com/posts/",defaultValue:null,labelWidth:null,disabled:!1,required:!0,accept:"",name:"file","auto-upload":!0,showTip:!1,buttonText:"点击上传",fileSize:2,sizeUnit:"MB","list-type":"text",multiple:!1,regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/upload"}],r=[{layout:"rowFormItem",tagIcon:"row",type:"default",justify:"start",align:"top",label:"行容器",layoutTree:!0,children:[],document:"https://element.eleme.cn/#/zh-CN/component/layout"}],l={"el-input":"blur","el-input-number":"blur","el-select":"change","el-radio-group":"change","el-checkbox-group":"change","el-cascader":"change","el-time-picker":"change","el-date-picker":"change","el-rate":"change"}},"2ff0":function(e,t,a){"use strict";var n=a("625b"),i=a.n(n);i.a},"323b":function(e,t,a){},3296:function(e,t,a){"use strict";var n=a("114f"),i=a.n(n);i.a},"32b3":function(e,t,a){"use strict";var n=a("8523"),i=a.n(n);i.a},"32c1":function(e,t,a){"use strict";var n=a("ecb2"),i=a.n(n);i.a},3332:function(e,t,a){"use strict";var n=a("b3e7"),i=a.n(n);i.a},3393:function(e,t,a){"use strict";var n=a("573d"),i=a.n(n);i.a},3405:function(e,t,a){"use strict";var n=a("022a"),i=a.n(n);i.a},3528:function(e,t,a){"use strict";a.d(t,"f",(function(){return i})),a.d(t,"a",(function(){return o})),a.d(t,"h",(function(){return r})),a.d(t,"c",(function(){return l})),a.d(t,"b",(function(){return s})),a.d(t,"d",(function(){return c})),a.d(t,"e",(function(){return u}));var n=a("b775");function i(e){return Object(n["a"])({url:"/system/role/"+e,method:"get"})}function o(e){return Object(n["a"])({url:"/system/role",method:"post",data:e})}function r(e){return Object(n["a"])({url:"/system/role",method:"put",data:e})}function l(e){return Object(n["a"])({url:"/system/role/dataScope",method:"put",data:e})}function s(e,t){var a={roleId:e,status:t};return Object(n["a"])({url:"/system/role/changeStatus",method:"put",data:a})}function c(e){return Object(n["a"])({url:"/system/role/"+e,method:"delete"})}function u(e){return Object(n["a"])({url:"/system/role/export",method:"get",params:e})}},"35d5":function(e,t,a){},"380d":function(e,t,a){"use strict";var n=a("542f"),i=a.n(n);i.a},"38a9":function(e,t,a){},"38d4":function(e,t,a){},"38f8":function(e,t,a){"use strict";var n=a("bfd60"),i=a.n(n);i.a},3903:function(e,t,a){},"390d":function(e,t,a){"use strict";var n=a("a0e4"),i=a.n(n);i.a},"3a7e":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"icons-container"},[e._m(0),e._v(" "),a("el-tabs",{attrs:{type:"border-card"}},[a("el-tab-pane",{attrs:{label:"Icons"}},e._l(e.svgIcons,(function(t){return a("div",{key:t},[a("el-tooltip",{attrs:{placement:"top"}},[a("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n            "+e._s(e.generateIconCode(t))+"\n          ")]),e._v(" "),a("div",{staticClass:"icon-item"},[a("svg-icon",{attrs:{"icon-class":t,"class-name":"disabled"}}),e._v(" "),a("span",[e._v(e._s(t))])],1)])],1)})),0),e._v(" "),a("el-tab-pane",{attrs:{label:"Element-UI Icons"}},e._l(e.elementIcons,(function(t){return a("div",{key:t},[a("el-tooltip",{attrs:{placement:"top"}},[a("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n            "+e._s(e.generateElementIconCode(t))+"\n          ")]),e._v(" "),a("div",{staticClass:"icon-item"},[a("i",{class:"el-icon-"+t}),e._v(" "),a("span",[e._v(e._s(t))])])])],1)})),0)],1)],1)},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("aside",[a("a",{attrs:{href:"#",target:"_blank"}},[e._v("Add and use\n    ")])])}],o=a("c7e9"),r=a("bb49"),l={name:"Icons",data:function(){return{svgIcons:o["default"],elementIcons:r["default"]}},methods:{generateIconCode:function(e){return'<svg-icon icon-class="'.concat(e,'" />')},generateElementIconCode:function(e){return'<i class="el-icon-'.concat(e,'" />')}}},s=l,c=(a("2065"),a("9ca4")),u=Object(c["a"])(s,n,i,!1,null,"eaecd1d2",null);t["default"]=u.exports},"3ab6":function(e,t,a){"use strict";var n=a("aef8"),i=a.n(n);i.a},"3c7a":function(e,t,a){},"3dc7":function(e,t,a){},"3eac":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"任务名称",prop:"jobName"}},[a("el-input",{attrs:{placeholder:"请输入任务名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.jobName,callback:function(t){e.$set(e.queryParams,"jobName",t)},expression:"queryParams.jobName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"任务组名",prop:"jobGroup"}},[a("el-select",{attrs:{placeholder:"请选择任务组名",clearable:"",size:"small"},model:{value:e.queryParams.jobGroup,callback:function(t){e.$set(e.queryParams,"jobGroup",t)},expression:"queryParams.jobGroup"}},e._l(e.jobGroupOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"任务状态",prop:"status"}},[a("el-select",{attrs:{placeholder:"请选择任务状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:job:add"],expression:"['monitor:job:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:job:edit"],expression:"['monitor:job:edit']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:job:remove"],expression:"['monitor:job:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:job:export"],expression:"['monitor:job:export']"}],attrs:{type:"warning",icon:"el-icon-download",size:"mini"},on:{click:e.handleExport}},[e._v("导出")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:job:query"],expression:"['monitor:job:query']"}],attrs:{type:"info",icon:"el-icon-s-operation",size:"mini"},on:{click:e.handleJobLog}},[e._v("日志")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.jobList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"任务编号",align:"center",prop:"jobId"}}),e._v(" "),a("el-table-column",{attrs:{label:"任务名称",align:"center",prop:"jobName","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"任务组名",align:"center",prop:"jobGroup",formatter:e.jobGroupFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"调用目标字符串",align:"center",prop:"invokeTarget","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"cron执行表达式",align:"center",prop:"cronExpression","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-value":"0","inactive-value":"1"},on:{change:function(a){return e.handleStatusChange(t.row)}},model:{value:t.row.status,callback:function(a){e.$set(t.row,"status",a)},expression:"scope.row.status"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:job:edit"],expression:"['monitor:job:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-caret-right"},on:{click:function(a){return e.handleRun(t.row)}}},[e._v("执行一次")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:job:query"],expression:"['monitor:job:query']"}],attrs:{size:"mini",type:"text",icon:"el-icon-view"},on:{click:function(a){return e.handleView(t.row)}}},[e._v("详细")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"700px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"120px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"任务名称",prop:"jobName"}},[a("el-input",{attrs:{placeholder:"请输入任务名称"},model:{value:e.form.jobName,callback:function(t){e.$set(e.form,"jobName",t)},expression:"form.jobName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"任务分组",prop:"jobGroup"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.jobGroup,callback:function(t){e.$set(e.form,"jobGroup",t)},expression:"form.jobGroup"}},e._l(e.jobGroupOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{prop:"invokeTarget"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("\n              调用方法\n              "),a("el-tooltip",{attrs:{placement:"top"}},[a("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n                  Bean调用示例：ryTask.ryParams('ry')\n                  "),a("br"),e._v("Class类调用示例：com.ruoyi.quartz.task.RyTask.ryParams('ry')\n                  "),a("br"),e._v("参数说明：支持字符串，布尔类型，长整型，浮点型，整型\n                ")]),e._v(" "),a("i",{staticClass:"el-icon-question"})])],1),e._v(" "),a("el-input",{attrs:{placeholder:"请输入调用目标字符串"},model:{value:e.form.invokeTarget,callback:function(t){e.$set(e.form,"invokeTarget",t)},expression:"form.invokeTarget"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"cron表达式",prop:"cronExpression"}},[a("el-input",{attrs:{placeholder:"请输入cron执行表达式"},model:{value:e.form.cronExpression,callback:function(t){e.$set(e.form,"cronExpression",t)},expression:"form.cronExpression"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"是否并发",prop:"concurrent"}},[a("el-radio-group",{attrs:{size:"small"},model:{value:e.form.concurrent,callback:function(t){e.$set(e.form,"concurrent",t)},expression:"form.concurrent"}},[a("el-radio-button",{attrs:{label:"0"}},[e._v("允许")]),e._v(" "),a("el-radio-button",{attrs:{label:"1"}},[e._v("禁止")])],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"错误策略",prop:"misfirePolicy"}},[a("el-radio-group",{attrs:{size:"small"},model:{value:e.form.misfirePolicy,callback:function(t){e.$set(e.form,"misfirePolicy",t)},expression:"form.misfirePolicy"}},[a("el-radio-button",{attrs:{label:"1"}},[e._v("立即执行")]),e._v(" "),a("el-radio-button",{attrs:{label:"2"}},[e._v("执行一次")]),e._v(" "),a("el-radio-button",{attrs:{label:"3"}},[e._v("放弃执行")])],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"状态"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusOptions,(function(t){return a("el-radio",{key:t.dictValue,attrs:{label:t.dictValue}},[e._v(e._s(t.dictLabel))])})),1)],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"任务详细",visible:e.openView,width:"700px","append-to-body":""},on:{"update:visible":function(t){e.openView=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"120px",size:"mini"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"任务编号："}},[e._v(e._s(e.form.jobId))]),e._v(" "),a("el-form-item",{attrs:{label:"任务名称："}},[e._v(e._s(e.form.jobName))])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"任务分组："}},[e._v(e._s(e.jobGroupFormat(e.form)))]),e._v(" "),a("el-form-item",{attrs:{label:"创建时间："}},[e._v(e._s(e.form.createTime))])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"cron表达式："}},[e._v(e._s(e.form.cronExpression))])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"下次执行时间："}},[e._v(e._s(e.parseTime(e.form.nextValidTime)))])],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"调用目标方法："}},[e._v(e._s(e.form.invokeTarget))])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"任务状态："}},[0==e.form.status?a("div",[e._v("正常")]):1==e.form.status?a("div",[e._v("失败")]):e._e()])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"是否并发："}},[0==e.form.concurrent?a("div",[e._v("允许")]):1==e.form.concurrent?a("div",[e._v("禁止")]):e._e()])],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"执行策略："}},[0==e.form.misfirePolicy?a("div",[e._v("默认策略")]):1==e.form.misfirePolicy?a("div",[e._v("立即执行")]):2==e.form.misfirePolicy?a("div",[e._v("执行一次")]):3==e.form.misfirePolicy?a("div",[e._v("放弃执行")]):e._e()])],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.openView=!1}}},[e._v("关 闭")])],1)],1)],1)},i=[],o=a("b775");function r(e){return Object(o["a"])({url:"/monitor/job/list",method:"get",params:e})}function l(e){return Object(o["a"])({url:"/monitor/job/"+e,method:"get"})}function s(e){return Object(o["a"])({url:"/monitor/job",method:"post",data:e})}function c(e){return Object(o["a"])({url:"/monitor/job",method:"put",data:e})}function u(e){return Object(o["a"])({url:"/monitor/job/"+e,method:"delete"})}function m(e){return Object(o["a"])({url:"/monitor/job/export",method:"get",params:e})}function d(e,t){var a={jobId:e,status:t};return Object(o["a"])({url:"/monitor/job/changeStatus",method:"put",data:a})}function p(e,t){var a={jobId:e,jobGroup:t};return Object(o["a"])({url:"/monitor/job/run",method:"put",data:a})}var f={name:"Job",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,jobList:[],title:"",open:!1,openView:!1,jobGroupOptions:[],statusOptions:[],queryParams:{pageNum:1,pageSize:10,jobName:void 0,jobGroup:void 0,status:void 0},form:{},rules:{jobName:[{required:!0,message:"任务名称不能为空",trigger:"blur"}],invokeTarget:[{required:!0,message:"调用目标字符串不能为空",trigger:"blur"}],cronExpression:[{required:!0,message:"cron执行表达式不能为空",trigger:"blur"}]}}},created:function(){var e=this;this.getList(),this.getDicts("sys_job_group").then((function(t){e.jobGroupOptions=t.data})),this.getDicts("sys_job_status").then((function(t){e.statusOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,r(this.queryParams).then((function(t){e.jobList=t.rows,e.total=t.total,e.loading=!1}))},jobGroupFormat:function(e,t){return this.selectDictLabel(this.jobGroupOptions,e.jobGroup)},statusFormat:function(e,t){return this.selectDictLabel(this.statusOptions,e.status)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={jobId:void 0,jobName:void 0,jobGroup:void 0,invokeTarget:void 0,cronExpression:void 0,misfirePolicy:1,concurrent:1,status:"0"},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.jobId})),this.single=1!=e.length,this.multiple=!e.length},handleStatusChange:function(e){var t=this,a="0"===e.status?"启用":"停用";this.$confirm('确认要"'+a+'""'+e.jobName+'"任务吗?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return d(e.jobId,e.status)})).then((function(){t.msgSuccess(a+"成功")})).catch((function(){e.status="0"===e.status?"1":"0"}))},handleRun:function(e){var t=this;this.$confirm('确认要立即执行一次"'+e.jobName+'"任务吗?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return p(e.jobId,e.jobGroup)})).then((function(){t.msgSuccess("执行成功")})).catch((function(){}))},handleView:function(e){var t=this;l(e.jobId).then((function(e){t.form=e.data,t.openView=!0}))},handleJobLog:function(){this.$router.push("/job/log")},handleAdd:function(){this.reset(),this.open=!0,this.title="添加任务"},handleUpdate:function(e){var t=this;this.reset();var a=e.jobId||this.ids;l(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改任务"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.jobId?c(e.form).then((function(t){200===t.code&&(e.msgSuccess("修改成功"),e.open=!1,e.getList())})):s(e.form).then((function(t){200===t.code&&(e.msgSuccess("新增成功"),e.open=!1,e.getList())})))}))},handleDelete:function(e){var t=this,a=e.jobId||this.ids;this.$confirm('是否确认删除定时任务编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return u(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有定时任务数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return m(t)})).then((function(t){e.download(t.msg)})).catch((function(){}))}}},v=f,h=a("9ca4"),b=Object(h["a"])(v,n,i,!1,null,null,null);t["default"]=b.exports},"3f23":function(e,t,a){},"3feb":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"publicStyle"},[a("div",{staticClass:"publicStyle-conter"},[a(e.currentPage,{tag:"component",attrs:{obj:e.obj,"keep-alive":""},on:{changePage:e.changePage}})],1)])},i=[],o=(a("bbd8"),a("0d62")),r={name:"anchors",components:{LIST:o["default"]},data:function(){return{currentPage:"LIST",obj:{},activePage:"LIST"}},methods:{changePage:function(e,t){this.currentPage=e,t&&(this.obj=t)},changeActive:function(e){this.activePage=e,this.changePage(e)}}},l=r,s=(a("380d"),a("9ca4")),c=Object(s["a"])(l,n,i,!1,null,"d334c8ac",null);t["default"]=c.exports},4163:function(e,t,a){"use strict";var n=a("97d5"),i=a.n(n);i.a},"41c2":function(e,t,a){},4292:function(e,t,a){"use strict";var n=a("38a9"),i=a.n(n);i.a},4391:function(e,t,a){"use strict";var n=a("7783"),i=a.n(n);i.a},4458:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-container",{staticClass:"chatting-records"},[n("div",{staticClass:"anchor-info"},[n("div",{staticClass:"profile-box cursor"},[n("span",{staticClass:"profile-status"}),e._v(" "),n("img",{staticClass:"profile",attrs:{src:a("ffe7"),alt:""}})])]),e._v(" "),n("el-aside",{staticClass:"chatting-aside",staticStyle:{"background-color":"#e7e7e7"},attrs:{width:"250px"}},[n("el-row",[n("el-col",{ref:"visitor",staticClass:"visitor"},e._l(e.tableData,(function(t,i){return n("el-row",{key:i,staticClass:"visitor-item cursor",class:1===t?"active":"",on:{click:e.checkChatting}},[n("el-col",{staticClass:"visitor-info-box"},[n("div",{staticClass:"profile-box"},[n("span",{staticClass:"profile-status"}),e._v(" "),n("img",{staticClass:"profile",attrs:{src:a("ffe7"),alt:""}})]),e._v(" "),n("div",{staticClass:"visitor-info"},[n("div",{staticClass:"visitor-info-header"},[n("span",{staticClass:"iconfont icon-nan icon-gender-men"}),e._v(" "),n("span",{staticClass:"visitor-info-name"},[e._v("刘翔")]),e._v(" "),n("span",{staticClass:"chatting-created-time"},[e._v("10:44")])]),e._v(" "),n("div",{staticClass:"visitor-info-content"},[e._v("[语音]")])])])],1)})),1)],1)],1),e._v(" "),n("el-container",{staticClass:"chat-window"},[n("el-header",{staticClass:"chat-window-header",staticStyle:{"text-align":"right","font-size":"10px"}},[n("span",{staticClass:"iconfont icon-guding icon-font-size icon-top-right"}),e._v(" "),n("span",{staticClass:"iconfont icon-minimum icon-font-size icon-top-right"}),e._v(" "),n("span",{staticClass:"iconfont icon-fangkuang icon-font-size icon-top-right"}),e._v(" "),n("span",{staticClass:"iconfont icon-cha icon-font-size icon-close-button cursor",on:{click:e.close}}),e._v(" "),n("span",{staticClass:"visitor-nickname"},[e._v("刘翔")])]),e._v(" "),n("el-main",{ref:"chatting-main",staticClass:"chat-window-content"},[n("div",{ref:"chatting-content"},[n("div",{staticClass:"loadmore cursor",on:{click:e.loadMore}},[e._v(e._s(e.loadText))]),e._v(" "),e._l(e.chattingRecords,(function(t,i){return n("div",{key:i,staticClass:"chatt-records-item-box"},[t.showTime?n("div",{staticClass:"chatting-time"},[e._v(e._s(t.createdTime))]):e._e(),e._v(" "),n("div",{staticClass:"chatt-records-item",class:t.anchor?"anchor-chatt-records":"visitor-chatt-records"},[n("div",{staticClass:"profile-box"},[n("img",{staticClass:"profile",attrs:{src:a("ffe7"),alt:""}})]),e._v(" "),n("div",{staticClass:"chatt-records-message"},[n("span",{staticClass:"triangle-before"}),e._v(" "),n("span",[e._v(e._s(t.text))])])])])}))],2)]),e._v(" "),n("el-footer",{staticClass:"chat-window-footer"},[n("div",{staticClass:"chat-window-footer-top"},[n("div",{staticClass:"chat-window-top-left"},[n("span",{staticClass:"iconfont icon-biaoqing icon-font-size icon-top-right"}),e._v(" "),n("span",{staticClass:"iconfont icon-wenjianjia icon-font-size icon-top-right"}),e._v(" "),n("span",{staticClass:"iconfont icon-jianqie icon-font-size icon-top-right"}),e._v(" "),n("span",{staticClass:"iconfont icon-liaotianjilu icon-font-size"})]),e._v(" "),n("div",{staticClass:"chat-window-top-right"},[n("span",{staticClass:"iconfont icon-weibiaoti- icon-font-size icon-top-right"}),e._v(" "),n("span",{staticClass:"iconfont icon-video_icon icon-font-size"})])]),e._v(" "),n("div",{staticClass:"chat-window-footer-content"}),e._v(" "),n("div",{staticClass:"chat-window-footer-bottom"},[n("div",{staticClass:"chat-window-bottom-buttons"},[n("span",[e._v("发送(Enter)")]),e._v(" "),n("span",{staticClass:"bottom-button-line"}),e._v(" "),n("span",{staticClass:"bottom-button"},[e._v("\n            跳过\n            "),n("span",{staticClass:"iconfont icon-xiayishou_huaban icon-font-size"})])])])])],1)],1)},i=[],o=a("ad0a"),r=(a("6d57"),{name:"",props:["id"],data:function(){return{tableData:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],intervalTime:0,scrollHeight:0,chattingRecords:[],resData:[{id:1,user:{},anchor:!0,visitor:!1,text:"这是一个寂寞的天",createdTime:"2020-06-20 12:50:01"},{id:2,user:{},anchor:!1,visitor:!0,text:"下着有些伤心的雨",createdTime:"2020-06-20 12:51:01"},{id:3,user:{},anchor:!0,visitor:!1,text:"下着有些伤心的雨",createdTime:"2020-06-20 12:57:01"},{id:4,user:{},anchor:!0,visitor:!1,text:"下着有些伤心的雨",createdTime:"2020-06-20 12:57:50"},{id:5,user:{},anchor:!0,visitor:!1,text:"下着有些伤心的雨",createdTime:"2020-06-20 12:58:10"},{id:6,user:{},anchor:!0,visitor:!1,text:"下着有些伤心的雨",createdTime:"2020-06-20 12:57:01"},{id:7,user:{},anchor:!0,visitor:!1,text:"下着有些伤心的雨",createdTime:"2020-06-20 12:57:50"},{id:8,user:{},anchor:!0,visitor:!1,text:"下着有些伤心的雨",createdTime:"2020-06-20 12:58:10"}],loadText:"点击查看更多",time:null}},components:{},computed:{},beforeMount:function(){},created:function(){this.getList()},mounted:function(){var e=this;this.$nextTick((function(){e.$refs["chatting-main"].$el.scrollTop=9999999;var t=e.$refs["chatting-content"];e.scrollHeight=t.scrollHeight}));var t=this.$refs["chatting-main"].$el;t.addEventListener("scroll",(function(t){e.pullDownRefresh(t)}))},methods:{checkChatting:function(){},loadMore:function(){var e=(new Date).getTime();if(e-this.intervalTime<=2e3)return!1;this.intervalTime=e,this.getList()},scrollTo:function(){var e=this.$refs["chatting-content"],t=e.scrollHeight-this.scrollHeight;this.$refs["chatting-main"].$el.scrollTo(0,t),this.scrollHeight=e.scrollHeight},getList:function(){var e=this,t=(this.resData,JSON.parse(JSON.stringify(this.resData)));t.forEach((function(e,a){e.showTime=!0;var n=0,i=new Date(e.createdTime).getTime();0!==a&&(n=new Date(t[a-1].createdTime).getTime()),n&&i-n<3e5&&(e.showTime=!1)})),setTimeout((function(){var a;(a=e.chattingRecords).unshift.apply(a,Object(o["a"])(t)),clearTimeout(e.time),e.time=null,e.loadText="点击查看更多",e.scrollHeight&&e.$nextTick((function(){e.scrollTo()}))}))},pullDownRefresh:function(e){var t=this;this.time||(this.chattingRecords.length>=50?this.loadText="没有更多数据了":(this.loadText="加载中...",this.time=setTimeout((function(){console.log("正在更新"),0==e.target.scrollTop&&(e.target.scrollTop=10,t.getList())}),2e3)))},close:function(){console.log(123),this.$emit("closeDialog",!1)}},watch:{}}),l=r,s=(a("cc7f"),a("9ca4")),c=Object(s["a"])(l,n,i,!1,null,"2f7886b7",null);t["default"]=c.exports},"44c3":function(e,t,a){"use strict";var n=a("6e19"),i=a.n(n);i.a},4630:function(e,t,a){},"483a":function(e,t,a){},4923:function(e,t,a){"use strict";a.r(t);var n=a("8ecb"),i=a.n(n),o=a("a85b"),r={itemBtns:function(e,t,a,n){var i=this.$listeners,o=i.copyItem,r=i.deleteItem;return[e("span",{class:"drawing-item-copy",attrs:{title:"复制"},on:{click:function(e){o(t,n),e.stopPropagation()}}},[e("i",{class:"el-icon-copy-document"})]),e("span",{class:"drawing-item-delete",attrs:{title:"删除"},on:{click:function(e){r(a,n),e.stopPropagation()}}},[e("i",{class:"el-icon-delete"})])]}},l={colFormItem:function(e,t,a,n){var i=this,l=this.$listeners.activeItem,s=this.activeId===t.formId?"drawing-item active-from-item":"drawing-item";return this.formConf.unFocusedComponentBorder&&(s+=" unfocus-bordered"),e("el-col",{attrs:{span:t.span},class:s,nativeOn:{click:function(e){l(t),e.stopPropagation()}}},[e("el-form-item",{attrs:{"label-width":t.labelWidth?"".concat(t.labelWidth,"px"):null,label:t.label,required:t.required}},[e(o["a"],{key:t.renderKey,attrs:{conf:t},on:{input:function(e){i.$set(t,"defaultValue",e)}}})]),r.itemBtns.apply(this,arguments)])},rowFormItem:function(e,t,a,n){var o=this.$listeners.activeItem,l=this.activeId===t.formId?"drawing-row-item active-from-item":"drawing-row-item",c=s.apply(this,arguments);return"flex"===t.type&&(c=e("el-row",{attrs:{type:t.type,justify:t.justify,align:t.align}},[c])),e("el-col",{attrs:{span:t.span}},[e("el-row",{attrs:{gutter:t.gutter},class:l,nativeOn:{click:function(e){o(t),e.stopPropagation()}}},[e("span",{class:"component-name"},[t.componentName]),e(i.a,{attrs:{list:t.children,animation:340,group:"componentsGroup"},class:"drag-wrapper"},[c]),r.itemBtns.apply(this,arguments)])])}};function s(e,t,a,n){var i=this;return Array.isArray(t.children)?t.children.map((function(a,n){var o=l[a.layout];return o?o.call(i,e,a,n,t.children):c()})):null}function c(){throw new Error("没有与".concat(this.element.layout,"匹配的layout"))}var u,m,d={components:{render:o["a"],draggable:i.a},props:["element","index","drawingList","activeId","formConf"],render:function(e){var t=l[this.element.layout];return t?t.call(this,e,this.element,this.index,this.drawingList):c()}},p=d,f=a("9ca4"),v=Object(f["a"])(p,u,m,!1,null,null,null);t["default"]=v.exports},4976:function(e,t,a){},"4a41":function(e,t,a){},"4a49":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],style:"height:"+e.height},[a("iframe",{staticStyle:{width:"100%",height:"100%"},attrs:{src:e.src,frameborder:"no",scrolling:"auto"}})])},i=[],o={name:"Swagger",data:function(){return{src:"/index.php/swagger-ui.html",height:document.documentElement.clientHeight-94.5+"px;",loading:!0}},mounted:function(){var e=this;setTimeout((function(){e.loading=!1}),230);var t=this;window.onresize=function(){t.height=document.documentElement.clientHeight-94.5+"px;"}}},r=o,l=a("9ca4"),s=Object(l["a"])(r,n,i,!1,null,null,null);t["default"]=s.exports},"4a4b":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"publicStyle"},[a("div",{staticClass:"publicStyle-conter"},[a(e.currentPage,{tag:"component",attrs:{obj:e.obj,"keep-alive":""},on:{changePage:e.changePage}})],1)])},i=[],o=(a("bbd8"),a("8aea")),r={name:"anchors",components:{LIST:o["default"]},data:function(){return{currentPage:"LIST",obj:{},activePage:"LIST"}},methods:{changePage:function(e,t){this.currentPage=e,t&&(this.obj=t)},changeActive:function(e){this.activePage=e,this.changePage(e)}}},l=r,s=(a("8c20"),a("9ca4")),c=Object(s["a"])(l,n,i,!1,null,"2ab78f47",null);t["default"]=c.exports},"4b29":function(e,t,a){"use strict";var n=a("0986"),i=a.n(n);i.a},"4b3b":function(e,t,a){var n={"./":"1e4b","./common_components/dateTimePicker":"79da","./common_components/dateTimePicker/":"79da","./common_components/dateTimePicker/index":"79da","./common_components/dateTimePicker/index.vue":"79da","./common_components/detail/components/detail":"4e64","./common_components/detail/components/detail.vue":"4e64","./common_components/detail/components/list":"295c","./common_components/detail/components/list.vue":"295c","./common_components/detail/detail":"50b5","./common_components/detail/detail.vue":"50b5","./common_components/pagination":"5f64","./common_components/pagination/":"5f64","./common_components/pagination/index":"5f64","./common_components/pagination/index.vue":"5f64","./components/icons":"3a7e","./components/icons/":"3a7e","./components/icons/element-icons":"bb49","./components/icons/element-icons.js":"bb49","./components/icons/index":"3a7e","./components/icons/index.vue":"3a7e","./components/icons/svg-icons":"c7e9","./components/icons/svg-icons.js":"c7e9","./dashboard/BarChart":"9488","./dashboard/BarChart.vue":"9488","./dashboard/LineChart":"eab4","./dashboard/LineChart.vue":"eab4","./dashboard/OrderChart":"f07c","./dashboard/OrderChart.vue":"f07c","./dashboard/PanelGroup":"fbc4","./dashboard/PanelGroup.vue":"fbc4","./dashboard/PieChart":"d153","./dashboard/PieChart.vue":"d153","./dashboard/RaddarChart":"0a5c","./dashboard/RaddarChart.vue":"0a5c","./dashboard/mixins/resize":"feb2","./dashboard/mixins/resize.js":"feb2","./error/401":"ec55","./error/401.vue":"ec55","./error/404":"2754","./error/404.vue":"2754","./index":"1e4b","./index.vue":"1e4b","./login":"dd7b","./login.vue":"dd7b","./monitor/druid":"5194","./monitor/druid/":"5194","./monitor/druid/index":"5194","./monitor/druid/index.vue":"5194","./monitor/job":"3eac","./monitor/job/":"3eac","./monitor/job/index":"3eac","./monitor/job/index.vue":"3eac","./monitor/job/log":"0062","./monitor/job/log.vue":"0062","./monitor/logininfor":"67ef","./monitor/logininfor/":"67ef","./monitor/logininfor/index":"67ef","./monitor/logininfor/index.vue":"67ef","./monitor/online":"6b08","./monitor/online/":"6b08","./monitor/online/index":"6b08","./monitor/online/index.vue":"6b08","./monitor/operlog":"02f2","./monitor/operlog/":"02f2","./monitor/operlog/index":"02f2","./monitor/operlog/index.vue":"02f2","./monitor/server":"2a33","./monitor/server/":"2a33","./monitor/server/index":"2a33","./monitor/server/index.vue":"2a33","./operation/gift_log":"4a4b","./operation/gift_log/":"4a4b","./operation/gift_log/components/list":"8aea","./operation/gift_log/components/list.vue":"8aea","./operation/gift_log/index":"4a4b","./operation/gift_log/index.vue":"4a4b","./operation/msg":"dd7c","./operation/msg/":"dd7c","./operation/msg/components/list":"224f","./operation/msg/components/list.vue":"224f","./operation/msg/index":"dd7c","./operation/msg/index.vue":"dd7c","./organization/anchors":"4f3c","./organization/anchors/":"4f3c","./organization/anchors/components/chattingRecords":"c2d3","./organization/anchors/components/chattingRecords.vue":"c2d3","./organization/anchors/components/list":"06ab","./organization/anchors/components/list.vue":"06ab","./organization/anchors/components/mymember":"99c8","./organization/anchors/components/mymember.vue":"99c8","./organization/anchors/index":"4f3c","./organization/anchors/index.vue":"4f3c","./organization/anchorsAudit":"8670","./organization/anchorsAudit/":"8670","./organization/anchorsAudit/components/list":"882d","./organization/anchorsAudit/components/list.vue":"882d","./organization/anchorsAudit/index":"8670","./organization/anchorsAudit/index.vue":"8670","./organization/unions":"66e4","./organization/unions/":"66e4","./organization/unions/components/anchor":"58c2","./organization/unions/components/anchor.vue":"58c2","./organization/unions/components/list":"fa26","./organization/unions/components/list.vue":"fa26","./organization/unions/components/see":"2496","./organization/unions/components/see.vue":"2496","./organization/unions/index":"66e4","./organization/unions/index.vue":"66e4","./redirect":"9b8f","./redirect.vue":"9b8f","./system/config":"cdb7","./system/config/":"cdb7","./system/config/index":"cdb7","./system/config/index.vue":"cdb7","./system/dept":"5cfa","./system/dept/":"5cfa","./system/dept/index":"5cfa","./system/dept/index.vue":"5cfa","./system/dict":"046a","./system/dict/":"046a","./system/dict/data":"bfc4","./system/dict/data.vue":"bfc4","./system/dict/index":"046a","./system/dict/index.vue":"046a","./system/log":"b380","./system/log/":"b380","./system/log/index":"b380","./system/log/index.vue":"b380","./system/menu":"f794","./system/menu/":"f794","./system/menu/index":"f794","./system/menu/index.vue":"f794","./system/notice":"202d","./system/notice/":"202d","./system/notice/index":"202d","./system/notice/index.vue":"202d","./system/post":"5788","./system/post/":"5788","./system/post/index":"5788","./system/post/index.vue":"5788","./system/role":"70eb","./system/role/":"70eb","./system/role/index":"70eb","./system/role/index.vue":"70eb","./system/user":"1f34","./system/user/":"1f34","./system/user/index":"1f34","./system/user/index.vue":"1f34","./system/user/profile":"4c1b","./system/user/profile/":"4c1b","./system/user/profile/index":"4c1b","./system/user/profile/index.vue":"4c1b","./system/user/profile/resetPwd":"ee46","./system/user/profile/resetPwd.vue":"ee46","./system/user/profile/userAvatar":"9429","./system/user/profile/userAvatar.vue":"9429","./system/user/profile/userInfo":"1e8b","./system/user/profile/userInfo.vue":"1e8b","./tool/build":"2855","./tool/build/":"2855","./tool/build/CodeTypeDialog":"a92a","./tool/build/CodeTypeDialog.vue":"a92a","./tool/build/DraggableItem":"4923","./tool/build/DraggableItem.vue":"4923","./tool/build/IconsDialog":"d0b2","./tool/build/IconsDialog.vue":"d0b2","./tool/build/RightPanel":"766b","./tool/build/RightPanel.vue":"766b","./tool/build/TreeNodeDialog":"c81a","./tool/build/TreeNodeDialog.vue":"c81a","./tool/build/index":"2855","./tool/build/index.vue":"2855","./tool/gen":"82c8","./tool/gen/":"82c8","./tool/gen/basicInfoForm":"ed69","./tool/gen/basicInfoForm.vue":"ed69","./tool/gen/editTable":"76f8","./tool/gen/editTable.vue":"76f8","./tool/gen/genInfoForm":"8586","./tool/gen/genInfoForm.vue":"8586","./tool/gen/importTable":"6f72","./tool/gen/importTable.vue":"6f72","./tool/gen/index":"82c8","./tool/gen/index.vue":"82c8","./tool/swagger":"4a49","./tool/swagger/":"4a49","./tool/swagger/index":"4a49","./tool/swagger/index.vue":"4a49","./union/anchors":"3feb","./union/anchors/":"3feb","./union/anchors/components/chattingRecords":"f6be","./union/anchors/components/chattingRecords.vue":"f6be","./union/anchors/components/list":"0d62","./union/anchors/components/list.vue":"0d62","./union/anchors/components/mymember":"686d","./union/anchors/components/mymember.vue":"686d","./union/anchors/index":"3feb","./union/anchors/index.vue":"3feb","./union/anchorsAudit":"15e87","./union/anchorsAudit/":"15e87","./union/anchorsAudit/components/chattingRecords":"4458","./union/anchorsAudit/components/chattingRecords.vue":"4458","./union/anchorsAudit/components/list":"de2e","./union/anchorsAudit/components/list.vue":"de2e","./union/anchorsAudit/index":"15e87","./union/anchorsAudit/index.vue":"15e87","./union/callRecords":"babb","./union/callRecords/":"babb","./union/callRecords/components/chattingRecords":"bd78","./union/callRecords/components/chattingRecords.vue":"bd78","./union/callRecords/components/list":"2694","./union/callRecords/components/list.vue":"2694","./union/callRecords/index":"babb","./union/callRecords/index.vue":"babb","./union/chattingRecords":"569f","./union/chattingRecords/":"569f","./union/chattingRecords/index":"569f","./union/chattingRecords/index.vue":"569f","./union/diamonds":"e0d5","./union/diamonds/":"e0d5","./union/diamonds/components/list":"2b90","./union/diamonds/components/list.vue":"2b90","./union/diamonds/index":"e0d5","./union/diamonds/index.vue":"e0d5","./union/gift_log":"b617","./union/gift_log/":"b617","./union/gift_log/components/list":"1938","./union/gift_log/components/list.vue":"1938","./union/gift_log/index":"b617","./union/gift_log/index.vue":"b617","./union/incomeSupervise":"8719","./union/incomeSupervise/":"8719","./union/incomeSupervise/components/list":"f973","./union/incomeSupervise/components/list.vue":"f973","./union/incomeSupervise/index":"8719","./union/incomeSupervise/index.vue":"8719","./union/incomes":"0ce5","./union/incomes/":"0ce5","./union/incomes/components/list":"bebe","./union/incomes/components/list.vue":"bebe","./union/incomes/index":"0ce5","./union/incomes/index.vue":"0ce5","./unionSystem/menu":"f4b6","./unionSystem/menu/":"f4b6","./unionSystem/menu/index":"f4b6","./unionSystem/menu/index.vue":"f4b6","./unionSystem/role":"c432","./unionSystem/role/":"c432","./unionSystem/role/index":"c432","./unionSystem/role/index copy":"746a","./unionSystem/role/index copy.vue":"746a","./unionSystem/role/index-1":"98ab1","./unionSystem/role/index-1.vue":"98ab1","./unionSystem/role/index.vue":"c432","./users/creditlogs":"fe28","./users/creditlogs/":"fe28","./users/creditlogs/components/list":"fd05","./users/creditlogs/components/list.vue":"fd05","./users/creditlogs/index":"fe28","./users/creditlogs/index.vue":"fe28","./users/order":"77a7","./users/order/":"77a7","./users/order/components/list":"5720","./users/order/components/list.vue":"5720","./users/order/index":"77a7","./users/order/index.vue":"77a7","./users/users":"cb53","./users/users/":"cb53","./users/users/components/list":"64c3","./users/users/components/list.vue":"64c3","./users/users/index":"cb53","./users/users/index.vue":"cb53"};function i(e){var t=o(e);return a(t)}function o(e){var t=n[e];if(!(t+1)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return t}i.keys=function(){return Object.keys(n)},i.resolve=o,e.exports=i,i.id="4b3b"},"4b72":function(e,t,a){"use strict";a.d(t,"e",(function(){return i})),a.d(t,"d",(function(){return o})),a.d(t,"b",(function(){return r})),a.d(t,"g",(function(){return l})),a.d(t,"c",(function(){return s})),a.d(t,"f",(function(){return c})),a.d(t,"a",(function(){return u}));var n=a("b775");function i(e){return Object(n["a"])({url:"/tool/gen/list",method:"get",params:e})}function o(e){return Object(n["a"])({url:"/tool/gen/db/list",method:"get",params:e})}function r(e){return Object(n["a"])({url:"/tool/gen/"+e,method:"get"})}function l(e){return Object(n["a"])({url:"/tool/gen",method:"put",data:e})}function s(e){return Object(n["a"])({url:"/tool/gen/importTable",method:"post",params:e})}function c(e){return Object(n["a"])({url:"/tool/gen/preview/"+e,method:"get"})}function u(e){return Object(n["a"])({url:"/tool/gen/"+e,method:"delete"})}},"4c1b":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6,xs:24}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("个人信息")])]),e._v(" "),a("div",[a("ul",{staticClass:"list-group list-group-striped"},[a("li",{staticClass:"list-group-item"},[a("svg-icon",{attrs:{"icon-class":"user"}}),e._v("用户名称\n              "),a("div",{staticClass:"pull-right"},[e._v(e._s(e.user.name))])],1),e._v(" "),a("li",{staticClass:"list-group-item"},[a("svg-icon",{attrs:{"icon-class":"user"}}),e._v("用户账户\n              "),a("div",{staticClass:"pull-right"},[e._v(e._s(e.user.username))])],1),e._v(" "),a("li",{staticClass:"list-group-item"},[a("svg-icon",{attrs:{"icon-class":"phone"}}),e._v("手机号码\n              "),a("div",{staticClass:"pull-right"},[e._v(e._s(e.user.phone))])],1),e._v(" "),a("li",{staticClass:"list-group-item"},[a("svg-icon",{attrs:{"icon-class":"email"}}),e._v("用户邮箱\n              "),a("div",{staticClass:"pull-right"},[e._v(e._s(e.user.email))])],1),e._v(" "),a("li",{staticClass:"list-group-item"},[a("svg-icon",{attrs:{"icon-class":"peoples"}}),e._v("所属角色\n              "),a("div",{staticClass:"pull-right"},[e._v(e._s(e.user.role_id))])],1),e._v(" "),a("li",{staticClass:"list-group-item"},[a("svg-icon",{attrs:{"icon-class":"date"}}),e._v("创建日期\n              "),a("div",{staticClass:"pull-right"},[e._v(e._s(e.user.created))])],1),e._v(" "),a("li",{staticClass:"list-group-item"},[a("svg-icon",{attrs:{"icon-class":"date"}}),e._v("最近登陆\n              "),a("div",{staticClass:"pull-right"},[e._v(e._s(e.user.last_login))])],1)])])])],1),e._v(" "),a("el-col",{attrs:{span:18,xs:24}},[a("el-card",[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("基本资料")])]),e._v(" "),a("el-tabs",{model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[a("el-tab-pane",{attrs:{label:"基本资料",name:"userinfo"}},[a("userInfo",{attrs:{user:e.user}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"修改密码",name:"resetPwd"}},[a("resetPwd",{attrs:{user:e.user}})],1)],1)],1)],1)],1)],1)},i=[],o=a("9429"),r=a("1e8b"),l=a("ee46"),s=a("c0c7"),c={name:"Profile",components:{userAvatar:o["default"],userInfo:r["default"],resetPwd:l["default"]},data:function(){return{user:{},roleGroup:{},postGroup:{},activeTab:"userinfo"}},created:function(){this.getUser()},methods:{getUser:function(){var e=this;Object(s["f"])().then((function(t){e.user=t.data.item,console.log(e.user)}))}}},u=c,m=a("9ca4"),d=Object(m["a"])(u,n,i,!1,null,null,null);t["default"]=d.exports},"4d30":function(e,t,a){},"4ecd":function(e,t,a){"use strict";var n=a("f7eb"),i=a.n(n);i.a},"4f3c":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"publicStyle"},[a("div",{staticClass:"publicStyle-conter"},[a(e.currentPage,{tag:"component",attrs:{obj:e.obj,"keep-alive":""},on:{changePage:e.changePage}})],1)])},i=[],o=(a("bbd8"),a("06ab")),r={name:"anchors",components:{LIST:o["default"]},data:function(){return{currentPage:"LIST",obj:{},activePage:"LIST"}},methods:{changePage:function(e,t){this.currentPage=e,t&&(this.obj=t)},changeActive:function(e){this.activePage=e,this.changePage(e)}}},l=r,s=(a("e4c6"),a("9ca4")),c=Object(s["a"])(l,n,i,!1,null,"440ef8fc",null);t["default"]=c.exports},"4ff4":function(e,t,a){"use strict";var n=a("a92b"),i=a.n(n);i.a},5006:function(e,t,a){"use strict";var n=a("235a"),i=a.n(n);i.a},5194:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],style:"height:"+e.height},[a("iframe",{staticStyle:{width:"100%",height:"100%"},attrs:{src:e.src,frameborder:"no",scrolling:"auto"}})])},i=[],o={name:"Druid",data:function(){return{src:"/index.php/druid/index.html",height:document.documentElement.clientHeight-94.5+"px;",loading:!0}},mounted:function(){var e=this;setTimeout((function(){e.loading=!1}),230);var t=this;window.onresize=function(){t.height=document.documentElement.clientHeight-94.5+"px;"}}},r=o,l=a("9ca4"),s=Object(l["a"])(r,n,i,!1,null,null,null);t["default"]=s.exports},"51b0":function(e,t,a){},"542f":function(e,t,a){},5463:function(e,t,a){"use strict";var n=a("18a4"),i=a.n(n);i.a},5684:function(e,t,a){},"569f":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v("\n  123\n")])},i=[],o={name:"",props:[""],data:function(){return{}},components:{},computed:{},beforeMount:function(){},mounted:function(){},methods:{},watch:{}},r=o,l=a("9ca4"),s=Object(l["a"])(r,n,i,!1,null,"d7f602dc",null);t["default"]=s.exports},5720:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"record"},[a("div",{staticClass:"record-conter"},[a("el-row",{staticClass:"record-top",staticStyle:{"margin-left":"0px","margin-right":"0px"},attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[a("el-form-item",{attrs:{label:"订单日期："}},[e.formInline.date.startday?a("dateTimePicker",{attrs:{date:e.formInline.date},on:{onSubmit:e.onSubmit}}):e._e()],1),e._v(" "),a("el-form-item",{attrs:{label:"短ID："}},[a("el-input",{attrs:{placeholder:"请输入用户id",clearable:"",size:"mini",maxlength:"200"},on:{clear:e.onSubmit},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit(t)}},model:{value:e.formInline.username,callback:function(t){e.$set(e.formInline,"username","string"===typeof t?t.trim():t)},expression:"formInline.username"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"订单号："}},[a("el-input",{attrs:{placeholder:"请输入订单号",clearable:"",size:"mini",maxlength:"200"},on:{clear:e.onSubmit},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit(t)}},model:{value:e.formInline.order_id,callback:function(t){e.$set(e.formInline,"order_id","string"===typeof t?t.trim():t)},expression:"formInline.order_id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"所有商品："}},[a("el-select",{staticStyle:{width:"85px"},attrs:{clearable:"",placeholder:"请选择",size:"mini"},on:{change:e.onSubmit},model:{value:e.formInline.product_id,callback:function(t){e.$set(e.formInline,"product_id",t)},expression:"formInline.product_id"}},e._l(e.productOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"支付状态："}},[a("el-select",{staticStyle:{width:"85px"},attrs:{clearable:"",placeholder:"请选择",size:"mini"},on:{change:e.onSubmit},model:{value:e.formInline.status,callback:function(t){e.$set(e.formInline,"status",t)},expression:"formInline.status"}},e._l(e.payStatusOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"支付方式："}},[a("el-select",{staticStyle:{width:"100px"},attrs:{clearable:"",placeholder:"请选择",size:"mini"},on:{change:e.onSubmit},model:{value:e.formInline.pay_mode,callback:function(t){e.$set(e.formInline,"pay_mode",t)},expression:"formInline.pay_mode"}},e._l(e.payModeOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"性别："}},[a("el-select",{staticStyle:{width:"85px"},attrs:{clearable:"",placeholder:"请选择",size:"mini"},on:{change:e.onSubmit},model:{value:e.formInline.gender,callback:function(t){e.$set(e.formInline,"gender",t)},expression:"formInline.gender"}},e._l(e.gengerOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"平台："}},[a("el-select",{staticStyle:{width:"85px"},attrs:{clearable:"",placeholder:"请选择",size:"mini"},on:{change:e.onSubmit},model:{value:e.formInline.platform,callback:function(t){e.$set(e.formInline,"platform",t)},expression:"formInline.platform"}},e._l(e.platformOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"线上/测试："}},[a("el-select",{staticStyle:{width:"85px"},attrs:{clearable:"",placeholder:"请选择",size:"mini"},on:{change:e.onSubmit},model:{value:e.formInline.sandbox,callback:function(t){e.$set(e.formInline,"sandbox",t)},expression:"formInline.sandbox"}},e._l(e.sandboxOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"收款商户号："}},[a("el-select",{staticStyle:{width:"85px"},attrs:{clearable:"",placeholder:"请选择",size:"mini"},on:{change:e.onSubmit},model:{value:e.formInline.mchid,callback:function(t){e.$set(e.formInline,"mchid",t)},expression:"formInline.mchid"}},e._l(e.mchidOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"登陆包名："}},[a("el-select",{staticStyle:{width:"85px"},attrs:{clearable:"",placeholder:"请选择",size:"mini"},on:{change:e.onSubmit},model:{value:e.formInline.client_id,callback:function(t){e.$set(e.formInline,"client_id",t)},expression:"formInline.client_id"}},e._l(e.channelOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"登陆渠道号："}},[a("el-input",{attrs:{placeholder:"请输入渠道号",clearable:"",size:"mini",maxlength:"200"},on:{clear:e.onSubmit},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit(t)}},model:{value:e.formInline.channel,callback:function(t){e.$set(e.formInline,"channel","string"===typeof t?t.trim():t)},expression:"formInline.channel"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"注册包名："}},[a("el-select",{staticStyle:{width:"85px"},attrs:{clearable:"",placeholder:"请选择",size:"mini"},on:{change:e.onSubmit},model:{value:e.formInline.r_client_id,callback:function(t){e.$set(e.formInline,"r_client_id",t)},expression:"formInline.r_client_id"}},e._l(e.channelOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"注册渠道号："}},[a("el-input",{attrs:{placeholder:"请输入渠道号",clearable:"",size:"mini",maxlength:"200"},on:{clear:e.onSubmit},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit(t)}},model:{value:e.formInline.r_channel,callback:function(t){e.$set(e.formInline,"r_channel","string"===typeof t?t.trim():t)},expression:"formInline.r_channel"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"CPS渠道号："}},[a("el-input",{attrs:{placeholder:"请输入渠道号",clearable:"",size:"mini",maxlength:"200"},on:{clear:e.onSubmit},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit(t)}},model:{value:e.formInline.channel_cps,callback:function(t){e.$set(e.formInline,"channel_cps","string"===typeof t?t.trim():t)},expression:"formInline.channel_cps"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"金额："}},[a("el-input",{attrs:{placeholder:"最小(含)",clearable:"",size:"mini",maxlength:"200"},on:{clear:e.onSubmit},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit(t)}},model:{value:e.formInline.price1,callback:function(t){e.$set(e.formInline,"price1","string"===typeof t?t.trim():t)},expression:"formInline.price1"}})],1),e._v(" "),a("el-form-item",[a("el-input",{attrs:{placeholder:"最大(含)",clearable:"",size:"mini",maxlength:"200"},on:{clear:e.onSubmit},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit(t)}},model:{value:e.formInline.price2,callback:function(t){e.$set(e.formInline,"price2","string"===typeof t?t.trim():t)},expression:"formInline.price2"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.onSubmit}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-d-arrow-left",size:"mini"},on:{click:function(t){return e.handlePrev("prev")}}},[e._v("前一天")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.handlePrev("next")}}},[e._v("\n              后一天\n              "),a("span",{staticClass:"el-icon-d-arrow-right"})])],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",[a("div",{staticClass:"chart-wrapper"},[e.orderChartFlag?a("order-chart",{attrs:{chartData:e.chartData}}):e._e()],1)])],1),e._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"dark","row-key":"proprId","show-summary":"","summary-method":e.getSummaries},on:{"sort-change":e.sortChange}},[a("el-table-column",{attrs:{type:"index","min-width":"45",label:"编号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"id","min-width":"110",label:"订单号"}}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"","min-width":"70px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"anchor-info cursor",on:{click:function(a){return e.openDetail(t.row.userid)}}},[a("div",{staticClass:"profile-box"},[a("img",{staticClass:"profile",attrs:{src:t.row.avatar,alt:""}})]),e._v(" "),"3"===t.row.status||"2"===t.row.status?a("br"):e._e(),e._v(" "),"3"===t.row.status?a("span",{staticStyle:{color:"#f56c6c"}},[e._v("禁言")]):"2"===t.row.status?a("span",{staticStyle:{color:"#f56c6c"}},[e._v("封号")]):e._e()])]}}])},[a("template",{slot:"header"},[a("span",[e._v("头像")]),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"提示文字",placement:"top"}},[a("i",{staticClass:"el-icon-question icon-color"})])],1)],2),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"","min-width":"120px",label:"昵称/ID"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticClass:"visitor-info-name",attrs:{title:"用户昵称"}},[e._v(e._s(t.row.nickname))]),e._v(" "),a("br"),e._v(" "),a("span",{staticClass:"gender-men",class:"1"===t.row.gender?"":"gender-women"},[e._v(e._s(t.row.age))]),e._v(" "),"1"===t.row.verify_status?a("span",{staticClass:"el-icon-video-camera-solid verify_status",attrs:{title:"视频认证"}}):e._e(),e._v(" "),a("span",{attrs:{title:"短ID"}},[e._v(e._s(t.row.username))]),e._v(" "),a("br"),e._v(" "),a("span",{attrs:{title:"用户ID"}},[e._v(e._s(t.row.userid))])]}}])}),e._v(" "),a("el-table-column",{attrs:{"min-width":"170",label:"商品名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.subject))]}}])},[a("template",{slot:"header"},[a("span",[e._v("商品名称")]),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"提示文字",placement:"top"}},[a("i",{staticClass:"el-icon-question icon-color"})])],1)],2),e._v(" "),a("el-table-column",{attrs:{"min-width":"130",label:"支付方式"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.payModeOptions.filter((function(e){return e.value===t.row.pay_mode}))[0].label))]),e._v(" "),a("br"),e._v(" "),a("span",[e._v(e._s("支付账户需要接口"))])]}}])},[a("template",{slot:"header"},[a("span",[e._v("支付方式")]),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"提示文字",placement:"top"}},[a("i",{staticClass:"el-icon-question icon-color"})])],1)],2),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"status",label:"订单状态","min-width":"120px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.payStatusOptions.filter((function(e){return e.value===t.row.status}))[0].label))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"total_price",label:"订单金额","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"product_type",label:"商品/ID","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.product_type))]),e._v(" "),a("br"),e._v(" "),a("span",[e._v(e._s(t.row.product_id))])]}}])}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"registertime",label:"平台/版本","min-width":"130"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.platform))]),e._v(" "),a("br"),e._v(" "),a("span",[e._v(e._s(t.row.version))])]}}])}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"lastlogintime",label:"包名/渠道","min-width":"130"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.client_id))]),e._v(" "),a("br"),e._v(" "),a("span",[e._v(e._s(t.row.channel))]),e._v(" "),a("br"),e._v(" "),a("span",[e._v(e._s(t.row.channel_cps))])]}}])}),e._v(" "),a("el-table-column",{attrs:{sortable:"custom","min-width":"90",prop:"created_at",label:"订购时间"}}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",sortable:"custom",prop:"diff_days",label:"距注册"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.diff_days)+"天")]}}])}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"操作","min-width":"130px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{icon:"el-icon-view",size:"mini",title:"查看详情"},on:{click:function(a){return e.openOrder(t.row.id)}}}),e._v(" "),"success"===t.row.status?a("el-button",{attrs:{type:"warning",size:"mini",title:"退款",plain:""},on:{click:function(a){return e.openEdit("退款",t.row.id)}}},[a("span",{staticClass:"iconfont icon-tuikuan",staticStyle:{"font-size":"12px"}})]):e._e()]}}])})],1),e._v(" "),a("my-pagination",{directives:[{name:"show",rawName:"v-show",value:e.totalNum>0,expression:"totalNum>0"}],attrs:{total:e.totalNum,page:e.formInline.pageNum,limit:e.formInline.pageSize,ext_stat:e.ext_stat},on:{"update:page":function(t){return e.$set(e.formInline,"pageNum",t)},"update:limit":function(t){return e.$set(e.formInline,"pageSize",t)},pagination:e.getOnlineList}})],1),e._v(" "),e.userDetail.userid?a("detail",{attrs:{userDetail:e.userDetail}}):e._e(),e._v(" "),a("el-dialog",{attrs:{id:"order-dialog",title:"查看详情",visible:e.orderDetail.orderDialog,width:"600px"},on:{"update:visible":function(t){return e.$set(e.orderDetail,"orderDialog",t)}}},[a("table",{staticClass:"table table-striped table-bordered table-hover view-userinfo"},[a("tbody",e._l(e.orderDetail.tableColumns,(function(t,n){return a("tr",{key:n},[a("td",{attrs:{width:"30%"}},[e._v(e._s(e.orderDetail.columns[t]?e.orderDetail.columns[t].label:""))]),e._v(" "),a("td",{attrs:{width:"70%"}},[a("span","pay_mode"===t?[e._v(e._s(e.orderDetail.orderForm[t]?e.payModeOptions.filter((function(a){return a.value==e.orderDetail.orderForm[t]}))[0].label:""))]:"gender"===t?[e._v(e._s(e.orderDetail.orderForm[t]?e.gengerOptions.filter((function(a){return a.value==e.orderDetail.orderForm[t]}))[0].label:""))]:"status"===t?[e._v(e._s(e.orderDetail.orderForm[t]?e.payStatusOptions.filter((function(a){return a.value==e.orderDetail.orderForm[t]}))[0].label:""))]:[e._v(e._s(e.orderDetail.orderForm[t]))])])])})),0)]),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.orderDetail.orderDialog=!1}}},[e._v("取 消")])],1)]),e._v(" "),a("el-dialog",{attrs:{id:"ruleForm-dialog",title:e.ruleFormTitle,visible:e.ruleFormDialog,width:"600px"},on:{close:function(t){return e.closeRulesFormDialog("ruleForm")},"update:visible":function(t){e.ruleFormDialog=t}}},[a("div",{staticStyle:{"margin-left":"13px","margin-bottom":"10px",color:"#f56c6c"}},[e._v("已退款金额："+e._s(e.refundData.refund_money)+"元，可退金额:"+e._s(e.refundData.price)+"元")]),e._v(" "),a("el-form",{ref:"ruleForm",attrs:{rules:e.rules,model:e.ruleForm,"label-width":"100px","label-position":"right"}},[a("el-form-item",{attrs:{label:"退款金额",prop:"refund_money"}},[a("el-input",{attrs:{maxlength:"20","show-word-limit":""},model:{value:e.ruleForm.refund_money,callback:function(t){e.$set(e.ruleForm,"refund_money",t)},expression:"ruleForm.refund_money"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"退款时间",prop:"operation_time"}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",type:"datetime",placeholder:"选择日期时间"},model:{value:e.ruleForm.operation_time,callback:function(t){e.$set(e.ruleForm,"operation_time",t)},expression:"ruleForm.operation_time"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"是否限制充值",prop:"pay_refused"}},[a("el-checkbox",{model:{value:e.ruleForm.pay_refused,callback:function(t){e.$set(e.ruleForm,"pay_refused",t)},expression:"ruleForm.pay_refused"}},[e._v("不允许再充值")])],1)],1),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){return e.closeRulesFormDialog("ruleForm")}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("保 存")])],1)],1)],1)},i=[],o=(a("163d"),a("6d57"),a("b449"),a("6648")),r=(a("c23b"),a("b775")),l=a("fed1"),s=a.n(l);function c(e){return Object(r["a"])({url:"/order/order/ajaxsearch",method:"GET",params:e})}function u(e){return Object(r["a"])({url:"/order/order/view/".concat(e),method:"GET"})}function m(e){return Object(r["a"])({url:"/order/refund/edit",method:"GET",params:e})}function d(e){return Object(r["a"])({url:"/order/refund/save",method:"POST",headers:{"Content-type":"application/x-www-form-urlencoded"},data:s.a.stringify(e),loading:!0})}function p(e){return Object(r["a"])({url:"/users/users/user_select",method:"GET"})}var f=a("50b5"),v=a("f07c"),h=a("7f7e"),b=[{value:"alipay",label:"支付宝"},{value:"wxpay",label:"微信支付"},{value:"appstore",label:"苹果支付"},{value:"huaweipay",label:"华为支付"}],g=[{value:"success",label:"成功"},{value:"paid",label:"已付款"},{value:"non-payment",label:"未支付"},{value:"refund",label:"已退款"}],_={name:"users",components:{detail:f["default"],OrderChart:v["default"]},data:function(){var e=this,t=function(t,a,n){if(a){var i=/^\d+(\.\d{0,2})?$/;i.test(a)?100*a>100*e.refundData.price?n(new Error("退款金额不能大于可退款金额!")):n():n(new Error("必须为数字类型,且小数点后最多保留2位"))}else n(new Error("请输入退款金额"))};return{statusOptions:h["j"],platformOptions:h["g"],gengerOptions:h["c"],payModeOptions:b,payStatusOptions:g,sandboxOptions:h["i"],totalNum:0,formInline:{date:{startday:"",endday:""},username:"",order_id:"",product_id:"",status:"",pay_mode:"",gender:"",platform:"",sandbox:"0",mchid:"",client_id:"",channel:"",r_client_id:"",r_channel:"",channel_cps:"",price1:"",price2:"",startday:"",endday:"",pageSize:20,pageNum:1,offset:0},startOptions:{disabledDate:!1},endOptions:{disabledDate:!1},ext_stat:"",tableData:[],chartData:{},orderChartFlag:!1,channelOptions:[],productOptions:[],mchidOptions:[],clientIdOptions:[],r_client_idOptions:[],orderDetail:{orderForm:{},columns:{},orderDialog:!1,tableColumns:["id","userid","nickname","avatar","gender","pay_mode","status","total_price","created_at","product_id","product_add_goldcoin","product_price","epay_trade_no","product_type","mchid"]},userDetail:{timestamp:"",userid:""},ruleFormDialog:!1,ruleFormTitle:"",refundData:{},ruleForm:{refund_id:"",userid:"",order_id:"",pay_mode:"",refund_money:"",operation_time:"",admin:"",client_id:"",channel:"",udid:"",dateline:""},rules:{refund_money:[{required:!0,validator:t,trigger:"blur"}],operation_time:[{required:!0,message:"请选择退款时间",trigger:"change"}]}}},created:function(){this.formInline.date.startday=this.getDateNow()[0],this.formInline.date.endday=this.getDateNow()[1],this.getOnlineList(),this.getChannelList()},watch:{},methods:{see:function(e){var t={id:e.id,orderNo:e.orderNo};this.$emit("changePage","SEE",t)},onSubmit:function(){this.getOnlineList()},getOnlineList:function(){var e=this,t=JSON.parse(JSON.stringify(this.formInline));t.startday=t.date.startday,t.endday=t.date.endday,t.offset=(t.pageNum-1)*t.pageSize,delete t.date,c(t).then((function(t){0===t.code&&(e.tableData=t.data.items,e.ext_stat=t.data.ext_stat,e.totalNum=+t.data.total_rows,e.chartData=t.data.histogram,e.orderChartFlag=!0)}))},getChannelList:function(){var e=this,t={platform:"",version_proc_verifing:0,client_name:""};p(t).then((function(t){0===t.code&&(e.channelOptions=t.data)}))},checkChannel:function(e){var t=this.channelOptions.filter((function(t){return t.value===e}));return t.length?t[0].label:""},sortChange:function(e){e.column;var t=e.prop,a=e.order;console.log(a),this.formInline.orderByColumn=a?t:"id";var n="DESC";"ascending"===a&&(n="ASC"),this.formInline.isAsc=n,this.getOnlineList()},handleSizeChange:function(e){this.formInline.pageNum=1,this.formInline.pageSize=e,this.getOnlineList()},handleCurrentChange:function(e){this.formInline.pageNum=e,this.getOnlineList()},handlePrev:function(e){this.prevDate(this.formInline.date,e),this.getOnlineList()},openOrder:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u(t);case 2:a=e.sent,a&&0===a.code&&(this.orderDetail.orderForm=a.data.item,this.orderDetail.columns=a.data.columns,this.orderDetail.orderDialog=!0);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),openDetail:function(e){this.userDetail.timestamp=(new Date).getTime(),this.userDetail.userid=e},openEdit:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,a){var n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.ruleFormTitle=t,"新增"!==t){e.next=5;break}this.ruleFormDialog=!0,e.next=14;break;case 5:if("退款"!==t){e.next=13;break}return n={order_id:a},e.next=9,m(n);case 9:i=e.sent,i&&0===i.code&&(this.refundData=i.data,this.ruleForm=i.data.item,this.ruleFormDialog=!0),e.next=14;break;case 13:return e.abrupt("return",!1);case 14:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}(),submitForm:function(e){var t=this;this.$refs[e].validate((function(a){if(!a)return!1;JSON.parse(JSON.stringify(t.ruleForm));var n={refund_id:t.ruleForm.refund_id,userid:t.ruleForm.userid,order_id:t.ruleForm.order_id,pay_mode:t.ruleForm.pay_mode,refund_money:t.ruleForm.refund_money,operation_time:t.ruleForm.operation_time,pay_refused:t.ruleForm.pay_refused,admin:t.ruleForm.admin,client_id:t.ruleForm.client_id,channel:t.ruleForm.channel,udid:t.ruleForm.udid,dateline:t.ruleForm.dateline};console.log(n),d(n).then((function(a){a&&0===a.code&&(t.$message.success({message:a.info}),t.closeRulesFormDialog(e),t.getOnlineList())}))}))},closeRulesFormDialog:function(e){this.$refs[e].resetFields(),this.ruleFormDialog=!1},getSummaries:function(e){var t=e.columns,a=e.data,n=[];return t.forEach((function(e,t){if(0!==t)if("total_price"===e.property){var i=a.map((function(e){return Number(e["total_price"])})),o=0;i.forEach((function(e){o+=e})),n[t]=o+"元"}else n[t]="";else n[t]="合计"})),n}}},y=_,w=(a("e1bd"),a("eb6b"),a("4b29"),a("84c9"),a("9ca4")),x=Object(w["a"])(y,n,i,!1,null,"971b414e",null);t["default"]=x.exports},"573d":function(e,t,a){},"576b":function(e,t,a){"use strict";var n=a("ab9b"),i=a.n(n);i.a},5788:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"岗位编码",prop:"postCode"}},[a("el-input",{attrs:{placeholder:"请输入岗位编码",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.postCode,callback:function(t){e.$set(e.queryParams,"postCode",t)},expression:"queryParams.postCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"岗位名称",prop:"postName"}},[a("el-input",{attrs:{placeholder:"请输入岗位名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.postName,callback:function(t){e.$set(e.queryParams,"postName",t)},expression:"queryParams.postName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{attrs:{placeholder:"岗位状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:post:add"],expression:"['system:post:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:post:edit"],expression:"['system:post:edit']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:post:remove"],expression:"['system:post:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:post:export"],expression:"['system:post:export']"}],attrs:{type:"warning",icon:"el-icon-download",size:"mini"},on:{click:e.handleExport}},[e._v("导出")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.postList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"岗位编号",align:"center",prop:"postId"}}),e._v(" "),a("el-table-column",{attrs:{label:"岗位编码",align:"center",prop:"postCode"}}),e._v(" "),a("el-table-column",{attrs:{label:"岗位名称",align:"center",prop:"postName"}}),e._v(" "),a("el-table-column",{attrs:{label:"岗位排序",align:"center",prop:"postSort"}}),e._v(" "),a("el-table-column",{attrs:{label:"状态",align:"center",prop:"status",formatter:e.statusFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createTime)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:post:edit"],expression:"['system:post:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:post:remove"],expression:"['system:post:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"岗位名称",prop:"postName"}},[a("el-input",{attrs:{placeholder:"请输入岗位名称"},model:{value:e.form.postName,callback:function(t){e.$set(e.form,"postName",t)},expression:"form.postName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"岗位编码",prop:"postCode"}},[a("el-input",{attrs:{placeholder:"请输入编码名称"},model:{value:e.form.postCode,callback:function(t){e.$set(e.form,"postCode",t)},expression:"form.postCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"岗位顺序",prop:"postSort"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.form.postSort,callback:function(t){e.$set(e.form,"postSort",t)},expression:"form.postSort"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"岗位状态",prop:"status"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusOptions,(function(t){return a("el-radio",{key:t.dictValue,attrs:{label:t.dictValue}},[e._v(e._s(t.dictLabel))])})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},i=[],o=a("b775");function r(e){return Object(o["a"])({url:"/system/post/list",method:"get",params:e})}function l(e){return Object(o["a"])({url:"/system/post/"+e,method:"get"})}function s(e){return Object(o["a"])({url:"/system/post",method:"post",data:e})}function c(e){return Object(o["a"])({url:"/system/post",method:"put",data:e})}function u(e){return Object(o["a"])({url:"/system/post/"+e,method:"delete"})}function m(e){return Object(o["a"])({url:"/system/post/export",method:"get",params:e})}var d={name:"Post",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,postList:[],title:"",open:!1,statusOptions:[],queryParams:{pageNum:1,pageSize:10,postCode:void 0,postName:void 0,status:void 0},form:{},rules:{postName:[{required:!0,message:"岗位名称不能为空",trigger:"blur"}],postCode:[{required:!0,message:"岗位编码不能为空",trigger:"blur"}],postSort:[{required:!0,message:"岗位顺序不能为空",trigger:"blur"}]}}},created:function(){var e=this;this.getList(),this.getDicts("sys_normal_disable").then((function(t){e.statusOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,r(this.queryParams).then((function(t){e.postList=t.rows,e.total=t.total,e.loading=!1}))},statusFormat:function(e,t){return this.selectDictLabel(this.statusOptions,e.status)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={postId:void 0,postCode:void 0,postName:void 0,postSort:0,status:"0",remark:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.postId})),this.single=1!=e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加岗位"},handleUpdate:function(e){var t=this;this.reset();var a=e.postId||this.ids;l(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改岗位"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.postId?c(e.form).then((function(t){200===t.code&&(e.msgSuccess("修改成功"),e.open=!1,e.getList())})):s(e.form).then((function(t){200===t.code&&(e.msgSuccess("新增成功"),e.open=!1,e.getList())})))}))},handleDelete:function(e){var t=this,a=e.postId||this.ids;this.$confirm('是否确认删除岗位编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return u(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有岗位数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return m(t)})).then((function(t){e.download(t.msg)})).catch((function(){}))}}},p=d,f=a("9ca4"),v=Object(f["a"])(p,n,i,!1,null,null,null);t["default"]=v.exports},"58c2":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"record"},[a("div",{staticClass:"record-conter"},[a("el-row",{staticClass:"record-top",staticStyle:{"margin-left":"0px","margin-right":"0px"},attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[a("el-form-item",{attrs:{label:"注册日期："}},[e.formInline.date.startday?a("dateTimePicker",{attrs:{date:e.formInline.date},on:{onSubmit:e.onSubmit}}):e._e()],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.onSubmit}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"warning",plain:"",icon:"el-icon-d-arrow-left",size:"mini"},on:{click:e.back}},[e._v("返回")])],1)],1)],1)],1),e._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"dark","row-key":"id"},on:{"sort-change":e.sortChange}},[a("el-table-column",{attrs:{prop:"id","min-width":"50",label:"ID"}}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"","min-width":"80px",label:"封面"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"anchor-info cursor"},[a("div",{staticClass:"profile-box",staticStyle:{"margin-bottom":"3px"}},[a("img",{staticClass:"profile",attrs:{src:e.baseImageUrl+t.row.pic,alt:""}})])])]}}])}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"","min-width":"120px",prop:"listname",label:"直播间主题"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(t.row.listname?t.row.listname:"无标题")+"\n        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"giftnum_taday",label:"本场收到礼物数"}}),e._v(" "),a("el-table-column",{attrs:{prop:"jifen",label:"本场积分收益"}}),e._v(" "),a("el-table-column",{attrs:{prop:"xingguang",label:"本场星光值收益"}}),e._v(" "),a("el-table-column",{attrs:{prop:"follownum",label:"本场新增粉丝"}}),e._v(" "),a("el-table-column",{attrs:{prop:"timelong",label:"本场有效直播时长"}}),e._v(" "),a("el-table-column",{attrs:{prop:"usernum",label:"本场累计有效观众"}}),e._v(" "),a("el-table-column",{attrs:{prop:"usernum",label:"被分享次数"}})],1),e._v(" "),a("my-pagination",{directives:[{name:"show",rawName:"v-show",value:e.totalNum>0,expression:"totalNum>0"}],attrs:{total:e.totalNum,page:e.formInline.pageNum,limit:e.formInline.pageSize,ext_stat:e.ext_stat},on:{"update:page":function(t){return e.$set(e.formInline,"pageNum",t)},"update:limit":function(t){return e.$set(e.formInline,"pageSize",t)},pagination:e.getOnlineList}})],1)])},i=[],o=a("24ae"),r=(a("7f7e"),a("cf45")),l={name:"Unions_see",props:["obj"],data:function(){return{totalNum:0,ext_stat:"",formInline:{date:{startday:"",endday:""},pageSize:20,pageNum:1},startOptions:{disabledDate:!1},endOptions:{disabledDate:!1},tableData:[]}},created:function(){this.formInline.date.startday=Object(r["b"])()[0],this.formInline.date.endday=Object(r["b"])()[1],this.getOnlineList()},methods:{back:function(){var e={id:this.obj.id};this.$emit("changePage","SEE",e)},onSubmit:function(){this.getOnlineList()},getOnlineList:function(){var e=this,t=JSON.parse(JSON.stringify(this.formInline));t.startday=t.date.startday,t.endday=t.date.endday,t.offset=(t.pageNum-1)*t.pageSize,delete t.date,Object(o["c"])(t).then((function(t){0===t.code&&(e.tableData=t.data.items,e.ext_stat=t.data.ext_stat,e.totalNum=+t.data.total_rows)}))},sortChange:function(e){e.column;var t=e.prop,a=e.order;console.log(a),this.formInline.orderByColumn=t;var n="DESC";"ascending"===a&&(n="ASC"),this.formInline.isAsc=n},handleCurrentChange:function(e){this.formInline.pageNum=e,this.getOnlineList()}}},s=l,c=(a("e474"),a("3405"),a("6393"),a("9ca4")),u=Object(c["a"])(s,n,i,!1,null,"6358af26",null);t["default"]=u.exports},"58dc":function(e,t,a){"use strict";var n=a("21da"),i=a.n(n);i.a},5996:function(e,t,a){},"59ec":function(e,t,a){},"5aee":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"icon-body"},[a("el-input",{staticStyle:{position:"relative"},attrs:{clearable:"",placeholder:"请输入图标名称"},on:{clear:e.filterIcons},nativeOn:{input:function(t){return e.filterIcons(t)}},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}},[a("i",{staticClass:"el-icon-search el-input__icon",attrs:{slot:"suffix"},slot:"suffix"})]),e._v(" "),a("div",{staticClass:"icon-list"},e._l(e.iconList,(function(t,n){return a("div",{key:n,on:{click:function(a){return e.selectedIcon(t)}}},[a("svg-icon",{staticStyle:{height:"30px",width:"16px"},attrs:{"icon-class":t}}),e._v(" "),a("span",[e._v(e._s(t))])],1)})),0)],1)},i=[],o=(a("ed63"),a("8cf2"),a("cc57"),a("9e76"),a("6d57"),a("23f1")),r=function(e){return e.keys()},l=/\.\/(.*)\.svg/,s=r(o).map((function(e){return e.match(l)[1]})),c=s,u={name:"menuIconSelect",data:function(){return{name:"",iconList:c}},methods:{filterIcons:function(){var e=this;this.iconList=c,this.name&&(this.iconList=this.iconList.filter((function(t){return t.includes(e.name)})))},selectedIcon:function(e){this.$emit("selected",e),document.body.click()},reset:function(){this.name="",this.iconList=c}}},m=u,d=(a("fdd4"),a("9ca4")),p=Object(d["a"])(m,n,i,!1,null,"ad76d4c6",null);t["a"]=p.exports},"5bbb":function(e,t,a){"use strict";var n=a("eb5b"),i=a.n(n);i.a},"5cfa":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"部门名称"}},[a("el-input",{attrs:{placeholder:"请输入部门名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.deptName,callback:function(t){e.$set(e.queryParams,"deptName",t)},expression:"queryParams.deptName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"部门状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",[a("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:dept:add"],expression:"['system:dept:add']"}],staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.deptList,"row-key":"deptId","default-expand-all":"","tree-props":{children:"children",hasChildren:"hasChildren"}}},[a("el-table-column",{attrs:{prop:"deptName",label:"部门名称",width:"260"}}),e._v(" "),a("el-table-column",{attrs:{prop:"orderNum",label:"排序",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态",formatter:e.statusFormat,width:"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createTime)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:dept:edit"],expression:"['system:dept:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:dept:add"],expression:"['system:dept:add']"}],attrs:{size:"mini",type:"text",icon:"el-icon-plus"},on:{click:function(a){return e.handleAdd(t.row)}}},[e._v("新增")]),e._v(" "),0!=t.row.parentId?a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:dept:remove"],expression:"['system:dept:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")]):e._e()]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"600px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-row",[0!==e.form.parentId?a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"上级部门",prop:"parentId"}},[a("treeselect",{attrs:{options:e.deptOptions,normalizer:e.normalizer,placeholder:"选择上级部门"},model:{value:e.form.parentId,callback:function(t){e.$set(e.form,"parentId",t)},expression:"form.parentId"}})],1)],1):e._e(),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"部门名称",prop:"deptName"}},[a("el-input",{attrs:{placeholder:"请输入部门名称"},model:{value:e.form.deptName,callback:function(t){e.$set(e.form,"deptName",t)},expression:"form.deptName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"显示排序",prop:"orderNum"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.form.orderNum,callback:function(t){e.$set(e.form,"orderNum",t)},expression:"form.orderNum"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"负责人",prop:"leader"}},[a("el-input",{attrs:{placeholder:"请输入负责人",maxlength:"20"},model:{value:e.form.leader,callback:function(t){e.$set(e.form,"leader",t)},expression:"form.leader"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"联系电话",prop:"phone"}},[a("el-input",{attrs:{placeholder:"请输入联系电话",maxlength:"11"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{attrs:{placeholder:"请输入邮箱",maxlength:"50"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"部门状态"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusOptions,(function(t){return a("el-radio",{key:t.dictValue,attrs:{label:t.dictValue}},[e._v(e._s(t.dictLabel))])})),1)],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},i=[],o=a("fcb7"),r=a("7d66"),l=a.n(r),s=(a("5166"),{name:"Dept",components:{Treeselect:l.a},data:function(){return{loading:!0,deptList:[],deptOptions:[],title:"",open:!1,statusOptions:[],queryParams:{deptName:void 0,status:void 0},form:{},rules:{parentId:[{required:!0,message:"上级部门不能为空",trigger:"blur"}],deptName:[{required:!0,message:"部门名称不能为空",trigger:"blur"}],orderNum:[{required:!0,message:"菜单顺序不能为空",trigger:"blur"}],email:[{type:"email",message:"'请输入正确的邮箱地址",trigger:["blur","change"]}],phone:[{pattern:/^1[3|4|5|6|7|8|9][0-9]\d{8}$/,message:"请输入正确的手机号码",trigger:"blur"}]}}},created:function(){var e=this;this.getList(),this.getDicts("sys_normal_disable").then((function(t){e.statusOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,Object(o["d"])(this.queryParams).then((function(t){e.deptList=e.handleTree(t.data,"deptId"),e.loading=!1}))},normalizer:function(e){return e.children&&!e.children.length&&delete e.children,{id:e.deptId,label:e.deptName,children:e.children}},statusFormat:function(e,t){return this.selectDictLabel(this.statusOptions,e.status)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={deptId:void 0,parentId:void 0,deptName:void 0,orderNum:void 0,leader:void 0,phone:void 0,email:void 0,status:"0"},this.resetForm("form")},handleQuery:function(){this.getList()},handleAdd:function(e){var t=this;this.reset(),void 0!=e&&(this.form.parentId=e.deptId),this.open=!0,this.title="添加部门",Object(o["d"])().then((function(e){t.deptOptions=t.handleTree(e.data,"deptId")}))},handleUpdate:function(e){var t=this;this.reset(),Object(o["c"])(e.deptId).then((function(e){t.form=e.data,t.open=!0,t.title="修改部门"})),Object(o["e"])(e.deptId).then((function(e){t.deptOptions=t.handleTree(e.data,"deptId")}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.deptId?Object(o["h"])(e.form).then((function(t){200===t.code&&(e.msgSuccess("修改成功"),e.open=!1,e.getList())})):Object(o["a"])(e.form).then((function(t){200===t.code&&(e.msgSuccess("新增成功"),e.open=!1,e.getList())})))}))},handleDelete:function(e){var t=this;this.$confirm('是否确认删除名称为"'+e.deptName+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["b"])(e.deptId)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))}}}),c=s,u=a("9ca4"),m=Object(u["a"])(c,n,i,!1,null,null,null);t["default"]=m.exports},6177:function(e,t,a){},"61f5":function(e,t,a){},"625b":function(e,t,a){},"637f":function(e,t,a){"use strict";var n=a("b3f8"),i=a.n(n);i.a},6393:function(e,t,a){"use strict";var n=a("f000"),i=a.n(n);i.a},"64c3":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"record"},[a("div",{staticClass:"record-conter"},[a("el-row",{staticClass:"record-top",staticStyle:{"margin-left":"0px","margin-right":"0px"},attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[a("el-form-item",{attrs:{label:"注册日期："}},[e.formInline.date.startday?a("dateTimePicker",{attrs:{date:e.formInline.date},on:{onSubmit:e.onSubmit}}):e._e()],1),e._v(" "),a("el-form-item",{attrs:{label:"状态："}},[a("el-select",{staticStyle:{width:"85px"},attrs:{clearable:"",placeholder:"请选择",size:"mini"},on:{change:e.onSubmit},model:{value:e.formInline.status,callback:function(t){e.$set(e.formInline,"status",t)},expression:"formInline.status"}},e._l(e.statusOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"设备："}},[a("el-select",{staticStyle:{width:"100px"},attrs:{clearable:"",placeholder:"请选择",size:"mini"},on:{change:e.onSubmit},model:{value:e.formInline.platform,callback:function(t){e.$set(e.formInline,"platform",t)},expression:"formInline.platform"}},e._l(e.platformOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"性别："}},[a("el-select",{staticStyle:{width:"85px"},attrs:{clearable:"",placeholder:"请选择",size:"mini"},on:{change:e.onSubmit},model:{value:e.formInline.gender,callback:function(t){e.$set(e.formInline,"gender",t)},expression:"formInline.gender"}},e._l(e.gengerOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"渠道包名："}},[a("el-select",{staticStyle:{width:"85px"},attrs:{clearable:"",placeholder:"所有包",size:"mini"},on:{change:e.onSubmit},model:{value:e.formInline.client_id,callback:function(t){e.$set(e.formInline,"client_id",t)},expression:"formInline.client_id"}},e._l(e.channelOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"手机："}},[a("el-input",{attrs:{placeholder:"请输入",clearable:"",size:"mini",maxlength:"11"},on:{clear:e.onSubmit},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit(t)}},model:{value:e.formInline.mobile,callback:function(t){e.$set(e.formInline,"mobile","string"===typeof t?t.trim():t)},expression:"formInline.mobile"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"昵称："}},[a("el-input",{staticStyle:{width:"145px"},attrs:{placeholder:"请输入昵称关键字",clearable:"",size:"mini",maxlength:"200"},on:{clear:e.onSubmit},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit(t)}},model:{value:e.formInline.nickname,callback:function(t){e.$set(e.formInline,"nickname","string"===typeof t?t.trim():t)},expression:"formInline.nickname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"短ID："}},[a("el-input",{attrs:{placeholder:"请输入短id",clearable:"",size:"mini",maxlength:"200"},on:{clear:e.onSubmit},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit(t)}},model:{value:e.formInline.username,callback:function(t){e.$set(e.formInline,"username","string"===typeof t?t.trim():t)},expression:"formInline.username"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"用户ID："}},[a("el-input",{attrs:{placeholder:"请输入用户id",clearable:"",size:"mini",maxlength:"200"},on:{clear:e.onSubmit},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit(t)}},model:{value:e.formInline.userid,callback:function(t){e.$set(e.formInline,"userid","string"===typeof t?t.trim():t)},expression:"formInline.userid"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"渠道号："}},[a("el-input",{attrs:{placeholder:"请输入渠道号",clearable:"",size:"mini",maxlength:"200"},on:{clear:e.onSubmit},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit(t)}},model:{value:e.formInline.channel,callback:function(t){e.$set(e.formInline,"channel","string"===typeof t?t.trim():t)},expression:"formInline.channel"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.onSubmit}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-d-arrow-left",size:"mini"},on:{click:function(t){return e.handlePrev("prev")}}},[e._v("前一天")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.handlePrev("next")}}},[e._v("\n              后一天\n              "),a("span",{staticClass:"el-icon-d-arrow-right"})])],1)],1)],1)],1),e._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"dark","row-key":"proprId"},on:{"sort-change":e.sortChange}},[a("el-table-column",{attrs:{type:"index","min-width":"50",label:"编号"}}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"","min-width":"70px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"anchor-info cursor",on:{click:function(a){return e.openDetail(t.row.userid)}}},[a("div",{staticClass:"profile-box"},[a("img",{staticClass:"profile",attrs:{src:t.row.avatar,alt:""}})]),e._v(" "),"3"===t.row.status||"2"===t.row.status?a("br"):e._e(),e._v(" "),"3"===t.row.status?a("span",{staticStyle:{color:"#f56c6c"}},[e._v("禁言")]):"2"===t.row.status?a("span",{staticStyle:{color:"#f56c6c"}},[e._v("封号")]):e._e()])]}}])},[a("template",{slot:"header"},[a("span",[e._v("头像")]),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"提示文字",placement:"top"}},[a("i",{staticClass:"el-icon-question icon-color"})])],1)],2),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"","min-width":"100px",label:"昵称/ID"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticClass:"visitor-info-name",attrs:{title:"用户昵称"}},[e._v(e._s(t.row.nickname))]),e._v(" "),a("br"),e._v(" "),a("span",{staticClass:"gender-men",class:"1"===t.row.gender?"":"gender-women"},[e._v(e._s(t.row.age))]),e._v(" "),"1"===t.row.verify_status?a("span",{staticClass:"el-icon-video-camera-solid verify_status",attrs:{title:"视频认证"}}):e._e(),e._v(" "),a("span",{attrs:{title:"短ID"}},[e._v(e._s(t.row.username))]),e._v(" "),a("br"),e._v(" "),a("span",{attrs:{title:"用户ID"}},[e._v(e._s(t.row.userid))])]}}])}),e._v(" "),a("el-table-column",{attrs:{"min-width":"170",label:"平台/版本/终端"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.platform))]),e._v(" "),a("br"),e._v(" "),a("span",[e._v(e._s(t.row.version+"("+t.row.build+")"))]),e._v(" "),a("br"),e._v(" "),a("span",[e._v(e._s(t.row.branchs))])]}}])},[a("template",{slot:"header"},[a("span",[e._v("平台/版本/终端")]),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"提示文字",placement:"top"}},[a("i",{staticClass:"el-icon-question icon-color"})])],1)],2),e._v(" "),a("el-table-column",{attrs:{"min-width":"130",label:"包名/渠道"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.checkChannel(t.row.client_id)))]),e._v(" "),a("br"),e._v(" "),a("span",[e._v(e._s(t.row.client_id))]),e._v(" "),a("br"),e._v(" "),a("span",[e._v(e._s(t.row.channel))])]}}])},[a("template",{slot:"header"},[a("span",[e._v("包名/渠道")]),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"提示文字",placement:"top"}},[a("i",{staticClass:"el-icon-question icon-color"})])],1)],2),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",sortable:"custom",prop:"registertime",label:"注册时间","min-width":"130"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.registertime)))]),e._v(" "),a("br"),e._v(" "),a("span",[e._v(e._s(t.row.registerip))]),e._v(" "),a("br"),e._v(" "),a("span",[e._v(e._s(t.row.location_registerip))])]}}])}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",sortable:"custom",prop:"lastlogintime",label:"最近登陆","min-width":"130"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.lastlogintime)))]),e._v(" "),a("br"),e._v(" "),a("span",[e._v(e._s(t.row.lastloginip))]),e._v(" "),a("br"),e._v(" "),a("span",[e._v(e._s(t.row.location_lastloginip))])]}}])}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",sortable:"custom",prop:"status",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return["1"===t.row.status?a("span",[e._v("正常")]):"2"===t.row.status?a("span",[e._v("禁用")]):a("span",[e._v(e._s(t.row.status))])]}}])}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"操作","min-width":"130px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{icon:"el-icon-view",size:"mini",title:"查看详情"},on:{click:function(a){return e.openDetail(t.row.userid)}}}),e._v(" "),a("el-button",{attrs:{icon:"el-icon-edit",type:"primary",size:"mini",title:"编辑"},on:{click:function(a){return e.openEdit("编辑",t.row.userid)}}})]}}])})],1),e._v(" "),a("my-pagination",{directives:[{name:"show",rawName:"v-show",value:e.totalNum>0,expression:"totalNum>0"}],attrs:{total:e.totalNum,page:e.formInline.pageNum,limit:e.formInline.pageSize,ext_stat:e.ext_stat},on:{"update:page":function(t){return e.$set(e.formInline,"pageNum",t)},"update:limit":function(t){return e.$set(e.formInline,"pageSize",t)},pagination:e.getOnlineList}})],1),e._v(" "),e.userDetail.userid?a("el-detail",{attrs:{userDetail:e.userDetail}}):e._e(),e._v(" "),a("el-dialog",{attrs:{id:"ruleForm-dialog",title:e.ruleFormTitle,visible:e.ruleFormDialog,width:"600px","custom-class":"common-dialog"},on:{close:function(t){return e.closeRulesFormDialog("ruleForm")},"update:visible":function(t){e.ruleFormDialog=t}}},[a("el-form",{ref:"ruleForm",attrs:{rules:e.rules,model:e.ruleForm,"label-width":"100px","label-position":"right"}},[a("el-form-item",{attrs:{label:"用户ID",prop:"userid"}},[a("el-input",{attrs:{maxlength:"20","show-word-limit":""},model:{value:e.ruleForm.userid,callback:function(t){e.$set(e.ruleForm,"userid",t)},expression:"ruleForm.userid"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"短ID",prop:"username"}},[a("el-input",{attrs:{maxlength:"20","show-word-limit":""},model:{value:e.ruleForm.username,callback:function(t){e.$set(e.ruleForm,"username",t)},expression:"ruleForm.username"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"用户昵称",prop:"nickname"}},[a("el-input",{attrs:{placeholder:"",maxlength:"100","show-word-limit":""},model:{value:e.ruleForm.nickname,callback:function(t){e.$set(e.ruleForm,"nickname",t)},expression:"ruleForm.nickname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"性别",prop:"gender"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",size:"mini"},model:{value:e.ruleForm.gender,callback:function(t){e.$set(e.ruleForm,"gender",t)},expression:"ruleForm.gender"}},e._l(e.gengerOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"签名",prop:"signtext"}},[a("el-input",{attrs:{type:"textarea",resize:"none",rows:2,maxlength:"200","show-word-limit":""},model:{value:e.ruleForm.signtext,callback:function(t){e.$set(e.ruleForm,"signtext",t)},expression:"ruleForm.signtext"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"绑定手机号",prop:"mobile"}},[a("el-input",{attrs:{maxlength:"11","show-word-limit":""},model:{value:e.ruleForm.mobile,callback:function(t){e.$set(e.ruleForm,"mobile",t)},expression:"ruleForm.mobile"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"系统平台",prop:"platform"}},[a("el-input",{attrs:{maxlength:"200","show-word-limit":""},model:{value:e.ruleForm.platform,callback:function(t){e.$set(e.ruleForm,"platform",t)},expression:"ruleForm.platform"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机型号",prop:"branchs"}},[a("el-input",{attrs:{maxlength:"200","show-word-limit":""},model:{value:e.ruleForm.branchs,callback:function(t){e.$set(e.ruleForm,"branchs",t)},expression:"ruleForm.branchs"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"APP版本",prop:"version"}},[a("el-input",{attrs:{maxlength:"200","show-word-limit":""},model:{value:e.ruleForm.version,callback:function(t){e.$set(e.ruleForm,"version",t)},expression:"ruleForm.version"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"注册渠道",prop:"channel"}},[a("el-input",{attrs:{maxlength:"200","show-word-limit":""},model:{value:e.ruleForm.channel,callback:function(t){e.$set(e.ruleForm,"channel",t)},expression:"ruleForm.channel"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"注册包名",prop:"client_id"}},[a("el-input",{attrs:{maxlength:"200","show-word-limit":""},model:{value:e.ruleForm.client_id,callback:function(t){e.$set(e.ruleForm,"client_id",t)},expression:"ruleForm.client_id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",size:"mini"},model:{value:e.ruleForm.status,callback:function(t){e.$set(e.ruleForm,"status",t)},expression:"ruleForm.status"}},e._l(e.statusOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1)],1),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){return e.closeRulesFormDialog("ruleForm")}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("保 存")])],1)],1)],1)},i=[],o=(a("b449"),a("6648")),r=a("c23b"),l=a("7f7e"),s={name:"users",data:function(){return{statusOptions:l["j"],platformOptions:l["g"],gengerOptions:l["c"],totalNum:0,ext_stat:"",formInline:{date:{startday:"",endday:""},status:"",mobile:"",platform:"",nickname:"",userid:"",gender:"",username:"",channel:"",client_id:"",startday:"",endday:"",pageSize:20,pageNum:1,offset:0},startOptions:{disabledDate:!1},endOptions:{disabledDate:!1},tableData:[],channelOptions:[],userDetail:{timestamp:"",userid:""},ruleFormDialog:!1,ruleFormTitle:"",ruleForm:{userid:"",username:"",nickname:"",gender:"1",signtext:"",mobile:"",platform:"",branchs:"",version:"",channel:"",client_id:"",status:"1"},rules:{userid:[{required:!0,message:"请输入用户ID",trigger:"blur"}],username:[{required:!0,message:"请输入短ID",trigger:"blur"}],nickname:[{required:!0,message:"请输入用户昵称",trigger:"blur"}],gender:[{required:!0,message:"请选择性别",trigger:"change"}],client_id:[{required:!0,message:"请输入注册包名",trigger:"blur"}],status:[{required:!0,message:"请选择状态",trigger:"change"}]}}},created:function(){this.formInline.date.startday=this.getDateNow()[0],this.formInline.date.endday=this.getDateNow()[1],this.getOnlineList(),this.getChannelList()},methods:{see:function(e){var t={id:e.id,orderNo:e.orderNo};this.$emit("changePage","SEE",t)},onSubmit:function(){this.getOnlineList()},getOnlineList:function(){var e=this,t=JSON.parse(JSON.stringify(this.formInline));t.startday=t.date.startday,t.endday=t.date.endday,t.offset=(t.pageNum-1)*t.pageSize,delete t.date,Object(r["j"])(t).then((function(t){0===t.code&&(e.tableData=t.data.items,e.totalNum=+t.data.total_rows,e.ext_stat=t.data.ext_stat)}))},getChannelList:function(){var e=this;Object(r["a"])().then((function(t){0===t.code&&(e.channelOptions=t.data)}))},checkChannel:function(e){var t=this.channelOptions.filter((function(t){return t.value===e}));return t.length?t[0].label:""},sortChange:function(e){e.column;var t=e.prop,a=e.order;console.log(a),this.formInline.orderByColumn=a?t:"id";var n="DESC";"ascending"===a&&(n="ASC"),this.formInline.isAsc=n,this.getOnlineList()},handleSizeChange:function(e){this.formInline.pageNum=1,this.formInline.pageSize=e,this.getOnlineList()},handleCurrentChange:function(e){this.formInline.pageNum=e,this.getOnlineList()},handlePrev:function(e){this.prevDate(this.formInline.date,e),this.getOnlineList()},openDetail:function(e){this.userDetail.timestamp=(new Date).getTime(),this.userDetail.userid=e},openEdit:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,a){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.ruleFormTitle=t,"新增"!==t){e.next=5;break}this.ruleFormDialog=!0,e.next=13;break;case 5:if("编辑"!==t){e.next=12;break}return e.next=8,Object(r["h"])(a);case 8:n=e.sent,n&&0===n.code&&(this.ruleForm=n.data.item,this.ruleFormDialog=!0),e.next=13;break;case 12:return e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}(),submitForm:function(e){var t=this;this.$refs[e].validate((function(a){if(!a)return!1;var n=JSON.parse(JSON.stringify(t.ruleForm)),i={id:n.id,userid:n.userid,username:n.username,nickname:n.nickname,gender:n.gender,signtext:n.signtext,mobile:n.mobile,platform:n.platform,branchs:n.branchs,version:n.version,channel:n.channel,client_id:n.client_id,status:n.status};Object(r["m"])(i).then((function(a){a&&0===a.code&&(t.$message.success({message:a.info}),t.closeRulesFormDialog(e),t.getOnlineList())}))}))},closeRulesFormDialog:function(e){this.$refs[e].resetFields(),this.ruleFormDialog=!1}}},c=s,u=(a("58dc"),a("0418"),a("829a"),a("9ca4")),m=Object(u["a"])(c,n,i,!1,null,"65c829bc",null);t["default"]=m.exports},"64f8":function(e,t,a){"use strict";var n=a("b43b"),i=a.n(n);i.a},"66c0a":function(e,t,a){"use strict";var n=a("a594"),i=a.n(n);i.a},"66e4":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"publicStyle"},[a("div",{staticClass:"publicStyle-conter"},[a(e.currentPage,{tag:"component",attrs:{obj:e.obj,"keep-alive":""},on:{changePage:e.changePage}})],1)])},i=[],o=(a("bbd8"),a("fa26")),r=a("2496"),l=a("58c2"),s={name:"anchors",components:{LIST:o["default"],SEE:r["default"],ANCHOR:l["default"]},data:function(){return{currentPage:"LIST",obj:{},activePage:"LIST"}},methods:{changePage:function(e,t){this.currentPage=e,t&&(this.obj=t)},changeActive:function(e){this.activePage=e,this.changePage(e)}}},c=s,u=(a("020c"),a("9ca4")),m=Object(u["a"])(c,n,i,!1,null,"f51a30a6",null);t["default"]=m.exports},6787:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n=[{value:"gold",label:"金币"},{value:"jifen",label:"积分"}]},"67ef":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"登录地址",prop:"ipaddr"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入登录地址",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.ipaddr,callback:function(t){e.$set(e.queryParams,"ipaddr",t)},expression:"queryParams.ipaddr"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"用户名称",prop:"userName"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入用户名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.userName,callback:function(t){e.$set(e.queryParams,"userName",t)},expression:"queryParams.userName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{staticStyle:{width:"240px"},attrs:{placeholder:"登录状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"登录时间"}},[a("el-date-picker",{staticStyle:{width:"240px"},attrs:{size:"small","value-format":"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.dateRange,callback:function(t){e.dateRange=t},expression:"dateRange"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:logininfor:remove"],expression:"['monitor:logininfor:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:logininfor:remove"],expression:"['monitor:logininfor:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:e.handleClean}},[e._v("清空")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:logininfor:export"],expression:"['system:logininfor:export']"}],attrs:{type:"warning",icon:"el-icon-download",size:"mini"},on:{click:e.handleExport}},[e._v("导出")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.list},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"访问编号",align:"center",prop:"infoId"}}),e._v(" "),a("el-table-column",{attrs:{label:"用户名称",align:"center",prop:"userName"}}),e._v(" "),a("el-table-column",{attrs:{label:"登录地址",align:"center",prop:"ipaddr",width:"130","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"登录地点",align:"center",prop:"loginLocation","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"浏览器",align:"center",prop:"browser"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作系统",align:"center",prop:"os"}}),e._v(" "),a("el-table-column",{attrs:{label:"登录状态",align:"center",prop:"status",formatter:e.statusFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"操作信息",align:"center",prop:"msg"}}),e._v(" "),a("el-table-column",{attrs:{label:"登录日期",align:"center",prop:"loginTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.loginTime)))])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}})],1)},i=[],o=a("b775");function r(e){return Object(o["a"])({url:"/monitor/logininfor/list",method:"get",params:e})}function l(e){return Object(o["a"])({url:"/monitor/logininfor/"+e,method:"delete"})}function s(){return Object(o["a"])({url:"/monitor/logininfor/clean",method:"delete"})}function c(e){return Object(o["a"])({url:"/monitor/logininfor/export",method:"get",params:e})}var u={name:"Logininfor",data:function(){return{loading:!0,ids:[],multiple:!0,total:0,list:[],statusOptions:[],dateRange:[],queryParams:{pageNum:1,pageSize:10,ipaddr:void 0,userName:void 0,status:void 0}}},created:function(){var e=this;this.getList(),this.getDicts("sys_common_status").then((function(t){e.statusOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,r(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.list=t.rows,e.total=t.total,e.loading=!1}))},statusFormat:function(e,t){return this.selectDictLabel(this.statusOptions,e.status)},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.infoId})),this.multiple=!e.length},handleDelete:function(e){var t=this,a=e.infoId||this.ids;this.$confirm('是否确认删除访问编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return l(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleClean:function(){var e=this;this.$confirm("是否确认清空所有登录日志数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return s()})).then((function(){e.getList(),e.msgSuccess("清空成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有操作日志数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return c(t)})).then((function(t){e.download(t.msg)})).catch((function(){}))}}},m=u,d=a("9ca4"),p=Object(d["a"])(m,n,i,!1,null,null,null);t["default"]=p.exports},"686d":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"绑定主播到公会",visible:e.dialog,width:"500px","custom-class":"common-dialog"},on:{close:function(t){return e.resetForm("form")},"update:visible":function(t){e.dialog=t}}},[a("el-form",{ref:"form",attrs:{rules:e.rules,model:e.form,"label-width":"120px","label-position":"right","close-on-click-modal":!1}},[a("el-form-item",{attrs:{prop:"group_rate"}},[a("span",{attrs:{slot:"label"},slot:"label"},[a("span",[e._v("公会分成(%)")]),e._v(" "),a("el-popover",{attrs:{placement:"top-start",width:"100px",trigger:"hover",content:"公会分成必须为0-99的整数,且公会分成与成员分成合计必须为100"}},[a("span",{staticClass:"el-icon-question",staticStyle:{cursor:"pointer"},attrs:{slot:"reference"},slot:"reference"})])],1),e._v(" "),a("el-input",{attrs:{maxlength:"10"},on:{change:e.group_rateChange},model:{value:e.form.group_rate,callback:function(t){e.$set(e.form,"group_rate",e._n(t))},expression:"form.group_rate"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"member_rate"}},[a("span",{attrs:{slot:"label"},slot:"label"},[a("span",[e._v("成员分成(%)")]),e._v(" "),a("el-popover",{attrs:{placement:"top-start",width:"100px",trigger:"hover",content:"成员分成必须为0-99的整数,且公会分成与成员分成合计必须为100"}},[a("span",{staticClass:"el-icon-question",staticStyle:{cursor:"pointer"},attrs:{slot:"reference"},slot:"reference"})])],1),e._v(" "),a("el-input",{attrs:{maxlength:"10"},on:{change:e.member_rateChange},model:{value:e.form.member_rate,callback:function(t){e.$set(e.form,"member_rate",e._n(t))},expression:"form.member_rate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"自主提现",prop:"withdraw_enable"}},[a("el-checkbox",{attrs:{"true-label":"1","false-label":"0"},model:{value:e.form.withdraw_enable,callback:function(t){e.$set(e.form,"withdraw_enable",t)},expression:"form.withdraw_enable"}},[e._v("允许")])],1),e._v(" "),a("el-form-item",{attrs:{label:"公会备注",prop:"memo"}},[a("el-input",{attrs:{type:"textarea",maxlength:"255",row:"3",resize:"none","show-word-limit":""},model:{value:e.form.memo,callback:function(t){e.$set(e.form,"memo",t)},expression:"form.memo"}})],1)],1),e._v(" "),a("div",{staticClass:"owner-dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){return e.resetForm("form")}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("form")}}},[e._v("确定")])],1)],1)},i=[],o=a("bff7"),r={name:"",props:["mymemberData"],data:function(){var e=this,t=/^(?:[1-9]?\d|100)$/,a=function(a,n,i){""!==n&&void 0!==n&&null!==n||i(new Error("公会分成不能为空")),t.test(n)?+n+ +e.form.member_rate!==100?i(new Error("公会分成 + 成员分成 合计必须为100")):i():i(new Error("必须为0-99之间的整数"))},n=function(a,n,i){""!==n&&void 0!==n&&null!==n||i(new Error("公会分成不能为空")),t.test(n)?+n+ +e.form.group_rate!==100?i(new Error("公会分成 + 成员分成 合计必须为100")):i():i(new Error("必须为0-99之间的整数"))};return{dialog:!1,form:{userid:"",group_rate:"",member_rate:"",withdraw_enable:"",memo:""},rules:{group_rate:[{required:!0,validator:a,trigger:"blur"}],member_rate:[{required:!0,validator:n,trigger:"blur"}]}}},created:function(){this.getInfo(this.mymemberData.id)},watch:{mymemberData:{handler:function(e,t){e.id&&this.getInfo(e.id)},deep:!0}},methods:{getInfo:function(e){var t=this,a={userid:e};Object(o["e"])(a).then((function(e){0===e.code&&(t.form=e.data,t.dialog=!0)}))},submitForm:function(e){var t=this;this.$refs[e].validate((function(a){if(!a)return!1;var n={userid:t.form.userid,group_rate:t.form.group_rate,member_rate:t.form.member_rate,withdraw_enable:t.form.withdraw_enable,memo:t.form.memo};console.log(n),Object(o["h"])(n).then((function(a){0===a.code&&(t.$message.success(a.info),t.$refs[e].resetFields(),t.$emit("getOnlineList"),t.dialog=!1)}))}))},resetForm:function(e){this.$refs[e].resetFields(),this.dialog=!1},group_rateChange:function(e){this.form.member_rate=e?(1e4-100*+e)/100:100},member_rateChange:function(e){this.form.group_rate=e?(1e4-100*+e)/100:100}}},l=r,s=a("9ca4"),c=Object(s["a"])(l,n,i,!1,null,"6185c885",null);t["default"]=c.exports},"695c":function(e,t,a){"use strict";var n=a("80b4"),i=a.n(n);i.a},"6b08":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0}},[a("el-form-item",{attrs:{label:"登录地址",prop:"ipaddr"}},[a("el-input",{attrs:{placeholder:"请输入登录地址",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.ipaddr,callback:function(t){e.$set(e.queryParams,"ipaddr",t)},expression:"queryParams.ipaddr"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"用户名称",prop:"userName"}},[a("el-input",{attrs:{placeholder:"请输入用户名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.userName,callback:function(t){e.$set(e.queryParams,"userName",t)},expression:"queryParams.userName"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.list.slice((e.pageNum-1)*e.pageSize,e.pageNum*e.pageSize)}},[a("el-table-column",{attrs:{label:"序号",type:"index",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s((e.pageNum-1)*e.pageSize+t.$index+1))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"会话编号",align:"center",prop:"tokenId","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"登录名称",align:"center",prop:"userName","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"部门名称",align:"center",prop:"deptName"}}),e._v(" "),a("el-table-column",{attrs:{label:"主机",align:"center",prop:"ipaddr","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"登录地点",align:"center",prop:"loginLocation","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"浏览器",align:"center",prop:"browser"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作系统",align:"center",prop:"os"}}),e._v(" "),a("el-table-column",{attrs:{label:"登录时间",align:"center",prop:"loginTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.loginTime)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:online:forceLogout"],expression:"['monitor:online:forceLogout']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleForceLogout(t.row)}}},[e._v("强退")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.pageNum,limit:e.pageSize},on:{"update:page":function(t){e.pageNum=t},"update:limit":function(t){e.pageSize=t}}})],1)},i=[],o=a("b775");function r(e){return Object(o["a"])({url:"/monitor/online/list",method:"get",params:e})}function l(e){return Object(o["a"])({url:"/monitor/online/"+e,method:"delete"})}var s={name:"Online",data:function(){return{loading:!0,total:0,list:[],pageNum:1,pageSize:10,queryParams:{ipaddr:void 0,userName:void 0}}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,r(this.queryParams).then((function(t){e.list=t.rows,e.total=t.total,e.loading=!1}))},handleQuery:function(){this.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleForceLogout:function(e){var t=this;this.$confirm('是否确认强退名称为"'+e.userName+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return l(e.tokenId)})).then((function(){t.getList(),t.msgSuccess("强退成功")})).catch((function(){}))}}},c=s,u=a("9ca4"),m=Object(u["a"])(c,n,i,!1,null,null,null);t["default"]=m.exports},"6c6b7":function(e,t,a){"use strict";var n=a("4d30"),i=a.n(n);i.a},"6e19":function(e,t,a){},"6e7b":function(e,t,a){"use strict";var n=a("3f23"),i=a.n(n);i.a},"6f72":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"导入表",visible:e.visible,width:"800px",top:"5vh","append-to-body":""},on:{"update:visible":function(t){e.visible=t}}},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0}},[a("el-form-item",{attrs:{label:"表名称",prop:"tableName"}},[a("el-input",{attrs:{placeholder:"请输入表名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.tableName,callback:function(t){e.$set(e.queryParams,"tableName",t)},expression:"queryParams.tableName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"表描述",prop:"tableComment"}},[a("el-input",{attrs:{placeholder:"请输入表描述",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.tableComment,callback:function(t){e.$set(e.queryParams,"tableComment",t)},expression:"queryParams.tableComment"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",[a("el-table",{ref:"table",attrs:{data:e.dbTableList,height:"260px"},on:{"row-click":e.clickRow,"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"tableName",label:"表名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"tableComment",label:"表描述"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"updateTime",label:"更新时间"}})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}})],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.handleImportTable}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:function(t){e.visible=!1}}},[e._v("取 消")])],1)],1)},i=[],o=a("4b72"),r={data:function(){return{visible:!1,tables:[],total:0,dbTableList:[],queryParams:{pageNum:1,pageSize:10,tableName:void 0,tableComment:void 0}}},methods:{show:function(){this.getList(),this.visible=!0},clickRow:function(e){this.$refs.table.toggleRowSelection(e)},handleSelectionChange:function(e){this.tables=e.map((function(e){return e.tableName}))},getList:function(){var e=this;Object(o["d"])(this.queryParams).then((function(t){200===t.code&&(e.dbTableList=t.rows,e.total=t.total)}))},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleImportTable:function(){var e=this;Object(o["c"])({tables:this.tables.join(",")}).then((function(t){e.msgSuccess(t.msg),200===t.code&&(e.visible=!1,e.$emit("ok"))}))}}},l=r,s=a("9ca4"),c=Object(s["a"])(l,n,i,!1,null,null,null);t["default"]=c.exports},"70eb":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0}},[a("el-form-item",{attrs:{label:"角色名称",prop:"roleName"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入角色名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.roleName,callback:function(t){e.$set(e.queryParams,"roleName",t)},expression:"queryParams.roleName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"权限字符",prop:"roleKey"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入权限字符",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.roleKey,callback:function(t){e.$set(e.queryParams,"roleKey",t)},expression:"queryParams.roleKey"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{staticStyle:{width:"240px"},attrs:{placeholder:"角色状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"创建时间"}},[a("el-date-picker",{staticStyle:{width:"240px"},attrs:{size:"small","value-format":"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.dateRange,callback:function(t){e.dateRange=t},expression:"dateRange"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:role:add"],expression:"['system:role:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:role:edit"],expression:"['system:role:edit']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:role:remove"],expression:"['system:role:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:post:export"],expression:"['system:post:export']"}],attrs:{type:"warning",icon:"el-icon-download",size:"mini"},on:{click:e.handleExport}},[e._v("导出")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.roleList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"角色编号",prop:"roleId",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{label:"角色名称",prop:"roleName","show-overflow-tooltip":!0,width:"150"}}),e._v(" "),a("el-table-column",{attrs:{label:"权限字符",prop:"roleKey","show-overflow-tooltip":!0,width:"150"}}),e._v(" "),a("el-table-column",{attrs:{label:"显示顺序",prop:"roleSort",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"状态",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-value":"0","inactive-value":"1"},on:{change:function(a){return e.handleStatusChange(t.row)}},model:{value:t.row.status,callback:function(a){e.$set(t.row,"status",a)},expression:"scope.row.status"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createTime)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:role:edit"],expression:"['system:role:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:role:edit"],expression:"['system:role:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-circle-check"},on:{click:function(a){return e.handleDataScope(t.row)}}},[e._v("数据权限")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:role:remove"],expression:"['system:role:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"角色名称",prop:"roleName"}},[a("el-input",{attrs:{placeholder:"请输入角色名称"},model:{value:e.form.roleName,callback:function(t){e.$set(e.form,"roleName",t)},expression:"form.roleName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"权限字符",prop:"roleKey"}},[a("el-input",{attrs:{placeholder:"请输入权限字符"},model:{value:e.form.roleKey,callback:function(t){e.$set(e.form,"roleKey",t)},expression:"form.roleKey"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"角色顺序",prop:"roleSort"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.form.roleSort,callback:function(t){e.$set(e.form,"roleSort",t)},expression:"form.roleSort"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusOptions,(function(t){return a("el-radio",{key:t.dictValue,attrs:{label:t.dictValue}},[e._v(e._s(t.dictLabel))])})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"菜单权限"}},[a("el-tree",{ref:"menu",attrs:{data:e.menuOptions,"show-checkbox":"","node-key":"id","empty-text":"加载中，请稍后",props:e.defaultProps}})],1),e._v(" "),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.openDataScope,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.openDataScope=t}}},[a("el-form",{attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"角色名称"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.form.roleName,callback:function(t){e.$set(e.form,"roleName",t)},expression:"form.roleName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"权限字符"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.form.roleKey,callback:function(t){e.$set(e.form,"roleKey",t)},expression:"form.roleKey"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"权限范围"}},[a("el-select",{model:{value:e.form.dataScope,callback:function(t){e.$set(e.form,"dataScope",t)},expression:"form.dataScope"}},e._l(e.dataScopeOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:2==e.form.dataScope,expression:"form.dataScope == 2"}],attrs:{label:"数据权限"}},[a("el-tree",{ref:"dept",attrs:{data:e.deptOptions,"show-checkbox":"","default-expand-all":"","node-key":"id","empty-text":"加载中，请稍后",props:e.defaultProps}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitDataScope}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancelDataScope}},[e._v("取 消")])],1)],1)],1)},i=[],o=a("3528"),r=a("a6dc"),l=a("fcb7"),s={name:"Role",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,roleList:[],title:"",open:!1,openDataScope:!1,dateRange:[],statusOptions:[],dataScopeOptions:[{value:"1",label:"全部数据权限"},{value:"2",label:"自定数据权限"},{value:"3",label:"本部门数据权限"},{value:"4",label:"本部门及以下数据权限"},{value:"5",label:"仅本人数据权限"}],menuOptions:[],deptOptions:[],queryParams:{pageNum:1,pageSize:10,roleName:void 0,roleKey:void 0,status:void 0},form:{},defaultProps:{children:"children",label:"label"},rules:{roleName:[{required:!0,message:"角色名称不能为空",trigger:"blur"}],roleKey:[{required:!0,message:"权限字符不能为空",trigger:"blur"}],roleSort:[{required:!0,message:"角色顺序不能为空",trigger:"blur"}]}}},created:function(){var e=this;this.getList(),this.getDicts("sys_normal_disable").then((function(t){e.statusOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,Object(o["listRole"])(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.roleList=t.rows,e.total=t.total,e.loading=!1}))},getMenuTreeselect:function(){var e=this;Object(r["treeselect"])().then((function(t){e.menuOptions=t.data}))},getDeptTreeselect:function(){var e=this;Object(l["g"])().then((function(t){e.deptOptions=t.data}))},getMenuAllCheckedKeys:function(){var e=this.$refs.menu.getHalfCheckedKeys(),t=this.$refs.menu.getCheckedKeys();return e.unshift.apply(e,t),e},getDeptAllCheckedKeys:function(){var e=this.$refs.dept.getHalfCheckedKeys(),t=this.$refs.dept.getCheckedKeys();return e.unshift.apply(e,t),e},getRoleMenuTreeselect:function(e){var t=this;Object(r["roleMenuTreeselect"])(e).then((function(e){t.menuOptions=e.menus,t.$refs.menu.setCheckedKeys(e.checkedKeys)}))},getRoleDeptTreeselect:function(e){var t=this;Object(l["f"])(e).then((function(e){t.deptOptions=e.depts,t.$refs.dept.setCheckedKeys(e.checkedKeys)}))},handleStatusChange:function(e){var t=this,a="0"===e.status?"启用":"停用";this.$confirm('确认要"'+a+'""'+e.roleName+'"角色吗?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["b"])(e.roleId,e.status)})).then((function(){t.msgSuccess(a+"成功")})).catch((function(){e.status="0"===e.status?"1":"0"}))},cancel:function(){this.open=!1,this.reset()},cancelDataScope:function(){this.openDataScope=!1,this.reset()},reset:function(){void 0!=this.$refs.menu&&this.$refs.menu.setCheckedKeys([]),this.form={roleId:void 0,roleName:void 0,roleKey:void 0,roleSort:0,status:"0",menuIds:[],deptIds:[],remark:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.roleId})),this.single=1!=e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.getMenuTreeselect(),this.open=!0,this.title="添加角色"},handleUpdate:function(e){var t=this;this.reset();var a=e.roleId||this.ids;this.$nextTick((function(){t.getRoleMenuTreeselect(a)})),Object(o["f"])(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改角色"}))},handleDataScope:function(e){var t=this;this.reset(),this.$nextTick((function(){t.getRoleDeptTreeselect(e.roleId)})),Object(o["f"])(e.roleId).then((function(e){t.form=e.data,t.openDataScope=!0,t.title="分配数据权限"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.roleId?(e.form.menuIds=e.getMenuAllCheckedKeys(),Object(o["h"])(e.form).then((function(t){200===t.code&&(e.msgSuccess("修改成功"),e.open=!1,e.getList())}))):(e.form.menuIds=e.getMenuAllCheckedKeys(),Object(o["a"])(e.form).then((function(t){200===t.code&&(e.msgSuccess("新增成功"),e.open=!1,e.getList())}))))}))},submitDataScope:function(){var e=this;void 0!=this.form.roleId&&(this.form.deptIds=this.getDeptAllCheckedKeys(),Object(o["c"])(this.form).then((function(t){200===t.code&&(e.msgSuccess("修改成功"),e.openDataScope=!1,e.getList())})))},handleDelete:function(e){var t=this,a=e.roleId||this.ids;this.$confirm('是否确认删除角色编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["d"])(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有角色数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["e"])(t)})).then((function(t){e.download(t.msg)})).catch((function(){}))}}},c=s,u=a("9ca4"),m=Object(u["a"])(c,n,i,!1,null,null,null);t["default"]=m.exports},"72a4":function(e,t,a){"use strict";var n=a("159d"),i=a.n(n);i.a},"746a":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0}},[a("el-form-item",{attrs:{label:"角色名称",prop:"roleName"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入角色名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.roleName,callback:function(t){e.$set(e.queryParams,"roleName",t)},expression:"queryParams.roleName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"权限字符",prop:"roleKey"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入权限字符",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.roleKey,callback:function(t){e.$set(e.queryParams,"roleKey",t)},expression:"queryParams.roleKey"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{staticStyle:{width:"240px"},attrs:{placeholder:"角色状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"创建时间"}},[a("el-date-picker",{staticStyle:{width:"240px"},attrs:{size:"small","value-format":"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.dateRange,callback:function(t){e.dateRange=t},expression:"dateRange"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:role:add"],expression:"['system:role:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:role:edit"],expression:"['system:role:edit']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:role:remove"],expression:"['system:role:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:post:export"],expression:"['system:post:export']"}],attrs:{type:"warning",icon:"el-icon-download",size:"mini"},on:{click:e.handleExport}},[e._v("导出")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.roleList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"角色编号",prop:"roleId",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{label:"角色名称",prop:"roleName","show-overflow-tooltip":!0,width:"150"}}),e._v(" "),a("el-table-column",{attrs:{label:"权限字符",prop:"roleKey","show-overflow-tooltip":!0,width:"150"}}),e._v(" "),a("el-table-column",{attrs:{label:"显示顺序",prop:"roleSort",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"状态",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-value":"0","inactive-value":"1"},on:{change:function(a){return e.handleStatusChange(t.row)}},model:{value:t.row.status,callback:function(a){e.$set(t.row,"status",a)},expression:"scope.row.status"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createTime)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:role:edit"],expression:"['system:role:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:role:edit"],expression:"['system:role:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-circle-check"},on:{click:function(a){return e.handleDataScope(t.row)}}},[e._v("数据权限")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:role:remove"],expression:"['system:role:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],staticStyle:{"margin-top":"80px"},attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px"},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"角色名称",prop:"roleName"}},[a("el-input",{attrs:{placeholder:"请输入角色名称"},model:{value:e.form.roleName,callback:function(t){e.$set(e.form,"roleName",t)},expression:"form.roleName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"权限字符",prop:"roleKey"}},[a("el-input",{attrs:{placeholder:"请输入权限字符"},model:{value:e.form.roleKey,callback:function(t){e.$set(e.form,"roleKey",t)},expression:"form.roleKey"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"角色顺序",prop:"roleSort"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.form.roleSort,callback:function(t){e.$set(e.form,"roleSort",t)},expression:"form.roleSort"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusOptions,(function(t){return a("el-radio",{key:t.dictValue,attrs:{label:t.dictValue}},[e._v(e._s(t.dictLabel))])})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"菜单权限"}},[a("el-tree",{ref:"menu",attrs:{data:e.menuOptions,"show-checkbox":"","node-key":"id","empty-text":"加载中，请稍后",props:e.defaultProps}})],1),e._v(" "),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.openDataScope,width:"500px"},on:{"update:visible":function(t){e.openDataScope=t}}},[a("el-form",{attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"角色名称"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.form.roleName,callback:function(t){e.$set(e.form,"roleName",t)},expression:"form.roleName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"权限字符"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.form.roleKey,callback:function(t){e.$set(e.form,"roleKey",t)},expression:"form.roleKey"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"权限范围"}},[a("el-select",{model:{value:e.form.dataScope,callback:function(t){e.$set(e.form,"dataScope",t)},expression:"form.dataScope"}},e._l(e.dataScopeOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:2==e.form.dataScope,expression:"form.dataScope == 2"}],attrs:{label:"数据权限"}},[a("el-tree",{ref:"dept",attrs:{data:e.deptOptions,"show-checkbox":"","default-expand-all":"","node-key":"id","empty-text":"加载中，请稍后",props:e.defaultProps}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitDataScope}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancelDataScope}},[e._v("取 消")])],1)],1)],1)},i=[],o=(a("3528"),{name:"Role",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,roleList:[{admin:!0,createBy:null,createTime:"2018-03-16 11:33:00",dataScope:"1",delFlag:"0",deptIds:null,flag:!1,menuIds:null,params:{},remark:"管理员",roleId:1,roleKey:"admin",roleName:"管理员",roleSort:"1",searchValue:null,status:"0",updateBy:null,updateTime:null},{admin:!1,createBy:null,createTime:"2018-03-16 11:33:00",dataScope:"2",delFlag:"0",deptIds:null,flag:!1,menuIds:null,params:{},remark:"普通角色",roleId:2,roleKey:"common",roleName:"普通角色",roleSort:"2",searchValue:null,status:"0",updateBy:null,updateTime:null}],title:"",open:!1,openDataScope:!1,dateRange:[],statusOptions:[],dataScopeOptions:[{value:"1",label:"全部数据权限"},{value:"2",label:"自定数据权限"},{value:"3",label:"本部门数据权限"},{value:"4",label:"本部门及以下数据权限"},{value:"5",label:"仅本人数据权限"}],menuOptions:[],deptOptions:[],queryParams:{pageNum:1,pageSize:10,roleName:void 0,roleKey:void 0,status:void 0},form:{},defaultProps:{children:"children",label:"label"},rules:{roleName:[{required:!0,message:"角色名称不能为空",trigger:"blur"}],roleKey:[{required:!0,message:"权限字符不能为空",trigger:"blur"}],roleSort:[{required:!0,message:"角色顺序不能为空",trigger:"blur"}]}}},created:function(){},methods:{getList:function(){var e=this;this.loading=!0,list(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.roleList=t.rows,e.total=t.total,e.loading=!1}))},getMenuTreeselect:function(){var e=this;menuTreeselect().then((function(t){console.log(t,"查询菜单树结构"),e.menuOptions=t.data}))},getDeptTreeselect:function(){var e=this;deptTreeselect().then((function(t){e.deptOptions=t.data}))},getMenuAllCheckedKeys:function(){var e=this.$refs.menu.getHalfCheckedKeys(),t=this.$refs.menu.getCheckedKeys();return e.unshift.apply(e,t),e},getDeptAllCheckedKeys:function(){var e=this.$refs.dept.getHalfCheckedKeys(),t=this.$refs.dept.getCheckedKeys();return e.unshift.apply(e,t),e},getRoleMenuTreeselect:function(e){var t=this;roleMenuTreeselect(e).then((function(e){t.getMenuTreeselect(),t.$refs.menu.setCheckedKeys(e.data)}))},getRoleDeptTreeselect:function(e){var t=this;roleDeptTreeselect(e).then((function(e){t.getDeptTreeselect(),t.$refs.dept.setCheckedKeys(e.data)}))},handleStatusChange:function(e){var t=this,a="0"===e.status?"启用":"停用";this.$confirm('确认要"'+a+'""'+e.roleName+'"角色吗?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return changeRoleStatus(e.roleId,e.status)})).then((function(){t.msgSuccess(a+"成功")})).catch((function(){e.status="0"===e.status?"1":"0"}))},cancel:function(){this.open=!1,this.reset()},cancelDataScope:function(){this.openDataScope=!1,this.reset()},reset:function(){void 0!=this.$refs.tree&&this.$refs.tree.setCheckedKeys([]),this.form={roleId:void 0,roleName:void 0,roleKey:void 0,roleSort:0,status:"0",menuIds:[],deptIds:[],remark:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.roleId})),this.single=1!=e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.getMenuTreeselect(),this.open=!0,this.title="添加角色"},handleUpdate:function(e){var t=this;this.reset();var a=e.roleId||this.ids;this.$nextTick((function(){t.getRoleMenuTreeselect(a)})),getRole(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改角色"}))},handleDataScope:function(e){var t=this;this.reset(),this.$nextTick((function(){t.getRoleDeptTreeselect(e.roleId)})),getRole(e.roleId).then((function(e){t.form=e.data,t.openDataScope=!0,t.title="分配数据权限"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.roleId?(e.form.menuIds=e.getMenuAllCheckedKeys(),updateRole(e.form).then((function(t){200===t.code?(e.msgSuccess("修改成功"),e.open=!1,e.getList()):e.msgError(t.msg)}))):(e.form.menuIds=e.getMenuAllCheckedKeys(),addRole(e.form).then((function(t){200===t.code?(e.msgSuccess("新增成功"),e.open=!1,e.getList()):e.msgError(t.msg)}))))}))},submitDataScope:function(){var e=this;void 0!=this.form.roleId&&(this.form.deptIds=this.getDeptAllCheckedKeys(),dataScope(this.form).then((function(t){200===t.code?(e.msgSuccess("修改成功"),e.openDataScope=!1,e.getList()):e.msgError(t.msg)})))},handleDelete:function(e){var t=this,a=e.roleId||this.ids;this.$confirm('是否确认删除角色编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return delRole(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有角色数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return exportRole(t)})).then((function(t){e.download(t.msg)})).catch((function(){}))}}}),r=o,l=a("9ca4"),s=Object(l["a"])(r,n,i,!1,null,null,null);t["default"]=s.exports},7626:function(e,t,a){},7629:function(e,t,a){"use strict";var n=a("5996"),i=a.n(n);i.a},"766b":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"right-board"},[a("el-tabs",{staticClass:"center-tabs",model:{value:e.currentTab,callback:function(t){e.currentTab=t},expression:"currentTab"}},[a("el-tab-pane",{attrs:{label:"组件属性",name:"field"}}),e._v(" "),a("el-tab-pane",{attrs:{label:"表单属性",name:"form"}})],1),e._v(" "),a("div",{staticClass:"field-box"},[a("a",{staticClass:"document-link",attrs:{target:"_blank",href:e.documentLink,title:"查看组件文档"}},[a("i",{staticClass:"el-icon-link"})]),e._v(" "),a("el-scrollbar",{staticClass:"right-scrollbar"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:"field"===e.currentTab&&e.showField,expression:"currentTab==='field' && showField"}],attrs:{size:"small","label-width":"90px"}},[e.activeData.changeTag?a("el-form-item",{attrs:{label:"组件类型"}},[a("el-select",{style:{width:"100%"},attrs:{placeholder:"请选择组件类型"},on:{change:e.tagChange},model:{value:e.activeData.tagIcon,callback:function(t){e.$set(e.activeData,"tagIcon",t)},expression:"activeData.tagIcon"}},e._l(e.tagList,(function(t){return a("el-option-group",{key:t.label,attrs:{label:t.label}},e._l(t.options,(function(t){return a("el-option",{key:t.label,attrs:{label:t.label,value:t.tagIcon}},[a("svg-icon",{staticClass:"node-icon",attrs:{"icon-class":t.tagIcon}}),e._v(" "),a("span",[e._v(" "+e._s(t.label))])],1)})),1)})),1)],1):e._e(),e._v(" "),void 0!==e.activeData.vModel?a("el-form-item",{attrs:{label:"字段名"}},[a("el-input",{attrs:{placeholder:"请输入字段名（v-model）"},model:{value:e.activeData.vModel,callback:function(t){e.$set(e.activeData,"vModel",t)},expression:"activeData.vModel"}})],1):e._e(),e._v(" "),void 0!==e.activeData.componentName?a("el-form-item",{attrs:{label:"组件名"}},[e._v("\n          "+e._s(e.activeData.componentName)+"\n        ")]):e._e(),e._v(" "),void 0!==e.activeData.label?a("el-form-item",{attrs:{label:"标题"}},[a("el-input",{attrs:{placeholder:"请输入标题"},model:{value:e.activeData.label,callback:function(t){e.$set(e.activeData,"label",t)},expression:"activeData.label"}})],1):e._e(),e._v(" "),void 0!==e.activeData.placeholder?a("el-form-item",{attrs:{label:"占位提示"}},[a("el-input",{attrs:{placeholder:"请输入占位提示"},model:{value:e.activeData.placeholder,callback:function(t){e.$set(e.activeData,"placeholder",t)},expression:"activeData.placeholder"}})],1):e._e(),e._v(" "),void 0!==e.activeData["start-placeholder"]?a("el-form-item",{attrs:{label:"开始占位"}},[a("el-input",{attrs:{placeholder:"请输入占位提示"},model:{value:e.activeData["start-placeholder"],callback:function(t){e.$set(e.activeData,"start-placeholder",t)},expression:"activeData['start-placeholder']"}})],1):e._e(),e._v(" "),void 0!==e.activeData["end-placeholder"]?a("el-form-item",{attrs:{label:"结束占位"}},[a("el-input",{attrs:{placeholder:"请输入占位提示"},model:{value:e.activeData["end-placeholder"],callback:function(t){e.$set(e.activeData,"end-placeholder",t)},expression:"activeData['end-placeholder']"}})],1):e._e(),e._v(" "),void 0!==e.activeData.span?a("el-form-item",{attrs:{label:"表单栅格"}},[a("el-slider",{attrs:{max:24,min:1,marks:{12:""}},on:{change:e.spanChange},model:{value:e.activeData.span,callback:function(t){e.$set(e.activeData,"span",t)},expression:"activeData.span"}})],1):e._e(),e._v(" "),"rowFormItem"===e.activeData.layout?a("el-form-item",{attrs:{label:"栅格间隔"}},[a("el-input-number",{attrs:{min:0,placeholder:"栅格间隔"},model:{value:e.activeData.gutter,callback:function(t){e.$set(e.activeData,"gutter",t)},expression:"activeData.gutter"}})],1):e._e(),e._v(" "),"rowFormItem"===e.activeData.layout?a("el-form-item",{attrs:{label:"布局模式"}},[a("el-radio-group",{model:{value:e.activeData.type,callback:function(t){e.$set(e.activeData,"type",t)},expression:"activeData.type"}},[a("el-radio-button",{attrs:{label:"default"}}),e._v(" "),a("el-radio-button",{attrs:{label:"flex"}})],1)],1):e._e(),e._v(" "),void 0!==e.activeData.justify&&"flex"===e.activeData.type?a("el-form-item",{attrs:{label:"水平排列"}},[a("el-select",{style:{width:"100%"},attrs:{placeholder:"请选择水平排列"},model:{value:e.activeData.justify,callback:function(t){e.$set(e.activeData,"justify",t)},expression:"activeData.justify"}},e._l(e.justifyOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1):e._e(),e._v(" "),void 0!==e.activeData.align&&"flex"===e.activeData.type?a("el-form-item",{attrs:{label:"垂直排列"}},[a("el-radio-group",{model:{value:e.activeData.align,callback:function(t){e.$set(e.activeData,"align",t)},expression:"activeData.align"}},[a("el-radio-button",{attrs:{label:"top"}}),e._v(" "),a("el-radio-button",{attrs:{label:"middle"}}),e._v(" "),a("el-radio-button",{attrs:{label:"bottom"}})],1)],1):e._e(),e._v(" "),void 0!==e.activeData.labelWidth?a("el-form-item",{attrs:{label:"标签宽度"}},[a("el-input",{attrs:{type:"number",placeholder:"请输入标签宽度"},model:{value:e.activeData.labelWidth,callback:function(t){e.$set(e.activeData,"labelWidth",e._n(t))},expression:"activeData.labelWidth"}})],1):e._e(),e._v(" "),e.activeData.style&&void 0!==e.activeData.style.width?a("el-form-item",{attrs:{label:"组件宽度"}},[a("el-input",{attrs:{placeholder:"请输入组件宽度",clearable:""},model:{value:e.activeData.style.width,callback:function(t){e.$set(e.activeData.style,"width",t)},expression:"activeData.style.width"}})],1):e._e(),e._v(" "),void 0!==e.activeData.vModel?a("el-form-item",{attrs:{label:"默认值"}},[a("el-input",{attrs:{value:e.setDefaultValue(e.activeData.defaultValue),placeholder:"请输入默认值"},on:{input:e.onDefaultValueInput}})],1):e._e(),e._v(" "),"el-checkbox-group"===e.activeData.tag?a("el-form-item",{attrs:{label:"至少应选"}},[a("el-input-number",{attrs:{value:e.activeData.min,min:0,placeholder:"至少应选"},on:{input:function(t){return e.$set(e.activeData,"min",t||void 0)}}})],1):e._e(),e._v(" "),"el-checkbox-group"===e.activeData.tag?a("el-form-item",{attrs:{label:"最多可选"}},[a("el-input-number",{attrs:{value:e.activeData.max,min:0,placeholder:"最多可选"},on:{input:function(t){return e.$set(e.activeData,"max",t||void 0)}}})],1):e._e(),e._v(" "),void 0!==e.activeData.prepend?a("el-form-item",{attrs:{label:"前缀"}},[a("el-input",{attrs:{placeholder:"请输入前缀"},model:{value:e.activeData.prepend,callback:function(t){e.$set(e.activeData,"prepend",t)},expression:"activeData.prepend"}})],1):e._e(),e._v(" "),void 0!==e.activeData.append?a("el-form-item",{attrs:{label:"后缀"}},[a("el-input",{attrs:{placeholder:"请输入后缀"},model:{value:e.activeData.append,callback:function(t){e.$set(e.activeData,"append",t)},expression:"activeData.append"}})],1):e._e(),e._v(" "),void 0!==e.activeData["prefix-icon"]?a("el-form-item",{attrs:{label:"前图标"}},[a("el-input",{attrs:{placeholder:"请输入前图标名称"},model:{value:e.activeData["prefix-icon"],callback:function(t){e.$set(e.activeData,"prefix-icon",t)},expression:"activeData['prefix-icon']"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-thumb"},on:{click:function(t){return e.openIconsDialog("prefix-icon")}},slot:"append"},[e._v("\n              选择\n            ")])],1)],1):e._e(),e._v(" "),void 0!==e.activeData["suffix-icon"]?a("el-form-item",{attrs:{label:"后图标"}},[a("el-input",{attrs:{placeholder:"请输入后图标名称"},model:{value:e.activeData["suffix-icon"],callback:function(t){e.$set(e.activeData,"suffix-icon",t)},expression:"activeData['suffix-icon']"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-thumb"},on:{click:function(t){return e.openIconsDialog("suffix-icon")}},slot:"append"},[e._v("\n              选择\n            ")])],1)],1):e._e(),e._v(" "),"el-cascader"===e.activeData.tag?a("el-form-item",{attrs:{label:"选项分隔符"}},[a("el-input",{attrs:{placeholder:"请输入选项分隔符"},model:{value:e.activeData.separator,callback:function(t){e.$set(e.activeData,"separator",t)},expression:"activeData.separator"}})],1):e._e(),e._v(" "),void 0!==e.activeData.autosize?a("el-form-item",{attrs:{label:"最小行数"}},[a("el-input-number",{attrs:{min:1,placeholder:"最小行数"},model:{value:e.activeData.autosize.minRows,callback:function(t){e.$set(e.activeData.autosize,"minRows",t)},expression:"activeData.autosize.minRows"}})],1):e._e(),e._v(" "),void 0!==e.activeData.autosize?a("el-form-item",{attrs:{label:"最大行数"}},[a("el-input-number",{attrs:{min:1,placeholder:"最大行数"},model:{value:e.activeData.autosize.maxRows,callback:function(t){e.$set(e.activeData.autosize,"maxRows",t)},expression:"activeData.autosize.maxRows"}})],1):e._e(),e._v(" "),void 0!==e.activeData.min?a("el-form-item",{attrs:{label:"最小值"}},[a("el-input-number",{attrs:{placeholder:"最小值"},model:{value:e.activeData.min,callback:function(t){e.$set(e.activeData,"min",t)},expression:"activeData.min"}})],1):e._e(),e._v(" "),void 0!==e.activeData.max?a("el-form-item",{attrs:{label:"最大值"}},[a("el-input-number",{attrs:{placeholder:"最大值"},model:{value:e.activeData.max,callback:function(t){e.$set(e.activeData,"max",t)},expression:"activeData.max"}})],1):e._e(),e._v(" "),void 0!==e.activeData.step?a("el-form-item",{attrs:{label:"步长"}},[a("el-input-number",{attrs:{placeholder:"步数"},model:{value:e.activeData.step,callback:function(t){e.$set(e.activeData,"step",t)},expression:"activeData.step"}})],1):e._e(),e._v(" "),"el-input-number"===e.activeData.tag?a("el-form-item",{attrs:{label:"精度"}},[a("el-input-number",{attrs:{min:0,placeholder:"精度"},model:{value:e.activeData.precision,callback:function(t){e.$set(e.activeData,"precision",t)},expression:"activeData.precision"}})],1):e._e(),e._v(" "),"el-input-number"===e.activeData.tag?a("el-form-item",{attrs:{label:"按钮位置"}},[a("el-radio-group",{model:{value:e.activeData["controls-position"],callback:function(t){e.$set(e.activeData,"controls-position",t)},expression:"activeData['controls-position']"}},[a("el-radio-button",{attrs:{label:""}},[e._v("\n              默认\n            ")]),e._v(" "),a("el-radio-button",{attrs:{label:"right"}},[e._v("\n              右侧\n            ")])],1)],1):e._e(),e._v(" "),void 0!==e.activeData.maxlength?a("el-form-item",{attrs:{label:"最多输入"}},[a("el-input",{attrs:{placeholder:"请输入字符长度"},model:{value:e.activeData.maxlength,callback:function(t){e.$set(e.activeData,"maxlength",t)},expression:"activeData.maxlength"}},[a("template",{slot:"append"},[e._v("\n              个字符\n            ")])],2)],1):e._e(),e._v(" "),void 0!==e.activeData["active-text"]?a("el-form-item",{attrs:{label:"开启提示"}},[a("el-input",{attrs:{placeholder:"请输入开启提示"},model:{value:e.activeData["active-text"],callback:function(t){e.$set(e.activeData,"active-text",t)},expression:"activeData['active-text']"}})],1):e._e(),e._v(" "),void 0!==e.activeData["inactive-text"]?a("el-form-item",{attrs:{label:"关闭提示"}},[a("el-input",{attrs:{placeholder:"请输入关闭提示"},model:{value:e.activeData["inactive-text"],callback:function(t){e.$set(e.activeData,"inactive-text",t)},expression:"activeData['inactive-text']"}})],1):e._e(),e._v(" "),void 0!==e.activeData["active-value"]?a("el-form-item",{attrs:{label:"开启值"}},[a("el-input",{attrs:{value:e.setDefaultValue(e.activeData["active-value"]),placeholder:"请输入开启值"},on:{input:function(t){return e.onSwitchValueInput(t,"active-value")}}})],1):e._e(),e._v(" "),void 0!==e.activeData["inactive-value"]?a("el-form-item",{attrs:{label:"关闭值"}},[a("el-input",{attrs:{value:e.setDefaultValue(e.activeData["inactive-value"]),placeholder:"请输入关闭值"},on:{input:function(t){return e.onSwitchValueInput(t,"inactive-value")}}})],1):e._e(),e._v(" "),void 0!==e.activeData.type&&"el-date-picker"===e.activeData.tag?a("el-form-item",{attrs:{label:"时间类型"}},[a("el-select",{style:{width:"100%"},attrs:{placeholder:"请选择时间类型"},on:{change:e.dateTypeChange},model:{value:e.activeData.type,callback:function(t){e.$set(e.activeData,"type",t)},expression:"activeData.type"}},e._l(e.dateOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1):e._e(),e._v(" "),void 0!==e.activeData.name?a("el-form-item",{attrs:{label:"文件字段名"}},[a("el-input",{attrs:{placeholder:"请输入上传文件字段名"},model:{value:e.activeData.name,callback:function(t){e.$set(e.activeData,"name",t)},expression:"activeData.name"}})],1):e._e(),e._v(" "),void 0!==e.activeData.accept?a("el-form-item",{attrs:{label:"文件类型"}},[a("el-select",{style:{width:"100%"},attrs:{placeholder:"请选择文件类型",clearable:""},model:{value:e.activeData.accept,callback:function(t){e.$set(e.activeData,"accept",t)},expression:"activeData.accept"}},[a("el-option",{attrs:{label:"图片",value:"image/*"}}),e._v(" "),a("el-option",{attrs:{label:"视频",value:"video/*"}}),e._v(" "),a("el-option",{attrs:{label:"音频",value:"audio/*"}}),e._v(" "),a("el-option",{attrs:{label:"excel",value:".xls,.xlsx"}}),e._v(" "),a("el-option",{attrs:{label:"word",value:".doc,.docx"}}),e._v(" "),a("el-option",{attrs:{label:"pdf",value:".pdf"}}),e._v(" "),a("el-option",{attrs:{label:"txt",value:".txt"}})],1)],1):e._e(),e._v(" "),void 0!==e.activeData.fileSize?a("el-form-item",{attrs:{label:"文件大小"}},[a("el-input",{attrs:{placeholder:"请输入文件大小"},model:{value:e.activeData.fileSize,callback:function(t){e.$set(e.activeData,"fileSize",e._n(t))},expression:"activeData.fileSize"}},[a("el-select",{style:{width:"66px"},attrs:{slot:"append"},slot:"append",model:{value:e.activeData.sizeUnit,callback:function(t){e.$set(e.activeData,"sizeUnit",t)},expression:"activeData.sizeUnit"}},[a("el-option",{attrs:{label:"KB",value:"KB"}}),e._v(" "),a("el-option",{attrs:{label:"MB",value:"MB"}}),e._v(" "),a("el-option",{attrs:{label:"GB",value:"GB"}})],1)],1)],1):e._e(),e._v(" "),void 0!==e.activeData.action?a("el-form-item",{attrs:{label:"上传地址"}},[a("el-input",{attrs:{placeholder:"请输入上传地址",clearable:""},model:{value:e.activeData.action,callback:function(t){e.$set(e.activeData,"action",t)},expression:"activeData.action"}})],1):e._e(),e._v(" "),void 0!==e.activeData["list-type"]?a("el-form-item",{attrs:{label:"列表类型"}},[a("el-radio-group",{attrs:{size:"small"},model:{value:e.activeData["list-type"],callback:function(t){e.$set(e.activeData,"list-type",t)},expression:"activeData['list-type']"}},[a("el-radio-button",{attrs:{label:"text"}},[e._v("\n              text\n            ")]),e._v(" "),a("el-radio-button",{attrs:{label:"picture"}},[e._v("\n              picture\n            ")]),e._v(" "),a("el-radio-button",{attrs:{label:"picture-card"}},[e._v("\n              picture-card\n            ")])],1)],1):e._e(),e._v(" "),void 0!==e.activeData.buttonText?a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"picture-card"!==e.activeData["list-type"],expression:"'picture-card' !== activeData['list-type']"}],attrs:{label:"按钮文字"}},[a("el-input",{attrs:{placeholder:"请输入按钮文字"},model:{value:e.activeData.buttonText,callback:function(t){e.$set(e.activeData,"buttonText",t)},expression:"activeData.buttonText"}})],1):e._e(),e._v(" "),void 0!==e.activeData["range-separator"]?a("el-form-item",{attrs:{label:"分隔符"}},[a("el-input",{attrs:{placeholder:"请输入分隔符"},model:{value:e.activeData["range-separator"],callback:function(t){e.$set(e.activeData,"range-separator",t)},expression:"activeData['range-separator']"}})],1):e._e(),e._v(" "),void 0!==e.activeData["picker-options"]?a("el-form-item",{attrs:{label:"时间段"}},[a("el-input",{attrs:{placeholder:"请输入时间段"},model:{value:e.activeData["picker-options"].selectableRange,callback:function(t){e.$set(e.activeData["picker-options"],"selectableRange",t)},expression:"activeData['picker-options'].selectableRange"}})],1):e._e(),e._v(" "),void 0!==e.activeData.format?a("el-form-item",{attrs:{label:"时间格式"}},[a("el-input",{attrs:{value:e.activeData.format,placeholder:"请输入时间格式"},on:{input:function(t){return e.setTimeValue(t)}}})],1):e._e(),e._v(" "),["el-checkbox-group","el-radio-group","el-select"].indexOf(e.activeData.tag)>-1?[a("el-divider",[e._v("选项")]),e._v(" "),a("draggable",{attrs:{list:e.activeData.options,animation:340,group:"selectItem",handle:".option-drag"}},e._l(e.activeData.options,(function(t,n){return a("div",{key:n,staticClass:"select-item"},[a("div",{staticClass:"select-line-icon option-drag"},[a("i",{staticClass:"el-icon-s-operation"})]),e._v(" "),a("el-input",{attrs:{placeholder:"选项名",size:"small"},model:{value:t.label,callback:function(a){e.$set(t,"label",a)},expression:"item.label"}}),e._v(" "),a("el-input",{attrs:{placeholder:"选项值",size:"small",value:t.value},on:{input:function(a){return e.setOptionValue(t,a)}}}),e._v(" "),a("div",{staticClass:"close-btn select-line-icon",on:{click:function(t){return e.activeData.options.splice(n,1)}}},[a("i",{staticClass:"el-icon-remove-outline"})])],1)})),0),e._v(" "),a("div",{staticStyle:{"margin-left":"20px"}},[a("el-button",{staticStyle:{"padding-bottom":"0"},attrs:{icon:"el-icon-circle-plus-outline",type:"text"},on:{click:e.addSelectItem}},[e._v("\n              添加选项\n            ")])],1),e._v(" "),a("el-divider")]:e._e(),e._v(" "),["el-cascader"].indexOf(e.activeData.tag)>-1?[a("el-divider",[e._v("选项")]),e._v(" "),a("el-form-item",{attrs:{label:"数据类型"}},[a("el-radio-group",{attrs:{size:"small"},model:{value:e.activeData.dataType,callback:function(t){e.$set(e.activeData,"dataType",t)},expression:"activeData.dataType"}},[a("el-radio-button",{attrs:{label:"dynamic"}},[e._v("\n                动态数据\n              ")]),e._v(" "),a("el-radio-button",{attrs:{label:"static"}},[e._v("\n                静态数据\n              ")])],1)],1),e._v(" "),"dynamic"===e.activeData.dataType?[a("el-form-item",{attrs:{label:"标签键名"}},[a("el-input",{attrs:{placeholder:"请输入标签键名"},model:{value:e.activeData.labelKey,callback:function(t){e.$set(e.activeData,"labelKey",t)},expression:"activeData.labelKey"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"值键名"}},[a("el-input",{attrs:{placeholder:"请输入值键名"},model:{value:e.activeData.valueKey,callback:function(t){e.$set(e.activeData,"valueKey",t)},expression:"activeData.valueKey"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"子级键名"}},[a("el-input",{attrs:{placeholder:"请输入子级键名"},model:{value:e.activeData.childrenKey,callback:function(t){e.$set(e.activeData,"childrenKey",t)},expression:"activeData.childrenKey"}})],1)]:e._e(),e._v(" "),"static"===e.activeData.dataType?a("el-tree",{attrs:{draggable:"",data:e.activeData.options,"node-key":"id","expand-on-click-node":!1,"render-content":e.renderContent}}):e._e(),e._v(" "),"static"===e.activeData.dataType?a("div",{staticStyle:{"margin-left":"20px"}},[a("el-button",{staticStyle:{"padding-bottom":"0"},attrs:{icon:"el-icon-circle-plus-outline",type:"text"},on:{click:e.addTreeItem}},[e._v("\n              添加父级\n            ")])],1):e._e(),e._v(" "),a("el-divider")]:e._e(),e._v(" "),void 0!==e.activeData.optionType?a("el-form-item",{attrs:{label:"选项样式"}},[a("el-radio-group",{model:{value:e.activeData.optionType,callback:function(t){e.$set(e.activeData,"optionType",t)},expression:"activeData.optionType"}},[a("el-radio-button",{attrs:{label:"default"}},[e._v("\n              默认\n            ")]),e._v(" "),a("el-radio-button",{attrs:{label:"button"}},[e._v("\n              按钮\n            ")])],1)],1):e._e(),e._v(" "),void 0!==e.activeData["active-color"]?a("el-form-item",{attrs:{label:"开启颜色"}},[a("el-color-picker",{model:{value:e.activeData["active-color"],callback:function(t){e.$set(e.activeData,"active-color",t)},expression:"activeData['active-color']"}})],1):e._e(),e._v(" "),void 0!==e.activeData["inactive-color"]?a("el-form-item",{attrs:{label:"关闭颜色"}},[a("el-color-picker",{model:{value:e.activeData["inactive-color"],callback:function(t){e.$set(e.activeData,"inactive-color",t)},expression:"activeData['inactive-color']"}})],1):e._e(),e._v(" "),void 0!==e.activeData["allow-half"]?a("el-form-item",{attrs:{label:"允许半选"}},[a("el-switch",{model:{value:e.activeData["allow-half"],callback:function(t){e.$set(e.activeData,"allow-half",t)},expression:"activeData['allow-half']"}})],1):e._e(),e._v(" "),void 0!==e.activeData["show-text"]?a("el-form-item",{attrs:{label:"辅助文字"}},[a("el-switch",{on:{change:e.rateTextChange},model:{value:e.activeData["show-text"],callback:function(t){e.$set(e.activeData,"show-text",t)},expression:"activeData['show-text']"}})],1):e._e(),e._v(" "),void 0!==e.activeData["show-score"]?a("el-form-item",{attrs:{label:"显示分数"}},[a("el-switch",{on:{change:e.rateScoreChange},model:{value:e.activeData["show-score"],callback:function(t){e.$set(e.activeData,"show-score",t)},expression:"activeData['show-score']"}})],1):e._e(),e._v(" "),void 0!==e.activeData["show-stops"]?a("el-form-item",{attrs:{label:"显示间断点"}},[a("el-switch",{model:{value:e.activeData["show-stops"],callback:function(t){e.$set(e.activeData,"show-stops",t)},expression:"activeData['show-stops']"}})],1):e._e(),e._v(" "),void 0!==e.activeData.range?a("el-form-item",{attrs:{label:"范围选择"}},[a("el-switch",{on:{change:e.rangeChange},model:{value:e.activeData.range,callback:function(t){e.$set(e.activeData,"range",t)},expression:"activeData.range"}})],1):e._e(),e._v(" "),void 0!==e.activeData.border&&"default"===e.activeData.optionType?a("el-form-item",{attrs:{label:"是否带边框"}},[a("el-switch",{model:{value:e.activeData.border,callback:function(t){e.$set(e.activeData,"border",t)},expression:"activeData.border"}})],1):e._e(),e._v(" "),"el-color-picker"===e.activeData.tag?a("el-form-item",{attrs:{label:"颜色格式"}},[a("el-select",{style:{width:"100%"},attrs:{placeholder:"请选择颜色格式"},on:{change:e.colorFormatChange},model:{value:e.activeData["color-format"],callback:function(t){e.$set(e.activeData,"color-format",t)},expression:"activeData['color-format']"}},e._l(e.colorFormatOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1):e._e(),e._v(" "),void 0===e.activeData.size||"button"!==e.activeData.optionType&&!e.activeData.border&&"el-color-picker"!==e.activeData.tag?e._e():a("el-form-item",{attrs:{label:"选项尺寸"}},[a("el-radio-group",{model:{value:e.activeData.size,callback:function(t){e.$set(e.activeData,"size",t)},expression:"activeData.size"}},[a("el-radio-button",{attrs:{label:"medium"}},[e._v("\n              中等\n            ")]),e._v(" "),a("el-radio-button",{attrs:{label:"small"}},[e._v("\n              较小\n            ")]),e._v(" "),a("el-radio-button",{attrs:{label:"mini"}},[e._v("\n              迷你\n            ")])],1)],1),e._v(" "),void 0!==e.activeData["show-word-limit"]?a("el-form-item",{attrs:{label:"输入统计"}},[a("el-switch",{model:{value:e.activeData["show-word-limit"],callback:function(t){e.$set(e.activeData,"show-word-limit",t)},expression:"activeData['show-word-limit']"}})],1):e._e(),e._v(" "),"el-input-number"===e.activeData.tag?a("el-form-item",{attrs:{label:"严格步数"}},[a("el-switch",{model:{value:e.activeData["step-strictly"],callback:function(t){e.$set(e.activeData,"step-strictly",t)},expression:"activeData['step-strictly']"}})],1):e._e(),e._v(" "),"el-cascader"===e.activeData.tag?a("el-form-item",{attrs:{label:"是否多选"}},[a("el-switch",{model:{value:e.activeData.props.props.multiple,callback:function(t){e.$set(e.activeData.props.props,"multiple",t)},expression:"activeData.props.props.multiple"}})],1):e._e(),e._v(" "),"el-cascader"===e.activeData.tag?a("el-form-item",{attrs:{label:"展示全路径"}},[a("el-switch",{model:{value:e.activeData["show-all-levels"],callback:function(t){e.$set(e.activeData,"show-all-levels",t)},expression:"activeData['show-all-levels']"}})],1):e._e(),e._v(" "),"el-cascader"===e.activeData.tag?a("el-form-item",{attrs:{label:"可否筛选"}},[a("el-switch",{model:{value:e.activeData.filterable,callback:function(t){e.$set(e.activeData,"filterable",t)},expression:"activeData.filterable"}})],1):e._e(),e._v(" "),void 0!==e.activeData.clearable?a("el-form-item",{attrs:{label:"能否清空"}},[a("el-switch",{model:{value:e.activeData.clearable,callback:function(t){e.$set(e.activeData,"clearable",t)},expression:"activeData.clearable"}})],1):e._e(),e._v(" "),void 0!==e.activeData.showTip?a("el-form-item",{attrs:{label:"显示提示"}},[a("el-switch",{model:{value:e.activeData.showTip,callback:function(t){e.$set(e.activeData,"showTip",t)},expression:"activeData.showTip"}})],1):e._e(),e._v(" "),void 0!==e.activeData.multiple?a("el-form-item",{attrs:{label:"多选文件"}},[a("el-switch",{model:{value:e.activeData.multiple,callback:function(t){e.$set(e.activeData,"multiple",t)},expression:"activeData.multiple"}})],1):e._e(),e._v(" "),void 0!==e.activeData["auto-upload"]?a("el-form-item",{attrs:{label:"自动上传"}},[a("el-switch",{model:{value:e.activeData["auto-upload"],callback:function(t){e.$set(e.activeData,"auto-upload",t)},expression:"activeData['auto-upload']"}})],1):e._e(),e._v(" "),void 0!==e.activeData.readonly?a("el-form-item",{attrs:{label:"是否只读"}},[a("el-switch",{model:{value:e.activeData.readonly,callback:function(t){e.$set(e.activeData,"readonly",t)},expression:"activeData.readonly"}})],1):e._e(),e._v(" "),void 0!==e.activeData.disabled?a("el-form-item",{attrs:{label:"是否禁用"}},[a("el-switch",{model:{value:e.activeData.disabled,callback:function(t){e.$set(e.activeData,"disabled",t)},expression:"activeData.disabled"}})],1):e._e(),e._v(" "),"el-select"===e.activeData.tag?a("el-form-item",{attrs:{label:"是否可搜索"}},[a("el-switch",{model:{value:e.activeData.filterable,callback:function(t){e.$set(e.activeData,"filterable",t)},expression:"activeData.filterable"}})],1):e._e(),e._v(" "),"el-select"===e.activeData.tag?a("el-form-item",{attrs:{label:"是否多选"}},[a("el-switch",{on:{change:e.multipleChange},model:{value:e.activeData.multiple,callback:function(t){e.$set(e.activeData,"multiple",t)},expression:"activeData.multiple"}})],1):e._e(),e._v(" "),void 0!==e.activeData.required?a("el-form-item",{attrs:{label:"是否必填"}},[a("el-switch",{model:{value:e.activeData.required,callback:function(t){e.$set(e.activeData,"required",t)},expression:"activeData.required"}})],1):e._e(),e._v(" "),e.activeData.layoutTree?[a("el-divider",[e._v("布局结构树")]),e._v(" "),a("el-tree",{attrs:{data:[e.activeData],props:e.layoutTreeProps,"node-key":"renderKey","default-expand-all":"",draggable:""},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.node,i=t.data;return a("span",{},[a("span",{staticClass:"node-label"},[a("svg-icon",{staticClass:"node-icon",attrs:{"icon-class":i.tagIcon}}),e._v("\n                "+e._s(n.label)+"\n              ")],1)])}}],null,!1,2951611081)})]:e._e(),e._v(" "),"colFormItem"===e.activeData.layout?[a("el-divider",[e._v("正则校验")]),e._v(" "),e._l(e.activeData.regList,(function(t,n){return a("div",{key:n,staticClass:"reg-item"},[a("span",{staticClass:"close-btn",on:{click:function(t){return e.activeData.regList.splice(n,1)}}},[a("i",{staticClass:"el-icon-close"})]),e._v(" "),a("el-form-item",{attrs:{label:"表达式"}},[a("el-input",{attrs:{placeholder:"请输入正则"},model:{value:t.pattern,callback:function(a){e.$set(t,"pattern",a)},expression:"item.pattern"}})],1),e._v(" "),a("el-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{label:"错误提示"}},[a("el-input",{attrs:{placeholder:"请输入错误提示"},model:{value:t.message,callback:function(a){e.$set(t,"message",a)},expression:"item.message"}})],1)],1)})),e._v(" "),a("div",{staticStyle:{"margin-left":"20px"}},[a("el-button",{attrs:{icon:"el-icon-circle-plus-outline",type:"text"},on:{click:e.addReg}},[e._v("\n              添加规则\n            ")])],1)]:e._e()],2),e._v(" "),a("el-form",{directives:[{name:"show",rawName:"v-show",value:"form"===e.currentTab,expression:"currentTab === 'form'"}],attrs:{size:"small","label-width":"90px"}},[a("el-form-item",{attrs:{label:"表单名"}},[a("el-input",{attrs:{placeholder:"请输入表单名（ref）"},model:{value:e.formConf.formRef,callback:function(t){e.$set(e.formConf,"formRef",t)},expression:"formConf.formRef"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"表单模型"}},[a("el-input",{attrs:{placeholder:"请输入数据模型"},model:{value:e.formConf.formModel,callback:function(t){e.$set(e.formConf,"formModel",t)},expression:"formConf.formModel"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"校验模型"}},[a("el-input",{attrs:{placeholder:"请输入校验模型"},model:{value:e.formConf.formRules,callback:function(t){e.$set(e.formConf,"formRules",t)},expression:"formConf.formRules"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"表单尺寸"}},[a("el-radio-group",{model:{value:e.formConf.size,callback:function(t){e.$set(e.formConf,"size",t)},expression:"formConf.size"}},[a("el-radio-button",{attrs:{label:"medium"}},[e._v("\n              中等\n            ")]),e._v(" "),a("el-radio-button",{attrs:{label:"small"}},[e._v("\n              较小\n            ")]),e._v(" "),a("el-radio-button",{attrs:{label:"mini"}},[e._v("\n              迷你\n            ")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"标签对齐"}},[a("el-radio-group",{model:{value:e.formConf.labelPosition,callback:function(t){e.$set(e.formConf,"labelPosition",t)},expression:"formConf.labelPosition"}},[a("el-radio-button",{attrs:{label:"left"}},[e._v("\n              左对齐\n            ")]),e._v(" "),a("el-radio-button",{attrs:{label:"right"}},[e._v("\n              右对齐\n            ")]),e._v(" "),a("el-radio-button",{attrs:{label:"top"}},[e._v("\n              顶部对齐\n            ")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"标签宽度"}},[a("el-input-number",{attrs:{placeholder:"标签宽度"},model:{value:e.formConf.labelWidth,callback:function(t){e.$set(e.formConf,"labelWidth",t)},expression:"formConf.labelWidth"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"栅格间隔"}},[a("el-input-number",{attrs:{min:0,placeholder:"栅格间隔"},model:{value:e.formConf.gutter,callback:function(t){e.$set(e.formConf,"gutter",t)},expression:"formConf.gutter"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"禁用表单"}},[a("el-switch",{model:{value:e.formConf.disabled,callback:function(t){e.$set(e.formConf,"disabled",t)},expression:"formConf.disabled"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"表单按钮"}},[a("el-switch",{model:{value:e.formConf.formBtns,callback:function(t){e.$set(e.formConf,"formBtns",t)},expression:"formConf.formBtns"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"显示未选中组件边框"}},[a("el-switch",{model:{value:e.formConf.unFocusedComponentBorder,callback:function(t){e.$set(e.formConf,"unFocusedComponentBorder",t)},expression:"formConf.unFocusedComponentBorder"}})],1)],1)],1)],1),e._v(" "),a("treeNode-dialog",{attrs:{visible:e.dialogVisible,title:"添加选项"},on:{"update:visible":function(t){e.dialogVisible=t},commit:e.addNode}}),e._v(" "),a("icons-dialog",{attrs:{visible:e.iconsVisible,current:e.activeData[e.currentIconModel]},on:{"update:visible":function(t){e.iconsVisible=t},select:e.setIcon}})],1)},i=[],o=(a("e697"),a("9a33"),a("e204"),a("49a5")),r=a("c81a"),l=a("ed08"),s=a("d0b2"),c=a("2e2a"),u={date:"yyyy-MM-dd",week:"yyyy 第 WW 周",month:"yyyy-MM",year:"yyyy",datetime:"yyyy-MM-dd HH:mm:ss",daterange:"yyyy-MM-dd",monthrange:"yyyy-MM",datetimerange:"yyyy-MM-dd HH:mm:ss"},m={components:{TreeNodeDialog:r["default"],IconsDialog:s["default"]},props:["showField","activeData","formConf"],data:function(){return{currentTab:"field",currentNode:null,dialogVisible:!1,iconsVisible:!1,currentIconModel:null,dateTypeOptions:[{label:"日(date)",value:"date"},{label:"周(week)",value:"week"},{label:"月(month)",value:"month"},{label:"年(year)",value:"year"},{label:"日期时间(datetime)",value:"datetime"}],dateRangeTypeOptions:[{label:"日期范围(daterange)",value:"daterange"},{label:"月范围(monthrange)",value:"monthrange"},{label:"日期时间范围(datetimerange)",value:"datetimerange"}],colorFormatOptions:[{label:"hex",value:"hex"},{label:"rgb",value:"rgb"},{label:"rgba",value:"rgba"},{label:"hsv",value:"hsv"},{label:"hsl",value:"hsl"}],justifyOptions:[{label:"start",value:"start"},{label:"end",value:"end"},{label:"center",value:"center"},{label:"space-around",value:"space-around"},{label:"space-between",value:"space-between"}],layoutTreeProps:{label:function(e,t){return e.componentName||"".concat(e.label,": ").concat(e.vModel)}}}},computed:{documentLink:function(){return this.activeData.document||"https://element.eleme.cn/#/zh-CN/component/installation"},dateOptions:function(){return void 0!==this.activeData.type&&"el-date-picker"===this.activeData.tag?void 0===this.activeData["start-placeholder"]?this.dateTypeOptions:this.dateRangeTypeOptions:[]},tagList:function(){return[{label:"输入型组件",options:c["b"]},{label:"选择型组件",options:c["d"]}]}},methods:{addReg:function(){this.activeData.regList.push({pattern:"",message:""})},addSelectItem:function(){this.activeData.options.push({label:"",value:""})},addTreeItem:function(){++this.idGlobal,this.dialogVisible=!0,this.currentNode=this.activeData.options},renderContent:function(e,t){var a=this,n=t.node,i=t.data;t.store;return e("div",{class:"custom-tree-node"},[e("span",[n.label]),e("span",{class:"node-operation"},[e("i",{on:{click:function(){return a.append(i)}},class:"el-icon-plus",attrs:{title:"添加"}}),e("i",{on:{click:function(){return a.remove(n,i)}},class:"el-icon-delete",attrs:{title:"删除"}})])])},append:function(e){e.children||this.$set(e,"children",[]),this.dialogVisible=!0,this.currentNode=e.children},remove:function(e,t){var a=e.parent,n=a.data.children||a.data,i=n.findIndex((function(e){return e.id===t.id}));n.splice(i,1)},addNode:function(e){this.currentNode.push(e)},setOptionValue:function(e,t){e.value=Object(l["e"])(t)?+t:t},setDefaultValue:function(e){return Array.isArray(e)?e.join(","):["string","number"].indexOf(e)>-1?e:"boolean"===typeof e?"".concat(e):e},onDefaultValueInput:function(e){Object(o["isArray"])(this.activeData.defaultValue)?this.$set(this.activeData,"defaultValue",e.split(",").map((function(e){return Object(l["e"])(e)?+e:e}))):["true","false"].indexOf(e)>-1?this.$set(this.activeData,"defaultValue",JSON.parse(e)):this.$set(this.activeData,"defaultValue",Object(l["e"])(e)?+e:e)},onSwitchValueInput:function(e,t){["true","false"].indexOf(e)>-1?this.$set(this.activeData,t,JSON.parse(e)):this.$set(this.activeData,t,Object(l["e"])(e)?+e:e)},setTimeValue:function(e,t){var a="week"===t?u.date:e;this.$set(this.activeData,"defaultValue",null),this.$set(this.activeData,"value-format",a),this.$set(this.activeData,"format",e)},spanChange:function(e){this.formConf.span=e},multipleChange:function(e){this.$set(this.activeData,"defaultValue",e?[]:"")},dateTypeChange:function(e){this.setTimeValue(u[e],e)},rangeChange:function(e){this.$set(this.activeData,"defaultValue",e?[this.activeData.min,this.activeData.max]:this.activeData.min)},rateTextChange:function(e){e&&(this.activeData["show-score"]=!1)},rateScoreChange:function(e){e&&(this.activeData["show-text"]=!1)},colorFormatChange:function(e){this.activeData.defaultValue=null,this.activeData["show-alpha"]=e.indexOf("a")>-1,this.activeData.renderKey=+new Date},openIconsDialog:function(e){this.iconsVisible=!0,this.currentIconModel=e},setIcon:function(e){this.activeData[this.currentIconModel]=e},tagChange:function(e){var t=c["b"].find((function(t){return t.tagIcon===e}));t||(t=c["d"].find((function(t){return t.tagIcon===e}))),this.$emit("tag-change",t)}}},d=m,p=(a("d8af"),a("9ca4")),f=Object(p["a"])(d,n,i,!1,null,"53ded860",null);t["default"]=f.exports},"76f8":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",[a("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"基本信息",name:"basic"}},[a("basic-info-form",{ref:"basicInfo",attrs:{info:e.info}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"字段信息",name:"cloum"}},[a("el-table",{ref:"dragTable",attrs:{data:e.cloumns,"row-key":"columnId","max-height":e.tableHeight}},[a("el-table-column",{attrs:{label:"序号",type:"index","min-width":"5%","class-name":"allowDrag"}}),e._v(" "),a("el-table-column",{attrs:{label:"字段列名",prop:"columnName","min-width":"10%","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"字段描述","min-width":"10%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{model:{value:t.row.columnComment,callback:function(a){e.$set(t.row,"columnComment",a)},expression:"scope.row.columnComment"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"物理类型",prop:"columnType","min-width":"10%","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"Java类型","min-width":"11%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{model:{value:t.row.javaType,callback:function(a){e.$set(t.row,"javaType",a)},expression:"scope.row.javaType"}},[a("el-option",{attrs:{label:"Long",value:"Long"}}),e._v(" "),a("el-option",{attrs:{label:"String",value:"String"}}),e._v(" "),a("el-option",{attrs:{label:"Integer",value:"Integer"}}),e._v(" "),a("el-option",{attrs:{label:"Double",value:"Double"}}),e._v(" "),a("el-option",{attrs:{label:"BigDecimal",value:"BigDecimal"}}),e._v(" "),a("el-option",{attrs:{label:"Date",value:"Date"}})],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"java属性","min-width":"10%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{model:{value:t.row.javaField,callback:function(a){e.$set(t.row,"javaField",a)},expression:"scope.row.javaField"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"插入","min-width":"5%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-checkbox",{attrs:{"true-label":"1"},model:{value:t.row.isInsert,callback:function(a){e.$set(t.row,"isInsert",a)},expression:"scope.row.isInsert"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"编辑","min-width":"5%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-checkbox",{attrs:{"true-label":"1"},model:{value:t.row.isEdit,callback:function(a){e.$set(t.row,"isEdit",a)},expression:"scope.row.isEdit"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"列表","min-width":"5%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-checkbox",{attrs:{"true-label":"1"},model:{value:t.row.isList,callback:function(a){e.$set(t.row,"isList",a)},expression:"scope.row.isList"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"查询","min-width":"5%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-checkbox",{attrs:{"true-label":"1"},model:{value:t.row.isQuery,callback:function(a){e.$set(t.row,"isQuery",a)},expression:"scope.row.isQuery"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"查询方式","min-width":"10%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{model:{value:t.row.queryType,callback:function(a){e.$set(t.row,"queryType",a)},expression:"scope.row.queryType"}},[a("el-option",{attrs:{label:"=",value:"EQ"}}),e._v(" "),a("el-option",{attrs:{label:"!=",value:"NE"}}),e._v(" "),a("el-option",{attrs:{label:">",value:"GT"}}),e._v(" "),a("el-option",{attrs:{label:">=",value:"GTE"}}),e._v(" "),a("el-option",{attrs:{label:"<",value:"LT"}}),e._v(" "),a("el-option",{attrs:{label:"<=",value:"LTE"}}),e._v(" "),a("el-option",{attrs:{label:"LIKE",value:"LIKE"}}),e._v(" "),a("el-option",{attrs:{label:"BETWEEN",value:"BETWEEN"}})],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"必填","min-width":"5%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-checkbox",{attrs:{"true-label":"1"},model:{value:t.row.isRequired,callback:function(a){e.$set(t.row,"isRequired",a)},expression:"scope.row.isRequired"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"显示类型","min-width":"12%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{model:{value:t.row.htmlType,callback:function(a){e.$set(t.row,"htmlType",a)},expression:"scope.row.htmlType"}},[a("el-option",{attrs:{label:"文本框",value:"input"}}),e._v(" "),a("el-option",{attrs:{label:"文本域",value:"textarea"}}),e._v(" "),a("el-option",{attrs:{label:"下拉框",value:"select"}}),e._v(" "),a("el-option",{attrs:{label:"单选框",value:"radio"}}),e._v(" "),a("el-option",{attrs:{label:"复选框",value:"checkbox"}}),e._v(" "),a("el-option",{attrs:{label:"日期控件",value:"datetime"}})],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"字典类型","min-width":"12%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择"},model:{value:t.row.dictType,callback:function(a){e.$set(t.row,"dictType",a)},expression:"scope.row.dictType"}},e._l(e.dictOptions,(function(t){return a("el-option",{key:t.dictType,attrs:{label:t.dictName,value:t.dictType}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.dictName))]),e._v(" "),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.dictType))])])})),1)]}}])})],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"生成信息",name:"genInfo"}},[a("gen-info-form",{ref:"genInfo",attrs:{info:e.info}})],1)],1),e._v(" "),a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{staticStyle:{"text-align":"center","margin-left":"-100px","margin-top":"10px"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm()}}},[e._v("提交")]),e._v(" "),a("el-button",{on:{click:function(t){return e.close()}}},[e._v("返回")])],1)],1)],1)},i=[],o=(a("6d57"),a("06a2"),a("4b72")),r=a("ed45"),l=a("ed69"),s=a("8586"),c=a("e7e2"),u=a.n(c),m={name:"GenEdit",components:{basicInfoForm:l["default"],genInfoForm:s["default"]},data:function(){return{activeName:"cloum",tableHeight:document.documentElement.scrollHeight-245+"px",cloumns:[],dictOptions:[],info:{}}},beforeCreate:function(){var e=this,t=this.$route.query.tableId;t&&(Object(o["b"])(t).then((function(t){e.cloumns=t.data.rows,e.info=t.data.info})),Object(r["g"])().then((function(t){e.dictOptions=t.data})))},methods:{submitForm:function(){var e=this,t=this.$refs.basicInfo.$refs.basicInfoForm,a=this.$refs.genInfo.$refs.genInfoForm;Promise.all([t,a].map(this.getFormPromise)).then((function(n){var i=n.every((function(e){return!!e}));if(i){var r=Object.assign({},t.model,a.model);r.columns=e.cloumns,r.params={treeCode:r.treeCode,treeName:r.treeName,treeParentCode:r.treeParentCode},Object(o["g"])(r).then((function(t){e.msgSuccess(t.msg),200===t.code&&e.close()}))}else e.msgError("表单校验未通过，请重新检查提交内容")}))},getFormPromise:function(e){return new Promise((function(t){e.validate((function(e){t(e)}))}))},close:function(){this.$store.dispatch("tagsView/delView",this.$route),this.$router.push({path:"/tool/gen",query:{t:Date.now()}})}},mounted:function(){var e=this,t=this.$refs.dragTable.$el.querySelectorAll(".el-table__body-wrapper > table > tbody")[0];u.a.create(t,{handle:".allowDrag",onEnd:function(t){var a=e.cloumns.splice(t.oldIndex,1)[0];for(var n in e.cloumns.splice(t.newIndex,0,a),e.cloumns)e.cloumns[n].sort=parseInt(n)+1}})}},d=m,p=a("9ca4"),f=Object(p["a"])(d,n,i,!1,null,null,null);t["default"]=f.exports},7783:function(e,t,a){},"77a7":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"publicStyle"},[a("div",{staticClass:"publicStyle-conter"},[a(e.currentPage,{tag:"component",attrs:{obj:e.obj,"keep-alive":""},on:{changePage:e.changePage}})],1)])},i=[],o=(a("bbd8"),a("5720")),r={name:"anchors",components:{LIST:o["default"]},data:function(){return{currentPage:"LIST",obj:{},activePage:"LIST"}},methods:{changePage:function(e,t){this.currentPage=e,t&&(this.obj=t)},changeActive:function(e){this.activePage=e,this.changePage(e)}}},l=r,s=(a("251a"),a("9ca4")),c=Object(s["a"])(l,n,i,!1,null,"25cf2e21",null);t["default"]=c.exports},"7e48":function(e,t,a){"use strict";var n=a("8acc"),i=a.n(n);i.a},"7e66":function(e,t,a){},"7ea2":function(e,t,a){},"7f7e":function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"g",(function(){return i})),a.d(t,"h",(function(){return o})),a.d(t,"j",(function(){return r})),a.d(t,"i",(function(){return l})),a.d(t,"b",(function(){return s})),a.d(t,"f",(function(){return c})),a.d(t,"e",(function(){return u})),a.d(t,"d",(function(){return m})),a.d(t,"a",(function(){return d}));var n=[{value:"1",label:"男"},{value:"2",label:"女"}],i=[{value:"iphone",label:"iphone"},{value:"ipad",label:"ipad"},{value:"android",label:"android"}],o=[{value:"iphone",label:"iphone"},{value:"android",label:"android"}],r=[{value:"1",label:"正常"},{value:"2",label:"禁用"},{value:"3",label:"注销"}],l=[{value:"0",label:"正式"},{value:"1",label:"测试"}],s=[{value:"gift",label:"礼物"},{value:"live_start",label:"开始私播"},{value:"live_stop",label:"结束私播"}],c=[{value:"PERSON",label:"私聊消息"},{value:"PICTURE",label:"图片"},{value:"AUDIO",label:"语音"},{value:"VIDEO",label:"视频"},{value:"CUSTOM",label:"普通自定义消息"},{value:"CUSTOM_P2P_MSG",label:"系统自定义消息"},{value:"TEAM",label:"群聊消息"}],u=[{value:"1",label:"直播中"},{value:"2",label:"未直播"}],m=[{value:"1",label:"已通过"},{value:"2",label:"待审核"},{value:"0",label:"未通过"}],d="http://39.108.117.10:8888/uploads/"},"80b4":function(e,t,a){},"80de":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return makeUpJs}));var core_js_modules_es6_object_keys__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("e10e"),core_js_modules_es6_object_keys__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es6_object_keys__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("6d57"),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_1__),util__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("49a5"),util__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(util__WEBPACK_IMPORTED_MODULE_2__),_utils_index__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("ed08"),_config__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("2e2a"),units={KB:"1024",MB:"1024 / 1024",GB:"1024 / 1024 / 1024"},confGlobal,inheritAttrs={file:"",dialog:"inheritAttrs: false,"};function makeUpJs(e,t){confGlobal=e=JSON.parse(JSON.stringify(e));var a=[],n=[],i=[],o=[],r=mixinMethod(t),l=[];e.fields.forEach((function(e){buildAttributes(e,a,n,i,r,o,l)}));var s=buildexport(e,t,a.join("\n"),n.join("\n"),i.join("\n"),l.join("\n"),o.join("\n"),r.join("\n"));return confGlobal=null,s}function buildAttributes(e,t,a,n,i,o,r){if(buildData(e,t),buildRules(e,a),e.options&&e.options.length&&(buildOptions(e,n),"dynamic"===e.dataType)){var l="".concat(e.vModel,"Options"),s=Object(_utils_index__WEBPACK_IMPORTED_MODULE_3__["h"])(l);buildOptionMethod("get".concat(s),l,i)}e.props&&e.props.props&&buildProps(e,o),e.action&&"el-upload"===e.tag&&(r.push("".concat(e.vModel,"Action: '").concat(e.action,"',\n      ").concat(e.vModel,"fileList: [],")),i.push(buildBeforeUpload(e)),e["auto-upload"]||i.push(buildSubmitUpload(e))),e.children&&e.children.forEach((function(e){buildAttributes(e,t,a,n,i,o,r)}))}function mixinMethod(e){var t=[],a={file:confGlobal.formBtns?{submitForm:"submitForm() {\n        this.$refs['".concat(confGlobal.formRef,"'].validate(valid => {\n          if(!valid) return\n          // TODO 提交表单\n        })\n      },"),resetForm:"resetForm() {\n        this.$refs['".concat(confGlobal.formRef,"'].resetFields()\n      },")}:null,dialog:{onOpen:"onOpen() {},",onClose:"onClose() {\n        this.$refs['".concat(confGlobal.formRef,"'].resetFields()\n      },"),close:"close() {\n        this.$emit('update:visible', false)\n      },",handelConfirm:"handelConfirm() {\n        this.$refs['".concat(confGlobal.formRef,"'].validate(valid => {\n          if(!valid) return\n          this.close()\n        })\n      },")}},n=a[e];return n&&Object.keys(n).forEach((function(e){t.push(n[e])})),t}function buildData(e,t){var a;void 0!==e.vModel&&(a="string"!==typeof e.defaultValue||e.multiple?"".concat(JSON.stringify(e.defaultValue)):"'".concat(e.defaultValue,"'"),t.push("".concat(e.vModel,": ").concat(a,",")))}function buildRules(conf,ruleList){if(void 0!==conf.vModel){var rules=[];if(_config__WEBPACK_IMPORTED_MODULE_4__["e"][conf.tag]){if(conf.required){var type=Object(util__WEBPACK_IMPORTED_MODULE_2__["isArray"])(conf.defaultValue)?"type: 'array',":"",message=Object(util__WEBPACK_IMPORTED_MODULE_2__["isArray"])(conf.defaultValue)?"请至少选择一个".concat(conf.vModel):conf.placeholder;void 0===message&&(message="".concat(conf.label,"不能为空")),rules.push("{ required: true, ".concat(type," message: '").concat(message,"', trigger: '").concat(_config__WEBPACK_IMPORTED_MODULE_4__["e"][conf.tag],"' }"))}conf.regList&&Object(util__WEBPACK_IMPORTED_MODULE_2__["isArray"])(conf.regList)&&conf.regList.forEach((function(item){item.pattern&&rules.push("{ pattern: ".concat(eval(item.pattern),", message: '").concat(item.message,"', trigger: '").concat(_config__WEBPACK_IMPORTED_MODULE_4__["e"][conf.tag],"' }"))})),ruleList.push("".concat(conf.vModel,": [").concat(rules.join(","),"],"))}}}function buildOptions(e,t){if(void 0!==e.vModel){"dynamic"===e.dataType&&(e.options=[]);var a="".concat(e.vModel,"Options: ").concat(JSON.stringify(e.options),",");t.push(a)}}function buildProps(e,t){"dynamic"===e.dataType&&("value"!==e.valueKey&&(e.props.props.value=e.valueKey),"label"!==e.labelKey&&(e.props.props.label=e.labelKey),"children"!==e.childrenKey&&(e.props.props.children=e.childrenKey));var a="".concat(e.vModel,"Props: ").concat(JSON.stringify(e.props.props),",");t.push(a)}function buildBeforeUpload(e){var t=units[e.sizeUnit],a="",n="",i=[];e.fileSize&&(a="let isRightSize = file.size / ".concat(t," < ").concat(e.fileSize,"\n    if(!isRightSize){\n      this.$message.error('文件大小超过 ").concat(e.fileSize).concat(e.sizeUnit,"')\n    }"),i.push("isRightSize")),e.accept&&(n="let isAccept = new RegExp('".concat(e.accept,"').test(file.type)\n    if(!isAccept){\n      this.$message.error('应该选择").concat(e.accept,"类型的文件')\n    }"),i.push("isAccept"));var o="".concat(e.vModel,"BeforeUpload(file) {\n    ").concat(a,"\n    ").concat(n,"\n    return ").concat(i.join("&&"),"\n  },");return i.length?o:""}function buildSubmitUpload(e){var t="submitUpload() {\n    this.$refs['".concat(e.vModel,"'].submit()\n  },");return t}function buildOptionMethod(e,t,a){var n="".concat(e,"() {\n    // TODO 发起请求获取数据\n    this.").concat(t,"\n  },");a.push(n)}function buildexport(e,t,a,n,i,o,r,l){var s="".concat(_utils_index__WEBPACK_IMPORTED_MODULE_3__["d"],"{\n  ").concat(inheritAttrs[t],"\n  components: {},\n  props: [],\n  data () {\n    return {\n      ").concat(e.formModel,": {\n        ").concat(a,"\n      },\n      ").concat(e.formRules,": {\n        ").concat(n,"\n      },\n      ").concat(o,"\n      ").concat(i,"\n      ").concat(r,"\n    }\n  },\n  computed: {},\n  watch: {},\n  created () {},\n  mounted () {},\n  methods: {\n    ").concat(l,"\n  }\n}");return s}},"817f":function(e,t,a){"use strict";var n=a("8b87"),i=a.n(n);i.a},"822d":function(e,t,a){"use strict";var n=a("3903"),i=a.n(n);i.a},"829a":function(e,t,a){"use strict";var n=a("5684"),i=a.n(n);i.a},"82c8":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"表名称",prop:"tableName"}},[a("el-input",{attrs:{placeholder:"请输入表名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.tableName,callback:function(t){e.$set(e.queryParams,"tableName",t)},expression:"queryParams.tableName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"表描述",prop:"tableComment"}},[a("el-input",{attrs:{placeholder:"请输入表描述",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.tableComment,callback:function(t){e.$set(e.queryParams,"tableComment",t)},expression:"queryParams.tableComment"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"创建时间"}},[a("el-date-picker",{staticStyle:{width:"240px"},attrs:{size:"small","value-format":"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.dateRange,callback:function(t){e.dateRange=t},expression:"dateRange"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["tool:gen:code"],expression:"['tool:gen:code']"}],attrs:{type:"primary",icon:"el-icon-download",size:"mini"},on:{click:e.handleGenTable}},[e._v("生成")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["tool:gen:import"],expression:"['tool:gen:import']"}],attrs:{type:"info",icon:"el-icon-upload",size:"mini"},on:{click:e.openImportTable}},[e._v("导入")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["tool:gen:edit"],expression:"['tool:gen:edit']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleEditTable}},[e._v("修改")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["tool:gen:remove"],expression:"['tool:gen:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.tableList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{label:"序号",type:"index",width:"50",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s((e.queryParams.pageNum-1)*e.queryParams.pageSize+t.$index+1))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"表名称",align:"center",prop:"tableName","show-overflow-tooltip":!0,width:"130"}}),e._v(" "),a("el-table-column",{attrs:{label:"表描述",align:"center",prop:"tableComment","show-overflow-tooltip":!0,width:"130"}}),e._v(" "),a("el-table-column",{attrs:{label:"实体",align:"center",prop:"className","show-overflow-tooltip":!0,width:"130"}}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime",width:"160"}}),e._v(" "),a("el-table-column",{attrs:{label:"更新时间",align:"center",prop:"updateTime",width:"160"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["tool:gen:preview"],expression:"['tool:gen:preview']"}],attrs:{type:"text",size:"small",icon:"el-icon-view"},on:{click:function(a){return e.handlePreview(t.row)}}},[e._v("预览")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["tool:gen:edit"],expression:"['tool:gen:edit']"}],attrs:{type:"text",size:"small",icon:"el-icon-edit"},on:{click:function(a){return e.handleEditTable(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["tool:gen:remove"],expression:"['tool:gen:remove']"}],attrs:{type:"text",size:"small",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["tool:gen:code"],expression:"['tool:gen:code']"}],attrs:{type:"text",size:"small",icon:"el-icon-download"},on:{click:function(a){return e.handleGenTable(t.row)}}},[e._v("生成代码")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.preview.title,visible:e.preview.open,width:"80%",top:"5vh","append-to-body":""},on:{"update:visible":function(t){return e.$set(e.preview,"open",t)}}},[a("el-tabs",{model:{value:e.preview.activeName,callback:function(t){e.$set(e.preview,"activeName",t)},expression:"preview.activeName"}},e._l(e.preview.data,(function(t,n){return a("el-tab-pane",{key:n,attrs:{label:n.substring(n.lastIndexOf("/")+1,n.indexOf(".vm")),name:n.substring(n.lastIndexOf("/")+1,n.indexOf(".vm"))}},[a("pre",[e._v(e._s(t))])])})),1)],1),e._v(" "),a("import-table",{ref:"import",on:{ok:e.handleQuery}})],1)},i=[],o=a("4b72"),r=a("6f72"),l=(a("f548"),a("9dd9"),a("f753")),s=a.n(l),c=a("5f87"),u={xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",zip:"application/zip"},m="/index.php";function d(e,t){var a=m+e;s()({method:"get",url:a,responseType:"blob",headers:{Authorization:"Bearer "+Object(c["a"])()}}).then((function(e){p(e,u.zip)}))}function p(e,t){var a=document.createElement("a"),n=new Blob([e.data],{type:t}),i=new RegExp("filename=([^;]+\\.[^\\.;]+);*"),o=decodeURI(e.headers["content-disposition"]),r=i.exec(o),l=r[1];l=l.replace(/\"/g,""),a.href=URL.createObjectURL(n),a.setAttribute("download",l),document.body.appendChild(a),a.click(),document.body.appendChild(a)}var f={name:"Gen",components:{importTable:r["default"]},data:function(){return{loading:!0,uniqueId:"",ids:[],tableNames:[],single:!0,multiple:!0,total:0,tableList:[],dateRange:"",queryParams:{pageNum:1,pageSize:10,tableName:void 0,tableComment:void 0},preview:{open:!1,title:"代码预览",data:{},activeName:"domain.java"}}},created:function(){this.getList()},activated:function(){var e=this.$route.query.t;null!=e&&e!=this.uniqueId&&(this.uniqueId=e,this.resetQuery())},methods:{getList:function(){var e=this;this.loading=!0,Object(o["e"])(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.tableList=t.rows,e.total=t.total,e.loading=!1}))},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},handleGenTable:function(e){var t=e.tableName||this.tableNames;""!=t?d("/tool/gen/batchGenCode?tables="+t,"ruoyi"):this.msgError("请选择要生成的数据")},openImportTable:function(){this.$refs.import.show()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handlePreview:function(e){var t=this;Object(o["f"])(e.tableId).then((function(e){t.preview.data=e.data,t.preview.open=!0}))},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.tableId})),this.tableNames=e.map((function(e){return e.tableName})),this.single=1!=e.length,this.multiple=!e.length},handleEditTable:function(e){var t=e.tableId||this.ids[0];this.$router.push({path:"/gen/edit",query:{tableId:t}})},handleDelete:function(e){var t=this,a=e.tableId||this.ids;this.$confirm('是否确认删除表编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["a"])(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))}}},v=f,h=a("9ca4"),b=Object(h["a"])(v,n,i,!1,null,null,null);t["default"]=b.exports},"82e1":function(e,t,a){"use strict";var n=a("7e66"),i=a.n(n);i.a},"82e4":function(e,t,a){"use strict";var n=a("323b"),i=a.n(n);i.a},"83e2":function(e,t,a){"use strict";var n=a("ed31"),i=a.n(n);i.a},"84c9":function(e,t,a){"use strict";var n=a("018f"),i=a.n(n);i.a},8523:function(e,t,a){},8586:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"genInfoForm",attrs:{model:e.info,rules:e.rules,"label-width":"150px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"tplCategory"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("生成模板")]),e._v(" "),a("el-select",{model:{value:e.info.tplCategory,callback:function(t){e.$set(e.info,"tplCategory",t)},expression:"info.tplCategory"}},[a("el-option",{attrs:{label:"单表（增删改查）",value:"crud"}}),e._v(" "),a("el-option",{attrs:{label:"树表（增删改查）",value:"tree"}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"packageName"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("\n          生成包路径\n          "),a("el-tooltip",{attrs:{content:"生成在哪个java包下，例如 com.ruoyi.system",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),e._v(" "),a("el-input",{model:{value:e.info.packageName,callback:function(t){e.$set(e.info,"packageName",t)},expression:"info.packageName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"moduleName"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("\n          生成模块名\n          "),a("el-tooltip",{attrs:{content:"可理解为子系统名，例如 system",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),e._v(" "),a("el-input",{model:{value:e.info.moduleName,callback:function(t){e.$set(e.info,"moduleName",t)},expression:"info.moduleName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"businessName"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("\n          生成业务名\n          "),a("el-tooltip",{attrs:{content:"可理解为功能英文名，例如 user",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),e._v(" "),a("el-input",{model:{value:e.info.businessName,callback:function(t){e.$set(e.info,"businessName",t)},expression:"info.businessName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"functionName"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("\n          生成功能名\n          "),a("el-tooltip",{attrs:{content:"用作类描述，例如 用户",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),e._v(" "),a("el-input",{model:{value:e.info.functionName,callback:function(t){e.$set(e.info,"functionName",t)},expression:"info.functionName"}})],1)],1)],1),e._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:"tree"==e.info.tplCategory,expression:"info.tplCategory == 'tree'"}]},[a("h4",{staticClass:"form-header"},[e._v("其他信息")]),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("\n          树编码字段\n          "),a("el-tooltip",{attrs:{content:"树显示的编码字段名， 如：dept_id",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),e._v(" "),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.info.treeCode,callback:function(t){e.$set(e.info,"treeCode",t)},expression:"info.treeCode"}},e._l(e.info.columns,(function(e){return a("el-option",{key:e.columnName,attrs:{label:e.columnName+"："+e.columnComment,value:e.columnName}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("\n          树父编码字段\n          "),a("el-tooltip",{attrs:{content:"树显示的父编码字段名， 如：parent_Id",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),e._v(" "),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.info.treeParentCode,callback:function(t){e.$set(e.info,"treeParentCode",t)},expression:"info.treeParentCode"}},e._l(e.info.columns,(function(e){return a("el-option",{key:e.columnName,attrs:{label:e.columnName+"："+e.columnComment,value:e.columnName}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("\n          树名称字段\n          "),a("el-tooltip",{attrs:{content:"树节点的显示名称字段名， 如：dept_name",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),e._v(" "),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.info.treeName,callback:function(t){e.$set(e.info,"treeName",t)},expression:"info.treeName"}},e._l(e.info.columns,(function(e){return a("el-option",{key:e.columnName,attrs:{label:e.columnName+"："+e.columnComment,value:e.columnName}})})),1)],1)],1)],1)],1)},i=[],o={name:"BasicInfoForm",props:{info:{type:Object,default:null}},data:function(){return{rules:{tplCategory:[{required:!0,message:"请选择生成模板",trigger:"blur"}],packageName:[{required:!0,message:"请输入生成包路径",trigger:"blur"}],moduleName:[{required:!0,message:"请输入生成模块名",trigger:"blur"}],businessName:[{required:!0,message:"请输入生成业务名",trigger:"blur"}],functionName:[{required:!0,message:"请输入生成功能名",trigger:"blur"}]}}},created:function(){}},r=o,l=a("9ca4"),s=Object(l["a"])(r,n,i,!1,null,null,null);t["default"]=s.exports},8670:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"publicStyle"},[a("div",{staticClass:"publicStyle-conter"},[a(e.currentPage,{tag:"component",attrs:{obj:e.obj,"keep-alive":""},on:{changePage:e.changePage}})],1)])},i=[],o=(a("bbd8"),a("882d")),r={name:"anchors",components:{LIST:o["default"]},data:function(){return{currentPage:"LIST",obj:{},activePage:"LIST"}},methods:{changePage:function(e,t){this.currentPage=e,t&&(this.obj=t)},changeActive:function(e){this.activePage=e,this.changePage(e)}}},l=r,s=(a("7629"),a("9ca4")),c=Object(s["a"])(l,n,i,!1,null,"575e16ab",null);t["default"]=c.exports},"86c0":function(e,t,a){"use strict";var n=a("963e"),i=a.n(n);i.a},8719:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"publicStyle"},[a("div",{staticClass:"publicStyle-conter"},[a(e.currentPage,{tag:"component",attrs:{obj:e.obj,"keep-alive":""},on:{changePage:e.changePage}})],1)])},i=[],o=(a("bbd8"),a("f973")),r={name:"anchors",components:{LIST:o["default"]},data:function(){return{currentPage:"LIST",obj:{},activePage:"LIST"}},methods:{changePage:function(e,t){this.currentPage=e,t&&(this.obj=t)},changeActive:function(e){this.activePage=e,this.changePage(e)}}},l=r,s=(a("7e48"),a("9ca4")),c=Object(s["a"])(l,n,i,!1,null,"8d99c25e",null);t["default"]=c.exports},"87e5":function(e,t,a){},"87fd":function(e,t,a){"use strict";var n=a("25f9"),i=a.n(n);i.a},"882d":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"record"},[a("div",{staticClass:"record-conter"},[a("el-row",{staticClass:"record-top",staticStyle:{"margin-left":"0px","margin-right":"0px"},attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[a("el-form-item",{attrs:{label:"公会："}},[a("el-select",{staticStyle:{width:"85px"},attrs:{clearable:"",placeholder:"请选择",size:"mini"},on:{change:e.onSubmit},model:{value:e.formInline.groupid,callback:function(t){e.$set(e.formInline,"groupid",t)},expression:"formInline.groupid"}},e._l(e.groupOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"主播ID："}},[a("el-input",{attrs:{placeholder:"请输入主播ID",clearable:"",size:"mini"},on:{clear:e.onSubmit},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit(t)}},model:{value:e.formInline.userid,callback:function(t){e.$set(e.formInline,"userid","string"===typeof t?t.trim():t)},expression:"formInline.userid"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号："}},[a("el-input",{attrs:{placeholder:"请输入手机号",clearable:"",size:"mini"},on:{clear:e.onSubmit},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit(t)}},model:{value:e.formInline.mobile,callback:function(t){e.$set(e.formInline,"mobile","string"===typeof t?t.trim():t)},expression:"formInline.mobile"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.onSubmit}},[e._v("查询")])],1)],1)],1)],1),e._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"dark","row-key":"proprId"},on:{"sort-change":e.sortChange}},[a("el-table-column",{attrs:{type:"index","min-width":"50",label:"编号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"group_status","min-width":"80",label:"审核状态"},scopedSlots:e._u([{key:"default",fn:function(t){return["2"===t.row.group_status?a("span",{staticStyle:{color:"#66b1ff"}},[e._v("待审核")]):"0"===t.row.group_status?a("span",{staticStyle:{color:"#f56c6c"}},[e._v("未通过")]):"1"===t.row.group_status?a("span",{staticStyle:{color:"#67c23a"}},[e._v("已通过")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"","min-width":"70px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"anchor-info cursor",on:{click:function(a){return e.openDetail(t.row.user.userid)}}},[a("div",{staticClass:"profile-box"},[a("img",{staticClass:"profile",attrs:{src:t.row.user.avatar,alt:""}})]),e._v(" "),"3"===t.row.user.status||"2"===t.row.status?a("br"):e._e(),e._v(" "),"3"===t.row.status?a("span",{staticStyle:{color:"#f56c6c"}},[e._v("禁言")]):"2"===t.row.status?a("span",{staticStyle:{color:"#f56c6c"}},[e._v("封号")]):e._e()])]}}])},[a("template",{slot:"header"},[a("span",[e._v("头像")]),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"提示文字",placement:"top"}},[a("i",{staticClass:"el-icon-question icon-color"})])],1)],2),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"","min-width":"120px",label:"昵称/ID"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticClass:"visitor-info-name",attrs:{title:"用户昵称"}},[e._v(e._s(t.row.user.nickname))]),e._v(" "),a("br"),e._v(" "),a("span",{staticClass:"gender-men",class:"1"===t.row.user.gender?"":"gender-women"},[e._v(e._s(t.row.age))]),e._v(" "),"1"===t.row.user.verify_status?a("span",{staticClass:"el-icon-video-camera-solid verify_status",attrs:{title:"视频认证"}}):e._e(),e._v(" "),a("span",{attrs:{title:"短ID"}},[e._v(e._s(t.row.user.username))]),e._v(" "),a("br"),e._v(" "),a("span",{attrs:{title:"用户ID"}},[e._v(e._s(t.row.user.userid))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"location","min-width":"50",label:"地区"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"100",label:"认证视频"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.verify_url?a("video",{staticClass:"video-player",staticStyle:{width:"100px",height:"80px"},attrs:{src:t.row.verify_url,controls:""}}):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"status","min-width":"120",label:"身份证照片"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-image",{staticStyle:{width:"60px",height:"60px"},attrs:{src:t.row.positive,"preview-src-list":[t.row.positive,t.row.back]}}),e._v(" "),a("el-image",{staticStyle:{width:"60px",height:"60px"},attrs:{src:t.row.back,"preview-src-list":[t.row.positive,t.row.back]}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"idcard","show-overflow-tooltip":"","min-width":"110",label:"身份证号"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"120",label:"审核"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticStyle:{"margin-bottom":"5px"},attrs:{type:"primary",size:"mini",title:"审核",plain:""},on:{click:function(a){return e.auditById(t.row.id,1)}}},[e._v("审核")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"mini",title:"审核",plain:""},on:{click:function(a){return e.auditById(t.row.id,2)}}},[e._v("拒绝")])]}}])},[a("template",{slot:"header"},[a("span",[e._v("审核")]),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.content,placement:"top"}},[a("i",{staticClass:"el-icon-question icon-color"})])],1)],2)],1),e._v(" "),a("my-pagination",{directives:[{name:"show",rawName:"v-show",value:e.totalNum>0,expression:"totalNum>0"}],attrs:{total:e.totalNum,page:e.formInline.pageNum,limit:e.formInline.pageSize,ext_stat:e.ext_stat},on:{"update:page":function(t){return e.$set(e.formInline,"pageNum",t)},"update:limit":function(t){return e.$set(e.formInline,"pageSize",t)},pagination:e.getOnlineList}})],1),e._v(" "),e.userDetail.userid?a("el-detail",{attrs:{userDetail:e.userDetail}}):e._e()],1)},i=[],o=a("cafc"),r={data:function(){return{totalNum:0,ext_stat:"",groupOptions:[],content:"修改审核状态",formInline:{groupid:"",userid:"",mobile:"",offset:0,pageSize:20,pageNum:1},tableData:[],userDetail:{timestamp:"",userid:""}}},created:function(){this.getOnlineList(),this.getGroupsOptions()},methods:{onSubmit:function(){this.getOnlineList()},getOnlineList:function(){var e=this,t=JSON.parse(JSON.stringify(this.formInline));t.offset=(t.pageNum-1)*t.pageSize,Object(o["c"])(t).then((function(t){0===t.code&&(e.tableData=t.data.items,e.ext_stat=t.data.ext_stat,e.groupid=t.data.groupid,e.totalNum=+t.data.total_rows)}))},getGroupsOptions:function(){var e=this;Object(o["a"])().then((function(t){0===t.code&&(e.groupOptions=t.data)}))},sortChange:function(e){e.column;var t=e.prop,a=e.order;console.log(a),this.formInline.orderByColumn=t;var n="DESC";"ascending"===a&&(n="ASC"),this.formInline.isAsc=n},handleCurrentChange:function(e){this.formInline.pageNum=e,this.getOnlineList()},auditById:function(e,t){var a=this;this.$confirm("此操作将修改主播审核状态，是否确定？","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var n={id:e,audit:t};Object(o["b"])(n).then((function(e){0===e.code&&(a.$message.success({message:"修改成功"}),a.getOnlineList())}))})).catch((function(){}))},openDetail:function(e){this.userDetail.timestamp=(new Date).getTime(),this.userDetail.userid=e}}},l=r,s=(a("3332"),a("4292"),a("0332"),a("9ca4")),c=Object(s["a"])(l,n,i,!1,null,"45755b63",null);t["default"]=c.exports},"8acc":function(e,t,a){},"8aea":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"record"},[a("div",{staticClass:"record-conter"},[a("el-row",{staticClass:"record-top",staticStyle:{"margin-left":"0px","margin-right":"0px"},attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[a("el-form-item",{attrs:{label:"日期："}},[e.formInline.date.startday?a("dateTimePicker",{attrs:{date:e.formInline.date},on:{onSubmit:e.onSubmit}}):e._e()],1),e._v(" "),a("el-form-item",{attrs:{label:"送出方："}},[a("el-select",{staticStyle:{width:"85px"},attrs:{clearable:"",placeholder:"性别",size:"mini"},on:{change:e.onSubmit},model:{value:e.formInline.f_gender,callback:function(t){e.$set(e.formInline,"f_gender",t)},expression:"formInline.f_gender"}},e._l(e.gengerOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1),e._v(" "),a("el-input",{attrs:{placeholder:"请输入短ID",clearable:"",size:"mini",maxlength:"200"},on:{clear:e.onSubmit},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit(t)}},model:{value:e.formInline.f_username,callback:function(t){e.$set(e.formInline,"f_username","string"===typeof t?t.trim():t)},expression:"formInline.f_username"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"接收方："}},[a("el-select",{staticStyle:{width:"85px"},attrs:{clearable:"",placeholder:"性别",size:"mini"},on:{change:e.onSubmit},model:{value:e.formInline.t_gender,callback:function(t){e.$set(e.formInline,"t_gender",t)},expression:"formInline.t_gender"}},e._l(e.gengerOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1),e._v(" "),a("el-input",{attrs:{placeholder:"请输入短ID",clearable:"",size:"mini",maxlength:"200"},on:{clear:e.onSubmit},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit(t)}},model:{value:e.formInline.t_username,callback:function(t){e.$set(e.formInline,"t_username","string"===typeof t?t.trim():t)},expression:"formInline.t_username"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"搜索："}},[a("el-input",{attrs:{placeholder:"请输入礼物名称",clearable:"",size:"mini",maxlength:"200"},on:{clear:e.onSubmit},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit(t)}},model:{value:e.formInline.name,callback:function(t){e.$set(e.formInline,"name","string"===typeof t?t.trim():t)},expression:"formInline.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"金币："}},[a("el-input",{attrs:{placeholder:"最小金币",clearable:"",size:"mini",maxlength:"200"},on:{clear:e.onSubmit},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit(t)}},model:{value:e.formInline.min_gold,callback:function(t){e.$set(e.formInline,"min_gold","string"===typeof t?t.trim():t)},expression:"formInline.min_gold"}}),e._v(" "),a("span",[e._v("-")]),e._v(" "),a("el-input",{attrs:{placeholder:"最大金币",clearable:"",size:"mini",maxlength:"200"},on:{clear:e.onSubmit},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit(t)}},model:{value:e.formInline.max_gold,callback:function(t){e.$set(e.formInline,"max_gold","string"===typeof t?t.trim():t)},expression:"formInline.max_gold"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"积分："}},[a("el-input",{attrs:{placeholder:"最小积分",clearable:"",size:"mini",maxlength:"200"},on:{clear:e.onSubmit},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit(t)}},model:{value:e.formInline.min_jifen,callback:function(t){e.$set(e.formInline,"min_jifen","string"===typeof t?t.trim():t)},expression:"formInline.min_jifen"}}),e._v(" "),a("span",[e._v("-")]),e._v(" "),a("el-input",{attrs:{placeholder:"最大积分",clearable:"",size:"mini",maxlength:"200"},on:{clear:e.onSubmit},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit(t)}},model:{value:e.formInline.max_jifen,callback:function(t){e.$set(e.formInline,"max_jifen","string"===typeof t?t.trim():t)},expression:"formInline.max_jifen"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.onSubmit}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-d-arrow-left",size:"mini"},on:{click:function(t){return e.handlePrev("prev")}}},[e._v("前一天")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.handlePrev("next")}}},[e._v("\n              后一天\n              "),a("span",{staticClass:"el-icon-d-arrow-right"})])],1)],1)],1)],1),e._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"dark","row-key":"id"},on:{"sort-change":e.sortChange,"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"index","min-width":"45",label:"编号"}}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"","min-width":"70px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"anchor-info cursor",on:{click:function(a){return e.openDetail(t.row.send)}}},[a("div",{staticClass:"profile-box"},[a("img",{staticClass:"profile",attrs:{src:t.row.f_avatar,alt:""}})]),e._v(" "),"3"===t.row.f_status||"2"===t.row.f_status?a("br"):e._e(),e._v(" "),"3"===t.row.f_status?a("span",{staticStyle:{color:"#f56c6c"}},[e._v("禁言")]):"2"===t.row.f_status?a("span",{staticStyle:{color:"#f56c6c"}},[e._v("封号")]):e._e()])]}}])},[a("template",{slot:"header"},[a("span",[e._v("头像")]),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"提示文字",placement:"top"}},[a("i",{staticClass:"el-icon-question icon-color"})])],1)],2),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"","min-width":"120px",label:"昵称/ID"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticClass:"visitor-info-name",attrs:{title:"用户昵称"}},[e._v(e._s(t.row.f_nickname))]),e._v(" "),a("br"),e._v(" "),a("span",{staticClass:"gender-men",class:"1"===t.row.f_gender?"":"gender-women"},[e._v(e._s(t.row.f_age))]),e._v(" "),"1"===t.row.f_verify_status?a("span",{staticClass:"el-icon-video-camera-solid verify_status",attrs:{title:"视频认证"}}):e._e(),e._v(" "),a("span",{attrs:{title:"短ID"}},[e._v(e._s(t.row.f_username))]),e._v(" "),a("br"),e._v(" "),a("span",{attrs:{title:"用户ID"}},[e._v(e._s(t.row.fromid))])]}}])}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"","min-width":"70px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"anchor-info cursor",on:{click:function(a){return e.openDetail(t.row.receive)}}},[a("div",{staticClass:"profile-box"},[a("img",{staticClass:"profile",attrs:{src:t.row.t_avatar,alt:""}})]),e._v(" "),"3"===t.row.t_status||"2"===t.row.t_status?a("br"):e._e(),e._v(" "),"3"===t.row.t_status?a("span",{staticStyle:{color:"#f56c6c"}},[e._v("禁言")]):"2"===t.row.t_status?a("span",{staticStyle:{color:"#f56c6c"}},[e._v("封号")]):e._e()])]}}])},[a("template",{slot:"header"},[a("span",[e._v("头像")]),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"提示文字",placement:"top"}},[a("i",{staticClass:"el-icon-question icon-color"})])],1)],2),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"","min-width":"120px",label:"昵称/ID"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticClass:"visitor-info-name",attrs:{title:"用户昵称"}},[e._v(e._s(t.row.t_nickname))]),e._v(" "),a("br"),e._v(" "),a("span",{staticClass:"gender-men",class:"1"===t.row.t_gender?"":"gender-women"},[e._v(e._s(t.row.t_age))]),e._v(" "),"1"===t.row.t_verify_status?a("span",{staticClass:"el-icon-video-camera-solid verify_status",attrs:{title:"视频认证"}}):e._e(),e._v(" "),a("span",{attrs:{title:"短ID"}},[e._v(e._s(t.row.t_username))]),e._v(" "),a("br"),e._v(" "),a("span",{attrs:{title:"用户ID"}},[e._v(e._s(t.row.toid))])]}}])}),e._v(" "),a("el-table-column",{attrs:{"min-width":"80",label:"礼物"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{attrs:{title:"礼物"}},[e._v(e._s(t.row.name)+" x "+e._s(t.row.gift_num))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"goldcoin","min-width":"80",label:"金币"}}),e._v(" "),a("el-table-column",{attrs:{prop:"jifen","min-width":"80",label:"积分"}}),e._v(" "),a("el-table-column",{attrs:{prop:"time","min-width":"110",label:"时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.parseTime(t.row.dateline)))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作","min-width":"130px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{icon:"el-icon-view",size:"mini",title:"查看详情"},on:{click:function(a){return e.openOrder(t.row.id)}}})]}}])})],1),e._v(" "),a("my-pagination",{directives:[{name:"show",rawName:"v-show",value:e.totalNum>0,expression:"totalNum>0"}],attrs:{total:e.totalNum,page:e.formInline.pageNum,limit:e.formInline.pageSize,ext_stat:e.ext_stat},on:{"update:page":function(t){return e.$set(e.formInline,"pageNum",t)},"update:limit":function(t){return e.$set(e.formInline,"pageSize",t)},pagination:e.getOnlineList}})],1),e._v(" "),e.userDetail.userid?a("el-detail",{attrs:{userDetail:e.userDetail}}):e._e(),e._v(" "),a("el-dialog",{attrs:{id:"creditlogs-dialog",title:"查看详情",visible:e.orderDetail.orderDialog,width:"600px","custom-class":"common-dialog"},on:{"update:visible":function(t){return e.$set(e.orderDetail,"orderDialog",t)}}},[a("table",{staticClass:"table table-striped table-bordered table-hover view-userinfo"},[a("tbody",e._l(e.orderDetail.columns,(function(t,n){return a("tr",{key:n},[a("td",{attrs:{width:"30%"}},[e._v(e._s(t.label))]),e._v(" "),a("td",{attrs:{width:"70%"}},["dateline"===t.name?a("span",[e._v(e._s(e.parseTime(e.orderDetail.orderForm[t.name])))]):a("span",[e._v(e._s(e.orderDetail.orderForm[t.name]))])])])})),0)]),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.orderDetail.orderDialog=!1}}},[e._v("取 消")])],1)])],1)},i=[],o=(a("163d"),a("b449"),a("6648")),r=(a("6d57"),a("b775"));a("fed1");function l(e){return Object(r["a"])({url:"/order/gift_log/ajaxsearch",method:"GET",params:e})}function s(e){return Object(r["a"])({url:"/order/gift_log/view/".concat(e),method:"GET"})}var c=a("7f7e"),u={name:"users",data:function(){return{gengerOptions:c["c"],cmdTypeOptions:c["b"],msgTypeOptions:c["f"],totalNum:0,formInline:{date:{startday:"",endday:""},f_gender:"",f_username:"",t_gender:"",t_username:"",name:"",min_gold:"",max_gold:"",min_jifen:"",max_jifen:"",startday:"",endday:"",pageSize:20,pageNum:1,offset:0},startOptions:{disabledDate:!1},endOptions:{disabledDate:!1},ext_stat:"",tableData:[],operationOptions:[],orderDetail:{orderForm:{},columns:{},orderDialog:!1,tableColumns:["id","fromid","toid","msgtype","fromClientType","cmd","msgcontent","time"]},userDetail:{timestamp:"",userid:""},ruleFormDialog:!1,ruleFormTitle:"",refundData:{},ruleForm:{id:"",ids:"",isAll:!1,isseven:""},rules:{},multipleSelection:[]}},created:function(){this.formInline.date.startday=this.getDateNow()[0],this.formInline.date.endday=this.getDateNow()[1],this.getOnlineList()},methods:{see:function(e){var t={id:e.id,orderNo:e.orderNo};this.$emit("changePage","SEE",t)},onSubmit:function(){this.getOnlineList()},getOnlineList:function(){var e=this,t=JSON.parse(JSON.stringify(this.formInline));t.startday=t.date.startday,t.endday=t.date.endday,t.offset=(t.pageNum-1)*t.pageSize,delete t.date,l(t).then((function(t){0===t.code&&(t.data.items.forEach((function(e){"PICTURE"!==e.msgtype&&"VIDEO"!==e.msgtype&&"AUDIO"!==e.msgtype&&("CUSTOM"!==e.msgtype||"TEXT"!==e.cmd&&"RICH_TEXT"!==e.cmd)&&"gift"!==e.cmd||(e.msgcontent=JSON.parse(e.msgcontent))})),e.tableData=t.data.items,e.ext_stat=t.data.ext_stat,e.totalNum=+t.data.total_rows)}))},sortChange:function(e){e.column;var t=e.prop,a=e.order;console.log(a),this.formInline.orderByColumn=t;var n="DESC";"ascending"===a&&(n="ASC"),this.formInline.isAsc=n},handleSizeChange:function(e){this.formInline.pageNum=1,this.formInline.pageSize=e,this.getOnlineList()},handleCurrentChange:function(e){this.formInline.pageNum=e,this.getOnlineList()},handleSelectionChange:function(e){this.multipleSelection=e},handlePrev:function(e){this.prevDate(this.formInline.date,e),this.getOnlineList()},openOrder:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s(t);case 2:a=e.sent,a&&0===a.code&&(this.orderDetail.orderForm=a.data.item,this.orderDetail.columns=a.data.columns,this.orderDetail.orderDialog=!0);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),openDetail:function(e){this.userDetail.timestamp=(new Date).getTime(),this.userDetail.userid=e},closeDialog:function(e){this.detailDialog.detailDialog=e},openEdit:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,a,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.ruleFormTitle=t,"新增"!==t){e.next=5;break}this.ruleFormDialog=!0,e.next=12;break;case 5:if("撤回消息"!==t){e.next=11;break}this.ruleFormTitle="确定撤回吗?",n?(this.ruleForm.id="",this.ruleForm.ids=this.multipleSelection.map((function(e){return e.id})).join(","),this.ruleForm.isAll=!0):(this.ruleForm.id=a,this.ruleForm.ids="",this.ruleForm.isAll=!1),this.ruleFormDialog=!0,e.next=12;break;case 11:return e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,this)})));function t(t,a,n){return e.apply(this,arguments)}return t}(),submitForm:function(e){var t=this;this.ruleForm.isAll&&0===this.multipleSelection.length&&this.$message.error("您没有勾选任何消息哦！"),this.$refs[e].validate((function(a){if(!a)return!1;var n=JSON.parse(JSON.stringify(t.ruleForm));if(n.isAll){var i={str_id:n.ids,isseven:n.isseven?1:""};withdraw_all_by_ids(i).then((function(a){a&&0===a.code&&(t.$message.success({message:a.info}),t.$refs["multipleTable"].clearSelection(),t.closeRulesFormDialog(e),t.getOnlineList())}))}else{var o={id:n.id,data:{isseven:n.isseven?1:""}};withdraw_by_id(o).then((function(a){a&&0===a.code&&(t.$message.success({message:a.info}),t.closeRulesFormDialog(e),t.getOnlineList())}))}}))},closeRulesFormDialog:function(e){this.$refs[e].resetFields(),this.ruleFormDialog=!1},deleteMsg:function(e){var t=this;this.$confirm("确认删除此消息吗,是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){delete_by_id(e).then((function(e){e&&0===e.code&&(t.$message.success({message:e.info}),t.getOnlineList())}))})).catch((function(){return!1}))},getSummaries:function(e){var t=e.columns,a=e.data,n=[];return t.forEach((function(e,t){if(0!==t)if("total_price"===e.property){var i=a.map((function(e){return Number(e["total_price"])})),o=0;i.forEach((function(e){o+=e})),n[t]=o+"元"}else n[t]="";else n[t]="合计"})),n}}},m=u,d=(a("38f8"),a("3393"),a("576b"),a("9ca4")),p=Object(d["a"])(m,n,i,!1,null,"3648b2c4",null);t["default"]=p.exports},"8b87":function(e,t,a){},"8c07":function(e,t,a){"use strict";var n=a("8d01"),i=a.n(n);i.a},"8c20":function(e,t,a){"use strict";var n=a("b2c4"),i=a.n(n);i.a},"8d01":function(e,t,a){},9073:function(e,t,a){},9142:function(e,t,a){"use strict";var n=a("9606"),i=a.n(n);i.a},9429:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("img",{staticClass:"img-circle img-lg",attrs:{src:e.options.img,title:"点击上传头像"},on:{click:function(t){return e.editCropper()}}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"800px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-row",[a("el-col",{style:{height:"350px"},attrs:{xs:24,md:12}},[a("vue-cropper",{ref:"cropper",attrs:{img:e.options.img,info:!0,autoCrop:e.options.autoCrop,autoCropWidth:e.options.autoCropWidth,autoCropHeight:e.options.autoCropHeight,fixedBox:e.options.fixedBox},on:{realTime:e.realTime}})],1),e._v(" "),a("el-col",{style:{height:"350px"},attrs:{xs:24,md:12}},[a("div",{staticClass:"avatar-upload-preview"},[a("img",{style:e.previews.img,attrs:{src:e.previews.url}})])])],1),e._v(" "),a("br"),e._v(" "),a("el-row",[a("el-col",{attrs:{lg:2,md:2}},[a("el-upload",{attrs:{action:"#","http-request":e.requestUpload,"show-file-list":!1,"before-upload":e.beforeUpload}},[a("el-button",{attrs:{size:"small"}},[e._v("\n            上传\n            "),a("i",{staticClass:"el-icon-upload el-icon--right"})])],1)],1),e._v(" "),a("el-col",{attrs:{lg:{span:1,offset:2},md:2}},[a("el-button",{attrs:{icon:"el-icon-plus",size:"small"},on:{click:function(t){return e.changeScale(1)}}})],1),e._v(" "),a("el-col",{attrs:{lg:{span:1,offset:1},md:2}},[a("el-button",{attrs:{icon:"el-icon-minus",size:"small"},on:{click:function(t){return e.changeScale(-1)}}})],1),e._v(" "),a("el-col",{attrs:{lg:{span:1,offset:1},md:2}},[a("el-button",{attrs:{icon:"el-icon-refresh-left",size:"small"},on:{click:function(t){return e.rotateLeft()}}})],1),e._v(" "),a("el-col",{attrs:{lg:{span:1,offset:1},md:2}},[a("el-button",{attrs:{icon:"el-icon-refresh-right",size:"small"},on:{click:function(t){return e.rotateRight()}}})],1),e._v(" "),a("el-col",{attrs:{lg:{span:2,offset:6},md:2}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.uploadImg()}}},[e._v("提 交")])],1)],1)],1)],1)},i=[],o=a("4360"),r=a("4c99"),l=a("c0c7"),s={components:{VueCropper:r["VueCropper"]},props:{user:{type:Object}},data:function(){return{open:!1,title:"修改头像",options:{img:o["a"].getters.avatar,autoCrop:!0,autoCropWidth:200,autoCropHeight:200,fixedBox:!0},previews:{}}},methods:{editCropper:function(){this.open=!0},requestUpload:function(){},rotateLeft:function(){this.$refs.cropper.rotateLeft()},rotateRight:function(){this.$refs.cropper.rotateRight()},changeScale:function(e){e=e||1,this.$refs.cropper.changeScale(e)},beforeUpload:function(e){var t=this;if(-1==e.type.indexOf("image/"))this.msgError("文件格式错误，请上传图片类型,如：JPG，PNG后缀的文件。");else{var a=new FileReader;a.readAsDataURL(e),a.onload=function(){t.options.img=a.result}}},uploadImg:function(){var e=this;this.$refs.cropper.getCropBlob((function(t){var a=new FormData;a.append("avatarfile",t),Object(l["m"])(a).then((function(t){200===t.code&&(e.open=!1,e.options.img="/index.php"+t.imgUrl,e.msgSuccess("修改成功")),e.$refs.cropper.clearCrop()}))}))},realTime:function(e){this.previews=e}}},c=s,u=a("9ca4"),m=Object(u["a"])(c,n,i,!1,null,null,null);t["default"]=m.exports},9488:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.className,style:{height:e.height,width:e.width}})},i=[],o=a("24ce"),r=a.n(o),l=a("feb2");a("6cbb");var s=6e3,c={mixins:[l["default"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"}},data:function(){return{chart:null}},mounted:function(){var e=this;this.$nextTick((function(){e.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=r.a.init(this.$el,"macarons"),this.chart.setOption({tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{top:10,left:"2%",right:"2%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value",axisTick:{show:!1}}],series:[{name:"pageA",type:"bar",stack:"vistors",barWidth:"60%",data:[79,52,200,334,390,330,220],animationDuration:s},{name:"pageB",type:"bar",stack:"vistors",barWidth:"60%",data:[80,52,200,334,390,330,220],animationDuration:s},{name:"pageC",type:"bar",stack:"vistors",barWidth:"60%",data:[30,52,200,334,390,330,220],animationDuration:s}]})}}},u=c,m=a("9ca4"),d=Object(m["a"])(u,n,i,!1,null,null,null);t["default"]=d.exports},9606:function(e,t,a){},"963e":function(e,t,a){},"97d5":function(e,t,a){},9800:function(e,t,a){"use strict";var n=a("fb6c"),i=a.n(n);i.a},"98ab1":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0}},[a("el-form-item",{attrs:{label:"角色名称",prop:"roleName"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入角色名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.roleName,callback:function(t){e.$set(e.queryParams,"roleName",t)},expression:"queryParams.roleName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"权限字符",prop:"roleKey"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入权限字符",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.roleKey,callback:function(t){e.$set(e.queryParams,"roleKey",t)},expression:"queryParams.roleKey"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{staticStyle:{width:"240px"},attrs:{placeholder:"角色状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.status,attrs:{label:e.label,value:e.status}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"创建时间"}},[a("el-date-picker",{staticStyle:{width:"240px"},attrs:{size:"small","value-format":"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.dateRange,callback:function(t){e.dateRange=t},expression:"dateRange"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:role:add"],expression:"['system:role:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:role:edit"],expression:"['system:role:edit']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:role:remove"],expression:"['system:role:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:post:export"],expression:"['system:post:export']"}],attrs:{type:"warning",icon:"el-icon-download",size:"mini"},on:{click:e.handleExport}},[e._v("导出")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.roleList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"角色编号",prop:"roleId",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{label:"角色名称",prop:"roleName","show-overflow-tooltip":!0,width:"150"}}),e._v(" "),a("el-table-column",{attrs:{label:"权限字符",prop:"roleKey","show-overflow-tooltip":!0,width:"150"}}),e._v(" "),a("el-table-column",{attrs:{label:"显示顺序",prop:"roleSort",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"状态",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-value":"0","inactive-value":"1"},on:{change:function(a){return e.handleStatusChange(t.row)}},model:{value:t.row.status,callback:function(a){e.$set(t.row,"status",a)},expression:"scope.row.status"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createTime)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:role:edit"],expression:"['system:role:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:role:edit"],expression:"['system:role:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-circle-check"},on:{click:function(a){return e.handleDataScope(t.row)}}},[e._v("数据权限")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:role:remove"],expression:"['system:role:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],staticStyle:{"margin-top":"80px"},attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px"},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"角色名称",prop:"roleName"}},[a("el-input",{attrs:{placeholder:"请输入角色名称"},model:{value:e.form.roleName,callback:function(t){e.$set(e.form,"roleName",t)},expression:"form.roleName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"权限字符",prop:"roleKey"}},[a("el-input",{attrs:{placeholder:"请输入权限字符"},model:{value:e.form.roleKey,callback:function(t){e.$set(e.form,"roleKey",t)},expression:"form.roleKey"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"角色顺序",prop:"roleSort"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.form.roleSort,callback:function(t){e.$set(e.form,"roleSort",t)},expression:"form.roleSort"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusOptions,(function(t){return a("el-radio",{key:t.status,attrs:{label:t.label}},[e._v(e._s(t.label))])})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"菜单权限"}},[a("el-tree",{ref:"menu",attrs:{data:e.menuOptions,"show-checkbox":"","node-key":"id","empty-text":"加载中，请稍后",props:e.defaultProps}})],1),e._v(" "),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.openDataScope,width:"500px"},on:{"update:visible":function(t){e.openDataScope=t}}},[a("el-form",{attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"角色名称"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.form.roleName,callback:function(t){e.$set(e.form,"roleName",t)},expression:"form.roleName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"权限字符"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.form.roleKey,callback:function(t){e.$set(e.form,"roleKey",t)},expression:"form.roleKey"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"权限范围"}},[a("el-select",{model:{value:e.form.dataScope,callback:function(t){e.$set(e.form,"dataScope",t)},expression:"form.dataScope"}},e._l(e.dataScopeOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:2==e.form.dataScope,expression:"form.dataScope == 2"}],attrs:{label:"数据权限"}},[a("el-tree",{ref:"dept",attrs:{data:e.deptOptions,"show-checkbox":"","default-expand-all":"","node-key":"id","empty-text":"加载中，请稍后",props:e.defaultProps}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitDataScope}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancelDataScope}},[e._v("取 消")])],1)],1)],1)},i=[],o=(a("3528"),{name:"Role",data:function(){return{loading:!1,ids:[],single:!0,multiple:!0,total:0,roleList:[{admin:!0,createBy:null,createTime:"2018-03-16 11:33:00",dataScope:"1",delFlag:"0",deptIds:null,flag:!1,menuIds:null,params:{},remark:"管理员",roleId:1,roleKey:"admin",roleName:"管理员",roleSort:"1",searchValue:null,status:"0",updateBy:null,updateTime:null},{admin:!1,createBy:null,createTime:"2018-03-16 11:33:00",dataScope:"2",delFlag:"0",deptIds:null,flag:!1,menuIds:null,params:{},remark:"普通角色",roleId:2,roleKey:"common",roleName:"普通角色",roleSort:"2",searchValue:null,status:"0",updateBy:null,updateTime:null}],title:"",open:!1,openDataScope:!1,dateRange:[],statusOptions:[{status:1,label:"启用"},{status:0,label:"停用"}],dataScopeOptions:[{value:"1",label:"全部数据权限"},{value:"2",label:"自定数据权限"},{value:"3",label:"本部门数据权限"},{value:"4",label:"本部门及以下数据权限"},{value:"5",label:"仅本人数据权限"}],menuOptions:[],deptOptions:[],queryParams:{pageNum:1,pageSize:10,roleName:void 0,roleKey:void 0,status:void 0},form:{},defaultProps:{children:"children",label:"label"},rules:{roleName:[{required:!0,message:"角色名称不能为空",trigger:"blur"}],roleKey:[{required:!0,message:"权限字符不能为空",trigger:"blur"}],roleSort:[{required:!0,message:"角色顺序不能为空",trigger:"blur"}]}}},created:function(){},methods:{getList:function(){var e=this;this.loading=!0,list(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.roleList=t.rows,e.total=t.total,e.loading=!1}))},getMenuTreeselect:function(){var e=this;menuTreeselect().then((function(t){console.log(t,"查询菜单树结构"),e.menuOptions=t.data}))},getDeptTreeselect:function(){var e=this;deptTreeselect().then((function(t){e.deptOptions=t.data}))},getMenuAllCheckedKeys:function(){var e=this.$refs.menu.getHalfCheckedKeys(),t=this.$refs.menu.getCheckedKeys();return e.unshift.apply(e,t),e},getDeptAllCheckedKeys:function(){var e=this.$refs.dept.getHalfCheckedKeys(),t=this.$refs.dept.getCheckedKeys();return e.unshift.apply(e,t),e},getRoleMenuTreeselect:function(e){var t=this;roleMenuTreeselect(e).then((function(e){t.getMenuTreeselect(),t.$refs.menu.setCheckedKeys(e.data)}))},getRoleDeptTreeselect:function(e){var t=this;roleDeptTreeselect(e).then((function(e){t.getDeptTreeselect(),t.$refs.dept.setCheckedKeys(e.data)}))},handleStatusChange:function(e){var t=this,a="0"===e.status?"启用":"停用";this.$confirm('确认要"'+a+'""'+e.roleName+'"角色吗?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return changeRoleStatus(e.roleId,e.status)})).then((function(){t.msgSuccess(a+"成功")})).catch((function(){e.status="0"===e.status?"1":"0"}))},cancel:function(){this.open=!1,this.reset()},cancelDataScope:function(){this.openDataScope=!1,this.reset()},reset:function(){void 0!=this.$refs.tree&&this.$refs.tree.setCheckedKeys([]),this.form={roleId:void 0,roleName:void 0,roleKey:void 0,roleSort:0,status:"0",menuIds:[],deptIds:[],remark:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.roleId})),this.single=1!=e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.getMenuTreeselect(),this.open=!0,this.title="添加角色"},handleUpdate:function(e){var t=this;this.reset();var a=e.roleId||this.ids;this.$nextTick((function(){t.getRoleMenuTreeselect(a)})),getRole(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改角色"}))},handleDataScope:function(e){var t=this;this.reset(),this.$nextTick((function(){t.getRoleDeptTreeselect(e.roleId)})),getRole(e.roleId).then((function(e){t.form=e.data,t.openDataScope=!0,t.title="分配数据权限"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.roleId?(e.form.menuIds=e.getMenuAllCheckedKeys(),updateRole(e.form).then((function(t){200===t.code?(e.msgSuccess("修改成功"),e.open=!1,e.getList()):e.msgError(t.msg)}))):(e.form.menuIds=e.getMenuAllCheckedKeys(),addRole(e.form).then((function(t){200===t.code?(e.msgSuccess("新增成功"),e.open=!1,e.getList()):e.msgError(t.msg)}))))}))},submitDataScope:function(){var e=this;void 0!=this.form.roleId&&(this.form.deptIds=this.getDeptAllCheckedKeys(),dataScope(this.form).then((function(t){200===t.code?(e.msgSuccess("修改成功"),e.openDataScope=!1,e.getList()):e.msgError(t.msg)})))},handleDelete:function(e){var t=this,a=e.roleId||this.ids;this.$confirm('是否确认删除角色编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return delRole(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有角色数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return exportRole(t)})).then((function(t){e.download(t.msg)})).catch((function(){}))}}}),r=o,l=a("9ca4"),s=Object(l["a"])(r,n,i,!1,null,null,null);t["default"]=s.exports},9932:function(e,t,a){},"99c8":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"绑定主播到公会",visible:e.dialog,width:"500px","custom-class":"common-dialog"},on:{close:function(t){return e.resetForm("form")},"update:visible":function(t){e.dialog=t}}},[a("el-form",{ref:"form",attrs:{rules:e.rules,model:e.form,"label-width":"80px","label-position":"right","close-on-click-modal":!1}},[a("el-form-item",{attrs:{label:"主播手机",prop:"mobile"}},[a("el-input",{attrs:{maxlength:"11",placeholder:"请输入手机号"},model:{value:e.form.mobile,callback:function(t){e.$set(e.form,"mobile",t)},expression:"form.mobile"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"验证码",prop:"code"}})],1),e._v(" "),a("div",{staticClass:"owner-dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){return e.resetForm("form")}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("form")}}},[e._v("确定")])],1)],1)},i=[],o=a("bff7"),r={name:"",props:["id"],data:function(){return{dialog:!1,form:{},rules:[]}},created:function(){this.getInfo(this.id)},methods:{getInfo:function(e){var t=this;Object(o["e"])(e).then((function(e){0===e.code&&(t.form=e.data)}))},submitForm:function(e){},resetForm:function(e){}},watch:{id:{handler:function(e,t){e&&this.getInfo(e)}}}},l=r,s=a("9ca4"),c=Object(s["a"])(l,n,i,!1,null,"2360974e",null);t["default"]=c.exports},"9b8f":function(e,t,a){"use strict";a.r(t);a("f548");var n,i,o={created:function(){var e=this.$route,t=e.params,a=e.query,n=t.path;this.$router.replace({path:"/"+n,query:a})},render:function(e){return e()}},r=o,l=a("9ca4"),s=Object(l["a"])(r,n,i,!1,null,null,null);t["default"]=s.exports},"9d20":function(e,t,a){},"9d88":function(e,t,a){"use strict";var n=a("d7f4"),i=a.n(n);i.a},"9f72":function(e,t,a){},"9fa0":function(e,t,a){},a0e4:function(e,t,a){},a213:function(e,t,a){"use strict";var n=a("4630"),i=a.n(n);i.a},a36b:function(e,t,a){e.exports=a.p+"static/img/404.a57b6f31.png"},a407:function(e,t,a){"use strict";var n=a("aabe"),i=a.n(n);i.a},a451:function(e,t,a){"use strict";var n=a("7626"),i=a.n(n);i.a},a594:function(e,t,a){},a6dc:function(e,t,a){"use strict";a.d(t,"e",(function(){return i})),a.d(t,"c",(function(){return o})),a.d(t,"d",(function(){return r})),a.d(t,"a",(function(){return l})),a.d(t,"h",(function(){return s})),a.d(t,"b",(function(){return c}));var n=a("b775");function i(e){return Object(n["a"])({url:"/manageapi/menus",method:"get",params:e})}function o(e){return Object(n["a"])({url:"/manageapi/menu_view?menuId=".concat(e),method:"get"})}function r(){return Object(n["a"])({url:"/manageapi/treeselect",method:"get"})}function l(e){return Object(n["a"])({url:"/manageapi/menu_save",method:"get",params:e,loading:!0})}function s(e){return Object(n["a"])({url:"/manageapi/menu_save",method:"get",params:e,loading:!0})}function c(e){return Object(n["a"])({url:"/manageapi/menu_delete?menuId=".concat(e),method:"get",loading:!0})}},a6fd:function(e,t,a){},a85b:function(e,t,a){"use strict";a("e10e"),a("6d57");var n=a("ed08"),i=Object(n["f"])("accept,accept-charset,accesskey,action,align,alt,async,autocomplete,autofocus,autoplay,autosave,bgcolor,border,buffered,challenge,charset,checked,cite,class,code,codebase,color,cols,colspan,content,http-equiv,name,contenteditable,contextmenu,controls,coords,data,datetime,default,defer,dir,dirname,disabled,download,draggable,dropzone,enctype,method,for,form,formaction,headers,height,hidden,high,href,hreflang,http-equiv,icon,id,ismap,itemprop,keytype,kind,label,lang,language,list,loop,low,manifest,max,maxlength,media,method,GET,POST,min,multiple,email,file,muted,name,novalidate,open,optimum,pattern,ping,placeholder,poster,preload,radiogroup,readonly,rel,required,reversed,rows,rowspan,sandbox,scope,scoped,seamless,selected,shape,size,type,text,password,sizes,span,spellcheck,src,srcdoc,srclang,srcset,start,step,style,summary,tabindex,target,title,type,usemap,value,width,wrap");function o(e,t,a){t.props.value=a,t.on.input=function(t){e.$emit("input",t)}}var r={"el-input":{prepend:function(e,t,a){return e("template",{slot:"prepend"},[t[a]])},append:function(e,t,a){return e("template",{slot:"append"},[t[a]])}},"el-select":{options:function(e,t,a){var n=[];return t.options.forEach((function(t){n.push(e("el-option",{attrs:{label:t.label,value:t.value,disabled:t.disabled}}))})),n}},"el-radio-group":{options:function(e,t,a){var n=[];return t.options.forEach((function(a){"button"===t.optionType?n.push(e("el-radio-button",{attrs:{label:a.value}},[a.label])):n.push(e("el-radio",{attrs:{label:a.value,border:t.border}},[a.label]))})),n}},"el-checkbox-group":{options:function(e,t,a){var n=[];return t.options.forEach((function(a){"button"===t.optionType?n.push(e("el-checkbox-button",{attrs:{label:a.value}},[a.label])):n.push(e("el-checkbox",{attrs:{label:a.value,border:t.border}},[a.label]))})),n}},"el-upload":{"list-type":function(e,t,a){var n=[];return"picture-card"===t["list-type"]?n.push(e("i",{class:"el-icon-plus"})):n.push(e("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-upload"}},[t.buttonText])),t.showTip&&n.push(e("div",{slot:"tip",class:"el-upload__tip"},["只能上传不超过 ",t.fileSize,t.sizeUnit," 的",t.accept,"文件"])),n}}};t["a"]={render:function(e){var t=this,a={attrs:{},props:{},on:{},style:{}},n=JSON.parse(JSON.stringify(this.conf)),l=[],s=r[n.tag];return s&&Object.keys(s).forEach((function(t){var a=s[t];n[t]&&l.push(a(e,n,t))})),Object.keys(n).forEach((function(e){var r=n[e];"vModel"===e?o(t,a,n.defaultValue):a[e]?a[e]=r:i(e)?a.attrs[e]=r:a.props[e]=r})),e(this.conf.tag,a,l)},props:["conf"]}},a8bb:function(e,t,a){},a92a:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",e._g(e._b({attrs:{width:"500px","close-on-click-modal":!1,"modal-append-to-body":!1},on:{open:e.onOpen,close:e.onClose}},"el-dialog",e.$attrs,!1),e.$listeners),[a("el-row",{attrs:{gutter:15}},[a("el-form",{ref:"elForm",attrs:{model:e.formData,rules:e.rules,size:"medium","label-width":"100px"}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"生成类型",prop:"type"}},[a("el-radio-group",{model:{value:e.formData.type,callback:function(t){e.$set(e.formData,"type",t)},expression:"formData.type"}},e._l(e.typeOptions,(function(t,n){return a("el-radio-button",{key:n,attrs:{label:t.value,disabled:t.disabled}},[e._v("\n                "+e._s(t.label)+"\n              ")])})),1)],1),e._v(" "),e.showFileName?a("el-form-item",{attrs:{label:"文件名",prop:"fileName"}},[a("el-input",{attrs:{placeholder:"请输入文件名",clearable:""},model:{value:e.formData.fileName,callback:function(t){e.$set(e.formData,"fileName",t)},expression:"formData.fileName"}})],1):e._e()],1)],1)],1),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.close}},[e._v("\n        取消\n      ")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.handelConfirm}},[e._v("\n        确定\n      ")])],1)],1)],1)},i=[],o=(a("5ab2"),a("6d57"),a("e10e"),a("200d"));function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){Object(o["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var s={inheritAttrs:!1,props:["showFileName"],data:function(){return{formData:{fileName:void 0,type:"file"},rules:{fileName:[{required:!0,message:"请输入文件名",trigger:"blur"}],type:[{required:!0,message:"生成类型不能为空",trigger:"change"}]},typeOptions:[{label:"页面",value:"file"},{label:"弹窗",value:"dialog"}]}},computed:{},watch:{},mounted:function(){},methods:{onOpen:function(){this.showFileName&&(this.formData.fileName="".concat(+new Date,".vue"))},onClose:function(){},close:function(e){this.$emit("update:visible",!1)},handelConfirm:function(){var e=this;this.$refs.elForm.validate((function(t){t&&(e.$emit("confirm",l({},e.formData)),e.close())}))}}},c=s,u=a("9ca4"),m=Object(u["a"])(c,n,i,!1,null,null,null);t["default"]=m.exports},a92b:function(e,t,a){},aa3e:function(e,t,a){"use strict";a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return r}));var n=a("b775");a("fed1");function i(e){return Object(n["a"])({url:"/users/creditlogs/ajaxsearch",method:"GET",params:e})}function o(e){return Object(n["a"])({url:"/users/creditlogs/view/".concat(e),method:"GET"})}function r(){return Object(n["a"])({url:"/union/diamonds/diamonds_type",method:"GET"})}},aabe:function(e,t,a){},ab9b:function(e,t,a){},ac41:function(e,t,a){"use strict";var n=a("41c2"),i=a.n(n);i.a},ae7c:function(e,t,a){"use strict";var n=a("a6fd"),i=a.n(n);i.a},aef8:function(e,t,a){},af0e:function(e,t,a){"use strict";var n=a("4976"),i=a.n(n);i.a},af7d:function(e,t,a){},b2c4:function(e,t,a){},b2d6:function(e,t,a){},b380:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("router-view")},i=[],o=a("9ca4"),r={},l=Object(o["a"])(r,n,i,!1,null,null,null);t["default"]=l.exports},b3cf:function(e,t,a){"use strict";var n=a("dced"),i=a.n(n);i.a},b3e7:function(e,t,a){},b3f8:function(e,t,a){},b43b:function(e,t,a){},b617:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"publicStyle"},[a("div",{staticClass:"publicStyle-conter"},[a(e.currentPage,{tag:"component",attrs:{obj:e.obj,"keep-alive":""},on:{changePage:e.changePage}})],1)])},i=[],o=(a("bbd8"),a("1938")),r={name:"anchors",components:{LIST:o["default"]},data:function(){return{currentPage:"LIST",obj:{},activePage:"LIST"}},methods:{changePage:function(e,t){this.currentPage=e,t&&(this.obj=t)},changeActive:function(e){this.activePage=e,this.changePage(e)}}},l=r,s=(a("9d88"),a("9ca4")),c=Object(s["a"])(l,n,i,!1,null,"54e5b3af",null);t["default"]=c.exports},b8b6:function(e,t,a){},babb:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"publicStyle"},[a("div",{staticClass:"publicStyle-conter"},[a(e.currentPage,{tag:"component",attrs:{obj:e.obj,"keep-alive":""},on:{changePage:e.changePage}})],1)])},i=[],o=(a("bbd8"),a("2694")),r={name:"anchors",components:{LIST:o["default"]},data:function(){return{currentPage:"LIST",obj:{},activePage:"LIST"}},methods:{changePage:function(e,t){this.currentPage=e,t&&(this.obj=t)},changeActive:function(e){this.activePage=e,this.changePage(e)}}},l=r,s=(a("ae7c"),a("9ca4")),c=Object(s["a"])(l,n,i,!1,null,"298bdb14",null);t["default"]=c.exports},bb49:function(e,t,a){"use strict";a.r(t);var n=["platform-eleme","eleme","delete-solid","delete","s-tools","setting","user-solid","user","phone","phone-outline","more","more-outline","star-on","star-off","s-goods","goods","warning","warning-outline","question","info","remove","circle-plus","success","error","zoom-in","zoom-out","remove-outline","circle-plus-outline","circle-check","circle-close","s-help","help","minus","plus","check","close","picture","picture-outline","picture-outline-round","upload","upload2","download","camera-solid","camera","video-camera-solid","video-camera","message-solid","bell","s-cooperation","s-order","s-platform","s-fold","s-unfold","s-operation","s-promotion","s-home","s-release","s-ticket","s-management","s-open","s-shop","s-marketing","s-flag","s-comment","s-finance","s-claim","s-custom","s-opportunity","s-data","s-check","s-grid","menu","share","d-caret","caret-left","caret-right","caret-bottom","caret-top","bottom-left","bottom-right","back","right","bottom","top","top-left","top-right","arrow-left","arrow-right","arrow-down","arrow-up","d-arrow-left","d-arrow-right","video-pause","video-play","refresh","refresh-right","refresh-left","finished","sort","sort-up","sort-down","rank","loading","view","c-scale-to-original","date","edit","edit-outline","folder","folder-opened","folder-add","folder-remove","folder-delete","folder-checked","tickets","document-remove","document-delete","document-copy","document-checked","document","document-add","printer","paperclip","takeaway-box","search","monitor","attract","mobile","scissors","umbrella","headset","brush","mouse","coordinate","magic-stick","reading","data-line","data-board","pie-chart","data-analysis","collection-tag","film","suitcase","suitcase-1","receiving","collection","files","notebook-1","notebook-2","toilet-paper","office-building","school","table-lamp","house","no-smoking","smoking","shopping-cart-full","shopping-cart-1","shopping-cart-2","shopping-bag-1","shopping-bag-2","sold-out","sell","present","box","bank-card","money","coin","wallet","discount","price-tag","news","guide","male","female","thumb","cpu","link","connection","open","turn-off","set-up","chat-round","chat-line-round","chat-square","chat-dot-round","chat-dot-square","chat-line-square","message","postcard","position","turn-off-microphone","microphone","close-notification","bangzhu","time","odometer","crop","aim","switch-button","full-screen","copy-document","mic","stopwatch","medal-1","medal","trophy","trophy-1","first-aid-kit","discover","place","location","location-outline","location-information","add-location","delete-location","map-location","alarm-clock","timer","watch-1","watch","lock","unlock","key","service","mobile-phone","bicycle","truck","ship","basketball","football","soccer","baseball","wind-power","light-rain","lightning","heavy-rain","sunrise","sunrise-1","sunset","sunny","cloudy","partly-cloudy","cloudy-and-sunny","moon","moon-night","dish","dish-1","food","chicken","fork-spoon","knife-fork","burger","tableware","sugar","dessert","ice-cream","hot-water","water-cup","coffee-cup","cold-drink","goblet","goblet-full","goblet-square","goblet-square-full","refrigerator","grape","watermelon","cherry","apple","pear","orange","coffee","ice-tea","ice-drink","milk-tea","potato-strips","lollipop","ice-cream-square","ice-cream-round"];t["default"]=n},bbd8:function(e,t,a){},bbe2:function(e,t,a){"use strict";var n=a("079f"),i=a.n(n);i.a},bd78:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-container",{staticClass:"chatting-records"},[n("div",{staticClass:"anchor-info"},[n("div",{staticClass:"profile-box cursor"},[n("span",{staticClass:"profile-status"}),e._v(" "),n("img",{staticClass:"profile",attrs:{src:a("ffe7"),alt:""}})])]),e._v(" "),n("el-aside",{staticClass:"chatting-aside",staticStyle:{"background-color":"#e7e7e7"},attrs:{width:"250px"}},[n("el-row",[n("el-col",{ref:"visitor",staticClass:"visitor"},e._l(e.tableData,(function(t,i){return n("el-row",{key:i,staticClass:"visitor-item cursor",class:1===t?"active":"",on:{click:e.checkChatting}},[n("el-col",{staticClass:"visitor-info-box"},[n("div",{staticClass:"profile-box"},[n("span",{staticClass:"profile-status"}),e._v(" "),n("img",{staticClass:"profile",attrs:{src:a("ffe7"),alt:""}})]),e._v(" "),n("div",{staticClass:"visitor-info"},[n("div",{staticClass:"visitor-info-header"},[n("span",{staticClass:"iconfont icon-nan icon-gender-men"}),e._v(" "),n("span",{staticClass:"visitor-info-name"},[e._v("刘翔")]),e._v(" "),n("span",{staticClass:"chatting-created-time"},[e._v("10:44")])]),e._v(" "),n("div",{staticClass:"visitor-info-content"},[e._v("[语音]")])])])],1)})),1)],1)],1),e._v(" "),n("el-container",{staticClass:"chat-window"},[n("el-header",{staticClass:"chat-window-header",staticStyle:{"text-align":"right","font-size":"10px"}},[n("span",{staticClass:"iconfont icon-guding icon-font-size icon-top-right"}),e._v(" "),n("span",{staticClass:"iconfont icon-minimum icon-font-size icon-top-right"}),e._v(" "),n("span",{staticClass:"iconfont icon-fangkuang icon-font-size icon-top-right"}),e._v(" "),n("span",{staticClass:"iconfont icon-cha icon-font-size icon-close-button cursor",on:{click:e.close}}),e._v(" "),n("span",{staticClass:"visitor-nickname"},[e._v("刘翔")])]),e._v(" "),n("el-main",{ref:"chatting-main",staticClass:"chat-window-content"},[n("div",{ref:"chatting-content"},[n("div",{staticClass:"loadmore cursor",on:{click:e.loadMore}},[e._v(e._s(e.loadText))]),e._v(" "),e._l(e.chattingRecords,(function(t,i){return n("div",{key:i,staticClass:"chatt-records-item-box"},[t.showTime?n("div",{staticClass:"chatting-time"},[e._v(e._s(t.createdTime))]):e._e(),e._v(" "),n("div",{staticClass:"chatt-records-item",class:t.anchor?"anchor-chatt-records":"visitor-chatt-records"},[n("div",{staticClass:"profile-box"},[n("img",{staticClass:"profile",attrs:{src:a("ffe7"),alt:""}})]),e._v(" "),n("div",{staticClass:"chatt-records-message"},[n("span",{staticClass:"triangle-before"}),e._v(" "),n("span",[e._v(e._s(t.text))])])])])}))],2)]),e._v(" "),n("el-footer",{staticClass:"chat-window-footer"},[n("div",{staticClass:"chat-window-footer-top"},[n("div",{staticClass:"chat-window-top-left"},[n("span",{staticClass:"iconfont icon-biaoqing icon-font-size icon-top-right"}),e._v(" "),n("span",{staticClass:"iconfont icon-wenjianjia icon-font-size icon-top-right"}),e._v(" "),n("span",{staticClass:"iconfont icon-jianqie icon-font-size icon-top-right"}),e._v(" "),n("span",{staticClass:"iconfont icon-liaotianjilu icon-font-size"})]),e._v(" "),n("div",{staticClass:"chat-window-top-right"},[n("span",{staticClass:"iconfont icon-weibiaoti- icon-font-size icon-top-right"}),e._v(" "),n("span",{staticClass:"iconfont icon-video_icon icon-font-size"})])]),e._v(" "),n("div",{staticClass:"chat-window-footer-content"}),e._v(" "),n("div",{staticClass:"chat-window-footer-bottom"},[n("div",{staticClass:"chat-window-bottom-buttons"},[n("span",[e._v("发送(Enter)")]),e._v(" "),n("span",{staticClass:"bottom-button-line"}),e._v(" "),n("span",{staticClass:"bottom-button"},[e._v("\n            跳过\n            "),n("span",{staticClass:"iconfont icon-xiayishou_huaban icon-font-size"})])])])])],1)],1)},i=[],o=a("ad0a"),r=(a("6d57"),{name:"",props:["id"],data:function(){return{tableData:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],intervalTime:0,scrollHeight:0,chattingRecords:[],resData:[{id:1,user:{},anchor:!0,visitor:!1,text:"这是一个寂寞的天",createdTime:"2020-06-20 12:50:01"},{id:2,user:{},anchor:!1,visitor:!0,text:"下着有些伤心的雨",createdTime:"2020-06-20 12:51:01"},{id:3,user:{},anchor:!0,visitor:!1,text:"下着有些伤心的雨",createdTime:"2020-06-20 12:57:01"},{id:4,user:{},anchor:!0,visitor:!1,text:"下着有些伤心的雨",createdTime:"2020-06-20 12:57:50"},{id:5,user:{},anchor:!0,visitor:!1,text:"下着有些伤心的雨",createdTime:"2020-06-20 12:58:10"},{id:6,user:{},anchor:!0,visitor:!1,text:"下着有些伤心的雨",createdTime:"2020-06-20 12:57:01"},{id:7,user:{},anchor:!0,visitor:!1,text:"下着有些伤心的雨",createdTime:"2020-06-20 12:57:50"},{id:8,user:{},anchor:!0,visitor:!1,text:"下着有些伤心的雨",createdTime:"2020-06-20 12:58:10"}],loadText:"点击查看更多",time:null}},components:{},computed:{},beforeMount:function(){},created:function(){this.getList()},mounted:function(){var e=this;this.$nextTick((function(){e.$refs["chatting-main"].$el.scrollTop=9999999;var t=e.$refs["chatting-content"];e.scrollHeight=t.scrollHeight}));var t=this.$refs["chatting-main"].$el;t.addEventListener("scroll",(function(t){e.pullDownRefresh(t)}))},methods:{checkChatting:function(){},loadMore:function(){var e=(new Date).getTime();if(e-this.intervalTime<=2e3)return!1;this.intervalTime=e,this.getList()},scrollTo:function(){var e=this.$refs["chatting-content"],t=e.scrollHeight-this.scrollHeight;this.$refs["chatting-main"].$el.scrollTo(0,t),this.scrollHeight=e.scrollHeight},getList:function(){var e=this,t=(this.resData,JSON.parse(JSON.stringify(this.resData)));t.forEach((function(e,a){e.showTime=!0;var n=0,i=new Date(e.createdTime).getTime();0!==a&&(n=new Date(t[a-1].createdTime).getTime()),n&&i-n<3e5&&(e.showTime=!1)})),setTimeout((function(){var a;(a=e.chattingRecords).unshift.apply(a,Object(o["a"])(t)),clearTimeout(e.time),e.time=null,e.loadText="点击查看更多",e.scrollHeight&&e.$nextTick((function(){e.scrollTo()}))}))},pullDownRefresh:function(e){var t=this;this.time||(this.chattingRecords.length>=50?this.loadText="没有更多数据了":(this.loadText="加载中...",this.time=setTimeout((function(){console.log("正在更新"),0==e.target.scrollTop&&(e.target.scrollTop=10,t.getList())}),2e3)))},close:function(){console.log(123),this.$emit("closeDialog",!1)}},watch:{}}),l=r,s=(a("dc53"),a("9ca4")),c=Object(s["a"])(l,n,i,!1,null,"53732cf4",null);t["default"]=c.exports},bebe:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"record"},[a("div",{staticClass:"record-conter"},[a("el-row",{staticClass:"record-top",staticStyle:{"margin-left":"0px","margin-right":"0px"},attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[a("el-form-item",{attrs:{label:"日期："}},[e.formInline.date.startday?a("dateTimePicker",{attrs:{date:e.formInline.date},on:{onSubmit:e.onSubmit}}):e._e()],1),e._v(" "),a("el-form-item",{attrs:{label:"UID："}},[a("el-input",{attrs:{placeholder:"请输入主播ID",clearable:"",size:"mini"},on:{clear:e.onSubmit},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit(t)}},model:{value:e.formInline.userid,callback:function(t){e.$set(e.formInline,"userid","string"===typeof t?t.trim():t)},expression:"formInline.userid"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机："}},[a("el-input",{attrs:{placeholder:"请输入手机号",clearable:"",size:"mini"},on:{clear:e.onSubmit},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit(t)}},model:{value:e.formInline.mobile,callback:function(t){e.$set(e.formInline,"mobile","string"===typeof t?t.trim():t)},expression:"formInline.mobile"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"昵称："}},[a("el-input",{staticStyle:{"min-width":"160px"},attrs:{placeholder:"请输入昵称关键字",clearable:"",size:"mini"},on:{clear:e.onSubmit},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit(t)}},model:{value:e.formInline.nickname,callback:function(t){e.$set(e.formInline,"nickname","string"===typeof t?t.trim():t)},expression:"formInline.nickname"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.onSubmit}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-d-arrow-left",size:"mini"},on:{click:function(t){return e.handlePrev("prev")}}},[e._v("前一天")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.handlePrev("next")}}},[e._v("\n              后一天\n              "),a("span",{staticClass:"el-icon-d-arrow-right"})]),e._v(" "),a("el-button",{attrs:{type:"success",icon:"el-icon-download",size:"mini"},on:{click:e.toExportExcel}},[e._v("导出EXCEL")])],1)],1)],1)],1),e._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"dark","row-key":"id"},on:{"sort-change":e.sortChange}},[a("el-table-column",{attrs:{type:"index","min-width":"50",fixed:"",label:"编号"}}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"","min-width":"70px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"anchor-info cursor",on:{click:function(a){return e.openDetail(t.row.userid)}}},[a("div",{staticClass:"profile-box"},[a("img",{staticClass:"profile",attrs:{src:t.row.avatar,alt:""}})]),e._v(" "),"3"===t.row.status||"2"===t.row.status?a("br"):e._e(),e._v(" "),"3"===t.row.status?a("span",{staticStyle:{color:"#f56c6c"}},[e._v("禁言")]):"2"===t.row.status?a("span",{staticStyle:{color:"#f56c6c"}},[e._v("封号")]):e._e()])]}}])},[a("template",{slot:"header"},[a("span",[e._v("头像")]),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"提示文字",placement:"top"}},[a("i",{staticClass:"el-icon-question icon-color"})])],1)],2),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"","min-width":"120px",label:"昵称/ID"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticClass:"visitor-info-name",attrs:{title:"用户昵称"}},[e._v(e._s(t.row.nickname))]),e._v(" "),a("br"),e._v(" "),a("span",{staticClass:"gender-men",class:"1"===t.row.gender?"":"gender-women"},[e._v(e._s(t.row.age))]),e._v(" "),"1"===t.row.verify_status?a("span",{staticClass:"el-icon-video-camera-solid verify_status",attrs:{title:"视频认证"}}):e._e(),e._v(" "),a("span",{attrs:{title:"短ID"}},[e._v(e._s(t.row.username))]),e._v(" "),a("br"),e._v(" "),a("span",{attrs:{title:"用户ID"}},[e._v(e._s(t.row.userid))])]}}])}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",sortable:"custom",prop:"zs_income",label:"钻石收入","min-width":"120px"}},[a("template",{slot:"header"},[a("span",[e._v("积分收入")]),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"提示文字",placement:"top"}},[a("i",{staticClass:"el-icon-question icon-color"})])],1)],2),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",sortable:"custom",prop:"msg_income",label:"消息收入","min-width":"120px"}},[a("template",{slot:"header"},[a("span",[e._v("消息收入")]),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"提示文字",placement:"top"}},[a("i",{staticClass:"el-icon-question icon-color"})])],1)],2),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",sortable:"custom",prop:"cdr_income",label:"通话收入","min-width":"120px"}},[a("template",{slot:"header"},[a("span",[e._v("通话收入")]),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"提示文字",placement:"top"}},[a("i",{staticClass:"el-icon-question icon-color"})])],1)],2),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",sortable:"custom",prop:"video_income",label:"视频收入","min-width":"120px"}},[a("template",{slot:"header"},[a("span",[e._v("视频收入")]),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"提示文字",placement:"top"}},[a("i",{staticClass:"el-icon-question icon-color"})])],1)],2),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",sortable:"custom",prop:"gift_income",label:"礼物收入","min-width":"120px"}},[a("template",{slot:"header"},[a("span",[e._v("礼物收入")]),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"提示文字",placement:"top"}},[a("i",{staticClass:"el-icon-question icon-color"})])],1)],2),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",sortable:"custom",prop:"night_income",label:"夜间收入","min-width":"120px"}},[a("template",{slot:"header"},[a("span",[e._v("夜间收入")]),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"提示文字",placement:"top"}},[a("i",{staticClass:"el-icon-question icon-color"})])],1)],2),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",sortable:"custom",prop:"online_time",label:"在线时长","min-width":"120px"}},[a("template",{slot:"header"},[a("span",[e._v("在线时长")]),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"提示文字",placement:"top"}},[a("i",{staticClass:"el-icon-question icon-color"})])],1)],2),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",sortable:"custom",prop:"cdr_time",label:"通话时长","min-width":"120px"}},[a("template",{slot:"header"},[a("span",[e._v("通话时长")]),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"提示文字",placement:"top"}},[a("i",{staticClass:"el-icon-question icon-color"})])],1)],2),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",sortable:"custom",prop:"cdr_num",label:"通话次数","min-width":"120px"}},[a("template",{slot:"header"},[a("span",[e._v("通话次数")]),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"提示文字",placement:"top"}},[a("i",{staticClass:"el-icon-question icon-color"})])],1)],2),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",sortable:"custom",prop:"cdr_valid_num",label:"有效通话","min-width":"120px"}},[a("template",{slot:"header"},[a("span",[e._v("有效通话")]),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"提示文字",placement:"top"}},[a("i",{staticClass:"el-icon-question icon-color"})])],1)],2),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",sortable:"custom",prop:"cdr_called_num",label:"被叫次数","min-width":"120px"}},[a("template",{slot:"header"},[a("span",[e._v("被叫次数")]),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"提示文字",placement:"top"}},[a("i",{staticClass:"el-icon-question icon-color"})])],1)],2),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",sortable:"custom",prop:"cdr_called_rate",label:"被叫接通率","min-width":"130px"}},[a("template",{slot:"header"},[a("span",[e._v("被叫接通率")]),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"提示文字",placement:"top"}},[a("i",{staticClass:"el-icon-question icon-color"})])],1)],2),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",sortable:"custom",prop:"cdr_caller_num",label:"主叫次数","min-width":"120px"}},[a("template",{slot:"header"},[a("span",[e._v("主叫次数")]),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"提示文字",placement:"top"}},[a("i",{staticClass:"el-icon-question icon-color"})])],1)],2),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",sortable:"custom",prop:"cdr_caller_rate",label:"主叫接通率","min-width":"130px"}},[a("template",{slot:"header"},[a("span",[e._v("主叫接通率")]),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"提示文字",placement:"top"}},[a("i",{staticClass:"el-icon-question icon-color"})])],1)],2)],1),e._v(" "),a("my-pagination",{directives:[{name:"show",rawName:"v-show",value:e.totalNum>0,expression:"totalNum>0"}],attrs:{total:e.totalNum,page:e.formInline.pageNum,limit:e.formInline.pageSize,ext_stat:e.ext_stat},on:{"update:page":function(t){return e.$set(e.formInline,"pageNum",t)},"update:limit":function(t){return e.$set(e.formInline,"pageSize",t)},pagination:e.getOnlineList}})],1),e._v(" "),e.userDetail.userid?a("detail",{attrs:{userDetail:e.userDetail}}):e._e()],1)},i=[],o=(a("6d57"),a("bff7"),a("b775"));function r(e){return Object(o["a"])({url:"/union/incomes/ajaxsearch",method:"GET",params:e})}function l(e){return Object(o["a"])({url:"/union/incomes/get_all",method:"GET",params:e})}var s=a("50b5"),c={components:{detail:s["default"]},data:function(){return{totalNum:0,ext_stat:"",formInline:{groupid:this.$store.state.user.groupInfo.id,date:{startday:"",endday:""},userid:"",mobile:"",nickname:"",orderByColumn:"id",isAsc:"desc",startday:"",endday:"",pageSize:20,pageNum:1,offset:""},startOptions:{disabledDate:!1},endOptions:{disabledDate:!1},tableData:[],exportTable:[],userDetail:{timestamp:"",userid:""}}},created:function(){this.formInline.date.startday=this.getDateNow()[0],this.formInline.date.endday=this.getDateNow()[1],this.getOnlineList()},methods:{onSubmit:function(){this.getOnlineList()},getOnlineList:function(){var e=this,t=JSON.parse(JSON.stringify(this.formInline));t.startday=t.date.startday,t.endday=t.date.endday,t.offset=(t.pageNum-1)*t.pageSize,delete t.date,r(t).then((function(t){0===t.code&&(e.tableData=t.data.items,e.ext_stat=t.data.ext_stat,e.totalNum=+t.data.total_rows)}))},sortChange:function(e){e.column;var t=e.prop,a=e.order;console.log(a),this.formInline.orderByColumn=a?t:"id";var n="desc";"ascending"===a&&(n="asc"),this.formInline.isAsc=n,this.getOnlineList()},openDetail:function(e){this.userDetail.timestamp=(new Date).getTime(),this.userDetail.userid=e},handleCurrentChange:function(e){this.formInline.pageNum=e,this.getOnlineList()},handlePrev:function(e){this.prevDate(this.formInline.date,e),this.getOnlineList()},toExportExcel:function(){var e=this;this.$confirm("确定下载主播收入分析吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var t=JSON.parse(JSON.stringify(e.formInline));t.startday=t.date.startday,t.endday=t.date.endday,delete t.date,l(t).then((function(t){0===t.code&&(t.data.forEach((function(e){e.gender="1"===e.gender?"男":"女"})),e.exportTable=t.data,setTimeout((function(){e.exportExcel()}),0))}))})).catch((function(){}))},exportExcel:function(){var e=this;Promise.resolve().then(function(){var t=a("3016"),n=t.export_json_to_excel,i=["用户ID","用户昵称","性别","年龄","钻石收入","消息收入","通话收入","视频收入","礼物收入","夜间收入","在线时长","通话时长","通话次数","有效通话","被叫次数","被叫接通率","主叫次数","主叫接通率"],o=["userid","nickname","gender","age","zs_income","msg_income","cdr_income","video_income","gift_income","night_income","online_time","cdr_time","cdr_num","cdr_valid_num","cdr_called_num","cdr_called_rate","cdr_caller_num","cdr_caller_rate"],r=e.formatJson(o,e.exportTable);n(i,r,"列表excel")}.bind(null,a)).catch(a.oe)},formatJson:function(e,t){return t.map((function(t){return e.map((function(e){return t[e]}))}))}}},u=c,m=(a("c7af"),a("9142"),a("5006"),a("9ca4")),d=Object(m["a"])(u,n,i,!1,null,"fc8be8da",null);t["default"]=d.exports},bfc4:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0}},[a("el-form-item",{attrs:{label:"字典名称",prop:"dictType"}},[a("el-select",{attrs:{size:"small"},model:{value:e.queryParams.dictType,callback:function(t){e.$set(e.queryParams,"dictType",t)},expression:"queryParams.dictType"}},e._l(e.typeOptions,(function(e){return a("el-option",{key:e.dictId,attrs:{label:e.dictName,value:e.dictType}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"字典标签",prop:"dictLabel"}},[a("el-input",{attrs:{placeholder:"请输入字典标签",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.dictLabel,callback:function(t){e.$set(e.queryParams,"dictLabel",t)},expression:"queryParams.dictLabel"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{attrs:{placeholder:"数据状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:dict:add"],expression:"['system:dict:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:dict:edit"],expression:"['system:dict:edit']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:dict:remove"],expression:"['system:dict:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:dict:export"],expression:"['system:dict:export']"}],attrs:{type:"warning",icon:"el-icon-download",size:"mini"},on:{click:e.handleExport}},[e._v("导出")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.dataList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"字典编码",align:"center",prop:"dictCode"}}),e._v(" "),a("el-table-column",{attrs:{label:"字典标签",align:"center",prop:"dictLabel"}}),e._v(" "),a("el-table-column",{attrs:{label:"字典键值",align:"center",prop:"dictValue"}}),e._v(" "),a("el-table-column",{attrs:{label:"字典排序",align:"center",prop:"dictSort"}}),e._v(" "),a("el-table-column",{attrs:{label:"状态",align:"center",prop:"status",formatter:e.statusFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"备注",align:"center",prop:"remark","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createTime)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:dict:edit"],expression:"['system:dict:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:dict:remove"],expression:"['system:dict:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"字典类型"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.form.dictType,callback:function(t){e.$set(e.form,"dictType",t)},expression:"form.dictType"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"数据标签",prop:"dictLabel"}},[a("el-input",{attrs:{placeholder:"请输入数据标签"},model:{value:e.form.dictLabel,callback:function(t){e.$set(e.form,"dictLabel",t)},expression:"form.dictLabel"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"数据键值",prop:"dictValue"}},[a("el-input",{attrs:{placeholder:"请输入数据键值"},model:{value:e.form.dictValue,callback:function(t){e.$set(e.form,"dictValue",t)},expression:"form.dictValue"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"显示排序",prop:"dictSort"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.form.dictSort,callback:function(t){e.$set(e.form,"dictSort",t)},expression:"form.dictSort"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusOptions,(function(t){return a("el-radio",{key:t.dictValue,attrs:{label:t.dictValue}},[e._v(e._s(t.dictLabel))])})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},i=[],o=a("aa3a"),r=a("ed45"),l={name:"Data",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,dataList:[],defaultDictType:"",title:"",open:!1,statusOptions:[],typeOptions:[],queryParams:{pageNum:1,pageSize:10,dictName:void 0,dictType:void 0,status:void 0},form:{},rules:{dictLabel:[{required:!0,message:"数据标签不能为空",trigger:"blur"}],dictValue:[{required:!0,message:"数据键值不能为空",trigger:"blur"}],dictSort:[{required:!0,message:"数据顺序不能为空",trigger:"blur"}]}}},created:function(){var e=this,t=this.$route.params&&this.$route.params.dictId;this.getType(t),this.getTypeList(),this.getDicts("sys_normal_disable").then((function(t){e.statusOptions=t.data}))},methods:{getType:function(e){var t=this;Object(r["e"])(e).then((function(e){t.queryParams.dictType=e.data.dictType,t.defaultDictType=e.data.dictType,t.getList()}))},getTypeList:function(){var e=this;Object(r["f"])().then((function(t){e.typeOptions=t.rows}))},getList:function(){var e=this;this.loading=!0,Object(o["f"])(this.queryParams).then((function(t){e.dataList=t.rows,e.total=t.total,e.loading=!1}))},statusFormat:function(e,t){return this.selectDictLabel(this.statusOptions,e.status)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={dictCode:void 0,dictLabel:void 0,dictValue:void 0,dictSort:0,status:"0",remark:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.queryParams.dictType=this.defaultDictType,this.handleQuery()},handleAdd:function(){this.reset(),this.open=!0,this.title="添加字典数据",this.form.dictType=this.queryParams.dictType},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.dictCode})),this.single=1!=e.length,this.multiple=!e.length},handleUpdate:function(e){var t=this;this.reset();var a=e.dictCode||this.ids;Object(o["d"])(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改字典数据"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.dictCode?Object(o["g"])(e.form).then((function(t){200===t.code&&(e.msgSuccess("修改成功"),e.open=!1,e.getList())})):Object(o["a"])(e.form).then((function(t){200===t.code&&(e.msgSuccess("新增成功"),e.open=!1,e.getList())})))}))},handleDelete:function(e){var t=this,a=e.dictCode||this.ids;this.$confirm('是否确认删除字典编码为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["b"])(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["c"])(t)})).then((function(t){e.download(t.msg)})).catch((function(){}))}}},s=l,c=a("9ca4"),u=Object(c["a"])(s,n,i,!1,null,null,null);t["default"]=u.exports},bfd60:function(e,t,a){},bff7:function(e,t,a){"use strict";a.d(t,"f",(function(){return r})),a.d(t,"c",(function(){return l})),a.d(t,"b",(function(){return s})),a.d(t,"i",(function(){return c})),a.d(t,"d",(function(){return u})),a.d(t,"a",(function(){return m})),a.d(t,"g",(function(){return d})),a.d(t,"e",(function(){return p})),a.d(t,"h",(function(){return f}));var n=a("b775"),i=a("fed1"),o=a.n(i);function r(e){return Object(n["a"])({url:"/union/unionAnchors/ajaxsearch",method:"GET",params:e})}function l(e){return Object(n["a"])({url:"/users/users/userinfo?userid=".concat(e),method:"GET"})}function s(e){return Object(n["a"])({url:"/operation/channel_parameter_config/ajaxsearch",method:"GET",params:e})}function c(e){return Object(n["a"])({url:"/cdr/msg/msg_users?userid=".concat(e),method:"GET"})}function u(e){return Object(n["a"])({url:"/live/group_details/get_verifycode",method:"GET",params:e})}function m(e){return Object(n["a"])({url:"/live/group_details/bind",method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},data:o.a.stringify(e)})}function d(e){return Object(n["a"])({url:"/live/group_details/unbind",method:"GET",params:e})}function p(e){return Object(n["a"])({url:"/live/group_details/getmymember",method:"GET",params:e})}function f(e){return Object(n["a"])({url:"/live/group_details/updatemymember",method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},data:o.a.stringify(e)})}},c0c7:function(e,t,a){"use strict";a.d(t,"h",(function(){return l})),a.d(t,"e",(function(){return s})),a.d(t,"a",(function(){return c})),a.d(t,"j",(function(){return u})),a.d(t,"c",(function(){return m})),a.d(t,"d",(function(){return d})),a.d(t,"i",(function(){return p})),a.d(t,"b",(function(){return f})),a.d(t,"f",(function(){return v})),a.d(t,"k",(function(){return h})),a.d(t,"l",(function(){return b})),a.d(t,"n",(function(){return g})),a.d(t,"m",(function(){return _})),a.d(t,"g",(function(){return y}));var n=a("b775"),i=a("c38a"),o=a("fed1"),r=a.n(o);function l(e){return Object(n["a"])({url:"/system/user/list",method:"get",params:e})}function s(e){return Object(n["a"])({url:"/system/user/"+Object(i["e"])(e),method:"get"})}function c(e){return Object(n["a"])({url:"/system/user",method:"post",data:e})}function u(e){return Object(n["a"])({url:"/system/user",method:"put",data:e})}function m(e){return Object(n["a"])({url:"/system/user/"+e,method:"delete"})}function d(e){return Object(n["a"])({url:"/system/user/export",method:"get",params:e})}function p(e,t){var a={userId:e,password:t};return Object(n["a"])({url:"/system/user/resetPwd",method:"put",data:a})}function f(e,t){var a={userId:e,status:t};return Object(n["a"])({url:"/system/user/changeStatus",method:"put",data:a})}function v(){return Object(n["a"])({url:"/user/person",method:"get"})}function h(e){return Object(n["a"])({url:"/user/person_save",method:"post",data:e})}function b(e){return Object(n["a"])({url:"/user/passwd",method:"post",headers:{"content-type":"application/x-www-form-urlencoded"},data:r.a.stringify(e)})}function g(e){return Object(n["a"])({url:"/user/passwd",method:"get",params:e})}function _(e){return Object(n["a"])({url:"/system/user/profile/avatar",method:"post",data:e})}function y(){return Object(n["a"])({url:"/system/user/importTemplate",method:"get"})}},c138:function(e,t,a){},c2d3:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{id:"owner-dialog",width:"865px",visible:e.chattingRecordsDialog,"show-close":!1,"custom-class":"chattingRecords"},on:{"update:visible":function(t){e.chattingRecordsDialog=t}}},[a("el-container",{staticClass:"chatting-records"},[a("div",{staticClass:"anchor-info"},[a("el-popover",{attrs:{placement:"left",trigger:"click"}},[a("div",{staticClass:"hover-anchor-info"},[a("div",{staticClass:"hover-anchor-info-left"},[a("div",{staticClass:"anchor-info-id"},[a("span",[e._v("ID:"+e._s(e.anchorForm.userid))]),e._v(" "),"ios"===e.anchorForm.platform?a("span",{staticClass:"iconfont icon-ios"}):a("span",{staticClass:"iconfont icon-anzhuo"})]),e._v(" "),a("div",{staticClass:"anchor-info-name"},["1"===e.anchorForm.gender?a("span",{staticClass:"iconfont icon-nan icon-gender-men"}):a("span",{staticClass:"iconfont icon-nan icon-gender-women"}),e._v(" "),a("span",{staticClass:"visitor-info-name"},[e._v(e._s(e.anchorForm.nickname))]),e._v(" "),a("span",{staticClass:"anchor-info-username"},[e._v("["+e._s(e.anchorForm.username)+"]")])]),e._v(" "),a("div",{staticClass:"anchor-info-information"},[a("span",{staticClass:"anchor-info-age"},[e._v(e._s(e.anchorForm.age)+"岁")]),e._v(" "),a("span",[e._v("|")]),e._v(" "),a("span",{staticClass:"anchor-info-level"},[e._v("LV"+e._s(e.anchorForm.charm_level))]),e._v(" "),a("span",[e._v("|")]),e._v(" "),a("span",{staticClass:"anchor-info-address"},[e._v(e._s(e.anchorForm.location_lastloginip))])]),e._v(" "),a("div",{staticClass:"anchor-info-picture-box"},[a("img",{staticClass:"picture",attrs:{src:e.anchorForm.avatar,alt:""}})]),e._v(" "),a("div",{staticClass:"anchor-info-detail-buttons"},[a("div",{staticClass:"anchor-info-detail-buttons-first"},[a("div",{staticClass:"link-button to-call-records cursor",on:{click:function(t){return e.navigateTo("union/callRecords",e.anchorForm.userid)}}},[e._v("通话记录")]),e._v(" "),a("div",{staticClass:"link-button to-diamonds cursor",on:{click:function(t){return e.navigateTo("union/diamonds",e.anchorForm.userid)}}},[e._v("钻石流水")])]),e._v(" "),a("div",{staticClass:"link-button to-chatt-records cursor",on:{click:function(t){return e.navigateTo("union/chattingRecords",e.anchorForm.userid)}}},[e._v("聊天记录")])])]),e._v(" "),a("div",{staticClass:"hover-anchor-info-right"},[a("el-form",{ref:"ruleForm",attrs:{model:e.anchorForm,"label-width":"80px","label-position":"right"}},[a("el-form-item",{attrs:{label:"工会备注",prop:"remark"}},[a("span",{staticClass:"form-item-content"},[e._v(e._s(e.anchorForm.group_memo))])]),e._v(" "),a("el-form-item",{attrs:{label:"手机号",prop:"mobile"}},[a("span",{staticClass:"form-item-content"},[e._v(e._s(e.anchorForm.mobile))])]),e._v(" "),a("el-form-item",{attrs:{label:"魅力值",prop:"charm"}},[a("span",{staticClass:"form-item-content"},[e._v(e._s(e.format(e.anchorForm.charm)))])]),e._v(" "),a("el-form-item",{attrs:{label:"钻石余额",prop:"diamonds"}},[a("span",{staticClass:"form-item-content"},[e._v(e._s(e.format(e.anchorForm.diamonds)))])]),e._v(" "),a("el-form-item",{attrs:{label:"注册",prop:"createdTime"}},[a("span",{staticClass:"form-item-content"},[e._v(e._s(e.anchorForm.registertime))])]),e._v(" "),a("el-form-item",{attrs:{label:"登陆",prop:"loginTime"}},[a("span",{staticClass:"form-item-content"},[e._v(e._s(e.anchorForm.lastlogintime))])]),e._v(" "),a("el-form-item",{attrs:{label:"会员到期",prop:"expirationTime"}},[a("span",{staticClass:"form-item-content"},[e._v(e._s(e.anchorForm.user_vip_time))])])],1)],1)]),e._v(" "),a("div",{staticClass:"profile-box cursor",attrs:{slot:"reference"},slot:"reference"},[e.anchorForm.online?a("span",{staticClass:"profile-status"}):a("span",{staticClass:"profile-status outline"}),e._v(" "),a("img",{staticClass:"profile",attrs:{src:e.anchorForm.avatar,alt:""}})])])],1),e._v(" "),a("el-aside",{staticClass:"chatting-aside",staticStyle:{"background-color":"#e7e7e7"},attrs:{width:"250px"}},[a("el-row",[a("el-col",{ref:"visitor",staticClass:"visitor"},e._l(e.friendList,(function(t,n){return a("el-row",{key:n,staticClass:"visitor-item cursor",class:t.userid===e.checkedUser.userid?"active":"",nativeOn:{click:function(a){return e.checkChatting(t)}}},[a("el-col",{staticClass:"visitor-info-box"},[a("div",{staticClass:"profile-box"},[t.online?a("span",{staticClass:"profile-status outline"}):a("span",{staticClass:"profile-status"}),e._v(" "),a("img",{staticClass:"profile",attrs:{src:t.avatar,alt:""}})]),e._v(" "),a("div",{staticClass:"visitor-info"},[a("div",{staticClass:"visitor-info-header"},["1"===t.gender?a("span",{staticClass:"iconfont icon-nan icon-gender-men"}):a("span",{staticClass:"iconfont icon-nan icon-gender-women"}),e._v(" "),a("span",{staticClass:"visitor-info-name"},[e._v(e._s(t.nickname))]),e._v(" "),a("span",{staticClass:"chatting-created-time"},[e._v(e._s(e.msgTime(t.lastmsg.msgTime)))])]),e._v(" "),a("div",{staticClass:"visitor-info-content"},[e._v(e._s(e.msgType(t.lastmsg)))])])])],1)})),1)],1)],1),e._v(" "),a("el-container",{staticClass:"chat-window"},[a("el-header",{staticClass:"chat-window-header",staticStyle:{"text-align":"right","font-size":"10px"}},[a("span",{staticClass:"iconfont icon-guding icon-font-size icon-top-right"}),e._v(" "),a("span",{staticClass:"iconfont icon-minimum icon-font-size icon-top-right"}),e._v(" "),a("span",{staticClass:"iconfont icon-fangkuang icon-font-size icon-top-right"}),e._v(" "),a("span",{staticClass:"iconfont icon-cha icon-font-size icon-close-button cursor",on:{click:e.close}}),e._v(" "),a("span",{staticClass:"visitor-nickname"},[e._v(e._s(e.checkedUser.nickname))])]),e._v(" "),a("el-main",{ref:"chatting-main",staticClass:"chat-window-content"},[a("div",{ref:"chatting-content"},[a("div",{staticClass:"loadmore cursor",on:{click:e.loadMore}},["加载中..."===e.loadText?a("span",{staticClass:"el-icon-loading"}):e._e(),e._v("\n            "+e._s(e.loadText)+"\n          ")]),e._v(" "),e._l(e.chattingRecords,(function(t,n){return a("div",{key:n,staticClass:"chatt-records-item-box"},[t.showTime?a("div",{staticClass:"chatting-time"},[e._v(e._s(t.createdTime))]):e._e(),e._v(" "),a("div",{staticClass:"chatt-records-item",class:t.fromid===e.anchorForm.userid?"visitor-chatt-records":"anchor-chatt-records"},[a("div",{staticClass:"profile-box"},[a("img",{staticClass:"profile",attrs:{src:t.fromid===e.anchorForm.userid?t.f_avatar:t.t_avatar,alt:""}})]),e._v(" "),"TEXT"===t.msgtype?a("div",{staticClass:"chatt-records-message"},[a("span",{staticClass:"triangle-before"}),e._v(" "),a("span",{staticClass:"chatt-records-text"},[e._v(e._s(t.msgcontent))])]):"TEXT"===t.cmd?a("div",{staticClass:"chatt-records-message"},[a("span",{staticClass:"triangle-before"}),e._v(" "),a("span",{staticClass:"chatt-records-text"},[e._v(e._s(t.msgcontent.info.msg))])]):"gift"===t.cmd?a("div",{staticClass:"chatt-records-message no-padding no-background"},[a("div",{staticClass:"chatt-records-gift",class:t.fromid===e.anchorForm.userid?"":"chatt-records-gift-reverse"},[a("img",{staticClass:"chatt-records-gift-image",attrs:{src:t.msgcontent.info.gift.src,alt:""}}),e._v(" "),a("span",{staticClass:"chatt-records-gift-name"},[a("span",[e._v(e._s(t.msgcontent.info.gift.name))]),e._v(" "),a("span",[e._v("x")]),e._v(" "),a("span",[e._v(e._s(t.msgcontent.info.number))])])])]):"PICTURE"===t.msgtype?a("div",{staticClass:"chatt-records-message no-padding no-background set-border"},[a("el-image",{staticClass:"chatt-records-image",attrs:{src:t.msgcontent.url,fit:"contain",lazy:"","preview-src-list":e.previewImageList}},[a("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[a("i",{staticClass:"el-icon-picture-outline"})])])],1):"AUDIO"===t.msgtype?a("div",{staticClass:"chatt-records-message no-padding no-background"},[a("span",{staticClass:"triangle-before"}),e._v(" "),a("div",{staticClass:"chatt-records-audio",class:t.fromid===e.anchorForm.userid?" ":"chatt-records-audio-reverse"},[a("span",[e._v(e._s(e.setAudioSec(t.msgcontent)))]),e._v(" "),a("div",{staticClass:"audio-button cursor",on:{click:function(a){return e.playAudio(t)}}},[a("span",{staticClass:"empty-span",style:{width:e.setAudioLength(t.msgcontent)}}),e._v(" "),t.playStatus?e._e():a("span",{staticClass:"iconfont icon-saying margin-left"}),e._v(" "),t.playStatus?a("span",{staticClass:"iconfont icon-zanting margin-left"}):e._e(),e._v(" "),a("span",{staticStyle:{diaplay:"none"}},[a("audio",{ref:"audio"+t.id,refInFor:!0,attrs:{src:t.msgcontent.url}})])])])]):"VIDEO"===t.msgtype?a("div",{staticClass:"chatt-records-message no-padding no-background"},[a("div",{staticClass:"chatt-records-video"},[a("video",{staticClass:"video-player",attrs:{src:t.msgcontent.url,controls:""}})])]):a("div",{staticClass:"chatt-records-message"},[a("span",{staticClass:"triangle-before"}),e._v(" "),a("span",{staticClass:"chatt-records-text"},[e._v(e._s(t.msgcontent))])])])])}))],2)]),e._v(" "),a("el-footer",{staticClass:"chat-window-footer"},[a("div",{staticClass:"chat-window-footer-top"},[a("div",{staticClass:"chat-window-top-left"},[a("span",{staticClass:"iconfont icon-biaoqing icon-font-size icon-top-right"}),e._v(" "),a("span",{staticClass:"iconfont icon-wenjianjia icon-font-size icon-top-right"}),e._v(" "),a("span",{staticClass:"iconfont icon-jianqie icon-font-size icon-top-right"}),e._v(" "),a("span",{staticClass:"iconfont icon-liaotianjilu icon-font-size"})]),e._v(" "),a("div",{staticClass:"chat-window-top-right"},[a("span",{staticClass:"iconfont icon-weibiaoti- icon-font-size icon-top-right"}),e._v(" "),a("span",{staticClass:"iconfont icon-video_icon icon-font-size"})])]),e._v(" "),a("div",{staticClass:"chat-window-footer-content"}),e._v(" "),a("div",{staticClass:"chat-window-footer-bottom"},[a("div",{staticClass:"chat-window-bottom-buttons"},[a("span",[e._v("发送(Enter)")]),e._v(" "),a("span",{staticClass:"bottom-button-line"}),e._v(" "),a("span",{staticClass:"bottom-button"},[e._v("\n              跳过\n              "),a("span",{staticClass:"iconfont icon-xiayishou_huaban icon-font-size"})])])])])],1)],1)],1)},i=[],o=a("4f54"),r=(a("9a33"),a("ad0a")),l=(a("6d57"),a("bff7")),s=(a("2922"),a("7f7e")),c={name:"",props:["chattingData"],data:function(){return{id:this.userId,formInline:{pageNum:1,pageSize:20,offset:0,f_username:"",t_username:""},intervalTime:0,scrollHeight:0,chattingRecords:[],chattingRecordsDialog:!1,msgTypeOptions:s["f"],friendList:[],checkedUser:{},loadText:"点击查看更多",time:null,anchorForm:{},previewImageList:[]}},components:{},watch:{chattingData:{handler:function(e,t){e.userid&&(this.getUserInfo(e.userid),this.getFriends(e.userid))},deep:!0}},beforeMount:function(){},created:function(){this.getUserInfo(this.chattingData.userid),this.getFriends(this.chattingData.userid)},mounted:function(){},methods:{setScrollEvent:function(){var e=this,t=this.$refs["chatting-main"].$el;t.addEventListener("scroll",(function(t){0==t.target.scrollTop&&null===e.time&&(console.log("正在更新"),e.time=!0,e.getList())}))},getFriends:function(e){var t=this;Object(l["i"])(e).then((function(e){e&&0===e.code&&(t.friendList=e.data||[],e.data&&e.data.length?(t.checkedUser=e.data[0],t.getList(),t.$nextTick((function(){t.setScrollEvent()}))):(t.checkedUser={},t.chattingRecords=[]),t.chattingRecordsDialog=!0)}))},getUserInfo:function(e){var t=this;Object(l["c"])(e).then((function(e){e&&0===e.code&&(t.anchorForm=e.data)}))},checkChatting:function(e){if(this.checkedUser.userid===e.userid)return!1;this.checkedUser=e,this.chattingRecords=[],this.formInline.pageNum=1,this.getList()},loadMore:function(){if("没有更多数据了"!==this.loadText){var e=(new Date).getTime();if(e-this.intervalTime<=2e3)return!1;if(this.time)return!1;this.intervalTime=e,this.getList()}},scrollTo:function(){var e=this.$refs["chatting-content"],t=e.scrollHeight-this.scrollHeight;this.$refs["chatting-main"].$el.scrollTop=t,this.scrollHeight=e.scrollHeight},getList:function(){var e=this;this.checkedUser.from_username,this.checkedUser.to_username,this.formInline.pageNum,this.formInline.pageSize;this.$axios.get("/cdr/msg/ajaxsearch/").then((function(t){var a=t.data;if(a.data.items.forEach((function(t){e.isJSON(t.msgcontent)&&("TEXT"!==t.cmd&&"gift"!==t.cmd&&"TEXT"!==t.msgtype&&"PICTURE"!==t.msgtype&&"AUDIO"!==t.msgtype&&"VIDEO"!==t.msgtype||(t.msgcontent=JSON.parse(t.msgcontent)))})),a&&0===a.code){var n=a.data.items,i=n.map((function(t){var a=!0;if(e.chattingRecords.forEach((function(e){t.id===e.id&&(a=!1)})),a)return t}));i.forEach((function(t,a){e.$set(t,"showTime",!0);var n=0,o=new Date(t.createdTime).getTime();0!==a&&(n=new Date(i[a-1].createdTime).getTime()),n&&o-n<3e5&&(t.showTime=!1)})),e.loadText="加载中...",e.formInline.pageNum++,setTimeout((function(){var t;(t=e.chattingRecords).unshift.apply(t,Object(r["a"])(i)),e.chattingRecords.forEach((function(t){e.$set(t,"playStatus",!1)})),e.previewImageList=e.chattingRecords.map((function(e){if("PICTURE"===e.msgtype)return e.msgcontent.url})),e.time=null,e.$nextTick((function(){e.scrollTo()})),e.chattingRecords.length>=a.data.total_rows?e.loadText="没有更多数据了":e.loadText="点击查看更多"}),2e3)}}))},pullDownRefresh:function(e){console.log(this.time),null==this.time&&0==e.target.scrollTop&&(e.target.scrollTop=10,this.time=!0,this.loadText="加载中...",this.getList())},close:function(){this.formInline.pageNum=1,this.checkedUser={},this.chattingRecords=[],this.chattingRecordsDialog=!1},get_time_diff:function(e){var t=new Date(e).getTime(),a="",n=(new Date).getTime()-t,i=Math.floor(n/864e5);if(i>30)return e.slice(0,10);i>0&&(a+=i+"天");var o=n%864e5,r=Math.floor(o/36e5);r>0?(r<10&&(r="0"+r),a+=r+"小时"):""!==a&&(a+=r+"小时");var l=o%36e5,s=Math.floor(l/6e4);return s>0?(s<10&&(s="0"+s),a+=s+"分"):""!==a&&(a+=s+"分"),a},format:function(e){if(!e)return 0;e+="";for(var t="",a=e.length-1,n=1;a>=0;a--,n++)t+=n%3!=0||0==a?e[a]:e[a]+",";return t.split("").reverse().join("")},msgType:function(e){var t="";return this.msgTypeOptions.forEach((function(a){a.value===e.msgType&&(t="PERSON"===a.value||"CUSTOM"===a.value?e.msgcontent:"PICTURE"===a.value?"[图片]":"AUDIO"===a.value?"[语音]":"VIDEO"===a.value?"[视频]":"")})),t},msgTime:function(e){if(!e)return"";var t=(new Date).getTime(),a=this.parseTime(e);return t-e<864e5?a.substr(11,5):a.substr(0,10)},sliceDate:function(e){return e&&this.parseTime(e).substr(0,10)||""},setAudioSec:function(e){var t=e;return t.dur?(parseInt(t.dur/1e3)||0)+'"':""},setAudioLength:function(e){var t=e;if(!t.dur)return"0px";var a=parseInt(t.dur/1e3)||0;return a<=5?"0px":a>=30?"130px":5*a+"px"},playAudio:function(e){var t=this,a=this.$refs["audio"+e.id][0];a.addEventListener("ended",(function(){t.ended(e)})),a.paused?(this.$set(e,"playStatus",!0),a.play()):(this.$set(e,"playStatus",!1),a.pause())},ended:function(e){this.$set(e,"playStatus",!1)},navigateTo:function(e,t){this.$router.push({name:e,params:{userid:t}})},isJSON:function(e){if("string"==typeof e)try{var t=JSON.parse(e);return!("object"!=Object(o["a"])(t)||!t)}catch(a){return!1}}}},u=c,m=(a("a407"),a("822d"),a("9ca4")),d=Object(m["a"])(u,n,i,!1,null,"5465eab7",null);t["default"]=d.exports},c432:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"publicStyle"},[a("div",{staticClass:"publicStyle-conter"},[a("div",{staticClass:"record"},[a("div",{staticClass:"record-conter"},[a("el-row",{staticClass:"record-top",staticStyle:{"margin-left":"0px","margin-right":"0px"},attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[e._v("\n              123\n          ")])],1)],1)])])])},i=[],o=(a("bbd8"),{name:"",props:[""],data:function(){return{}},components:{},computed:{},beforeMount:function(){},mounted:function(){},methods:{},watch:{}}),r=o,l=(a("82e1"),a("9ca4")),s=Object(l["a"])(r,n,i,!1,null,"6ab7a984",null);t["default"]=s.exports},c7af:function(e,t,a){"use strict";var n=a("6177"),i=a.n(n);i.a},c7e9:function(e,t,a){"use strict";a.r(t);a("9e76"),a("6d57");var n=a("23f1"),i=function(e){return e.keys()},o=/\.\/(.*)\.svg/,r=i(n).map((function(e){return e.match(o)[1]}));t["default"]=r},c81a:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",e._g(e._b({attrs:{"close-on-click-modal":!1,"modal-append-to-body":!1},on:{open:e.onOpen,close:e.onClose}},"el-dialog",e.$attrs,!1),e.$listeners),[a("el-row",{attrs:{gutter:0}},[a("el-form",{ref:"elForm",attrs:{model:e.formData,rules:e.rules,size:"small","label-width":"100px"}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"选项名",prop:"label"}},[a("el-input",{attrs:{placeholder:"请输入选项名",clearable:""},model:{value:e.formData.label,callback:function(t){e.$set(e.formData,"label",t)},expression:"formData.label"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"选项值",prop:"value"}},[a("el-input",{attrs:{placeholder:"请输入选项值",clearable:""},model:{value:e.formData.value,callback:function(t){e.$set(e.formData,"value",t)},expression:"formData.value"}},[a("el-select",{style:{width:"100px"},attrs:{slot:"append"},slot:"append",model:{value:e.dataType,callback:function(t){e.dataType=t},expression:"dataType"}},e._l(e.dataTypeOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value,disabled:e.disabled}})})),1)],1)],1)],1)],1)],1),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.handelConfirm}},[e._v("\n        确定\n      ")]),e._v(" "),a("el-button",{on:{click:e.close}},[e._v("\n        取消\n      ")])],1)],1)],1)},i=[],o=a("ed08"),r={components:{},inheritAttrs:!1,props:[],data:function(){return{id:100,formData:{label:void 0,value:void 0},rules:{label:[{required:!0,message:"请输入选项名",trigger:"blur"}],value:[{required:!0,message:"请输入选项值",trigger:"blur"}]},dataType:"string",dataTypeOptions:[{label:"字符串",value:"string"},{label:"数字",value:"number"}]}},computed:{},watch:{"formData.value":function(e){this.dataType=Object(o["e"])(e)?"number":"string"}},created:function(){},mounted:function(){},methods:{onOpen:function(){this.formData={label:void 0,value:void 0}},onClose:function(){},close:function(){this.$emit("update:visible",!1)},handelConfirm:function(){var e=this;this.$refs.elForm.validate((function(t){t&&("number"===e.dataType&&(e.formData.value=parseFloat(e.formData.value)),e.formData.id=e.id++,e.$emit("commit",e.formData),e.close())}))}}},l=r,s=a("9ca4"),c=Object(s["a"])(l,n,i,!1,null,null,null);t["default"]=c.exports},cafc:function(e,t,a){"use strict";a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return r}));var n=a("b775");function i(e){return Object(n["a"])({url:"/organization/anchorsAudit/ajaxsearch",method:"GET",params:e})}function o(){return Object(n["a"])({url:"/organization/anchorsAudit/groups",method:"GET"})}function r(e){return Object(n["a"])({url:"/union/anchorsAudit/audit",method:"GET",params:e})}},cb53:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"publicStyle"},[a("div",{staticClass:"publicStyle-conter"},[a(e.currentPage,{tag:"component",attrs:{obj:e.obj,"keep-alive":""},on:{changePage:e.changePage}})],1)])},i=[],o=(a("bbd8"),a("64c3")),r={name:"anchors",components:{LIST:o["default"]},data:function(){return{currentPage:"LIST",obj:{},activePage:"LIST"}},methods:{changePage:function(e,t){this.currentPage=e,t&&(this.obj=t)},changeActive:function(e){this.activePage=e,this.changePage(e)}}},l=r,s=(a("f0a8"),a("9ca4")),c=Object(s["a"])(l,n,i,!1,null,"494fcdb2",null);t["default"]=c.exports},cb539:function(e,t,a){},cb57:function(e,t,a){"use strict";var n=a("d69e"),i=a.n(n);i.a},cc6c:function(e,t,a){e.exports=a.p+"static/img/401.089007e7.gif"},cc7f:function(e,t,a){"use strict";var n=a("b2d6"),i=a.n(n);i.a},cdb7:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"参数名称",prop:"configName"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入参数名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.configName,callback:function(t){e.$set(e.queryParams,"configName",t)},expression:"queryParams.configName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"参数键名",prop:"configKey"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入参数键名",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.configKey,callback:function(t){e.$set(e.queryParams,"configKey",t)},expression:"queryParams.configKey"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"系统内置",prop:"configType"}},[a("el-select",{attrs:{placeholder:"系统内置",clearable:"",size:"small"},model:{value:e.queryParams.configType,callback:function(t){e.$set(e.queryParams,"configType",t)},expression:"queryParams.configType"}},e._l(e.typeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"创建时间"}},[a("el-date-picker",{staticStyle:{width:"240px"},attrs:{size:"small","value-format":"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.dateRange,callback:function(t){e.dateRange=t},expression:"dateRange"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:config:add"],expression:"['system:config:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:config:edit"],expression:"['system:config:edit']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:config:remove"],expression:"['system:config:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:config:export"],expression:"['system:config:export']"}],attrs:{type:"warning",icon:"el-icon-download",size:"mini"},on:{click:e.handleExport}},[e._v("导出")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:config:remove"],expression:"['system:config:remove']"}],attrs:{type:"danger",icon:"el-icon-refresh",size:"mini"},on:{click:e.handleClearCache}},[e._v("清理缓存")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.configList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"参数主键",align:"center",prop:"configId"}}),e._v(" "),a("el-table-column",{attrs:{label:"参数名称",align:"center",prop:"configName","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"参数键名",align:"center",prop:"configKey","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"参数键值",align:"center",prop:"configValue"}}),e._v(" "),a("el-table-column",{attrs:{label:"系统内置",align:"center",prop:"configType",formatter:e.typeFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"备注",align:"center",prop:"remark","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createTime)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:config:edit"],expression:"['system:config:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:config:remove"],expression:"['system:config:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"参数名称",prop:"configName"}},[a("el-input",{attrs:{placeholder:"请输入参数名称"},model:{value:e.form.configName,callback:function(t){e.$set(e.form,"configName",t)},expression:"form.configName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"参数键名",prop:"configKey"}},[a("el-input",{attrs:{placeholder:"请输入参数键名"},model:{value:e.form.configKey,callback:function(t){e.$set(e.form,"configKey",t)},expression:"form.configKey"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"参数键值",prop:"configValue"}},[a("el-input",{attrs:{placeholder:"请输入参数键值"},model:{value:e.form.configValue,callback:function(t){e.$set(e.form,"configValue",t)},expression:"form.configValue"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"系统内置",prop:"configType"}},[a("el-radio-group",{model:{value:e.form.configType,callback:function(t){e.$set(e.form,"configType",t)},expression:"form.configType"}},e._l(e.typeOptions,(function(t){return a("el-radio",{key:t.dictValue,attrs:{label:t.dictValue}},[e._v(e._s(t.dictLabel))])})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},i=[],o=a("c0c3"),r={name:"Config",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,configList:[],title:"",open:!1,typeOptions:[],dateRange:[],queryParams:{pageNum:1,pageSize:10,configName:void 0,configKey:void 0,configType:void 0},form:{},rules:{configName:[{required:!0,message:"参数名称不能为空",trigger:"blur"}],configKey:[{required:!0,message:"参数键名不能为空",trigger:"blur"}],configValue:[{required:!0,message:"参数键值不能为空",trigger:"blur"}]}}},created:function(){var e=this;this.getList(),this.getDicts("sys_yes_no").then((function(t){e.typeOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,Object(o["g"])(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.configList=t.rows,e.total=t.total,e.loading=!1}))},typeFormat:function(e,t){return this.selectDictLabel(this.typeOptions,e.configType)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={configId:void 0,configName:void 0,configKey:void 0,configValue:void 0,configType:"Y",remark:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handleAdd:function(){this.reset(),this.open=!0,this.title="添加参数"},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.configId})),this.single=1!=e.length,this.multiple=!e.length},handleUpdate:function(e){var t=this;this.reset();var a=e.configId||this.ids;Object(o["e"])(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改参数"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.configId?Object(o["h"])(e.form).then((function(t){200===t.code&&(e.msgSuccess("修改成功"),e.open=!1,e.getList())})):Object(o["a"])(e.form).then((function(t){200===t.code&&(e.msgSuccess("新增成功"),e.open=!1,e.getList())})))}))},handleDelete:function(e){var t=this,a=e.configId||this.ids;this.$confirm('是否确认删除参数编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["c"])(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有参数数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["d"])(t)})).then((function(t){e.download(t.msg)})).catch((function(){}))},handleClearCache:function(){var e=this;Object(o["b"])().then((function(t){200===t.code&&e.msgSuccess("清理成功")}))}}},l=r,s=a("9ca4"),c=Object(s["a"])(l,n,i,!1,null,null,null);t["default"]=c.exports},d06a:function(e,t,a){"use strict";var n=a("d345"),i=a.n(n);i.a},d094:function(e,t,a){"use strict";var n=a("483a"),i=a.n(n);i.a},d0b2:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"icon-dialog"},[a("el-dialog",e._g(e._b({attrs:{width:"980px","modal-append-to-body":!1},on:{open:e.onOpen,close:e.onClose}},"el-dialog",e.$attrs,!1),e.$listeners),[a("div",{attrs:{slot:"title"},slot:"title"},[e._v("\n      选择图标\n      "),a("el-input",{style:{width:"260px"},attrs:{size:"mini",placeholder:"请输入图标名称","prefix-icon":"el-icon-search",clearable:""},model:{value:e.key,callback:function(t){e.key=t},expression:"key"}})],1),e._v(" "),a("ul",{staticClass:"icon-ul"},e._l(e.iconList,(function(t){return a("li",{key:t,class:e.active===t?"active-item":"",on:{click:function(a){return e.onSelect(t)}}},[a("i",{class:t}),e._v(" "),a("div",[e._v(e._s(t))])])})),0)])],1)},i=[],o=a("de0a"),r=o.map((function(e){return"el-icon-".concat(e)})),l={inheritAttrs:!1,props:["current"],data:function(){return{iconList:r,active:null,key:""}},watch:{key:function(e){this.iconList=e?r.filter((function(t){return t.indexOf(e)>-1})):r}},methods:{onOpen:function(){this.active=this.current,this.key=""},onClose:function(){},onSelect:function(e){this.active=e,this.$emit("select",e),this.$emit("update:visible",!1)}}},s=l,c=(a("4391"),a("9ca4")),u=Object(c["a"])(s,n,i,!1,null,"52da1df2",null);t["default"]=u.exports},d153:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.className,style:{height:e.height,width:e.width}})},i=[],o=a("24ce"),r=a.n(o),l=a("feb2");a("6cbb");var s={mixins:[l["default"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"}},data:function(){return{chart:null}},mounted:function(){var e=this;this.$nextTick((function(){e.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=r.a.init(this.$el,"macarons"),this.chart.setOption({tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{left:"center",bottom:"10",data:["Industries","Technology","Forex","Gold","Forecasts"]},series:[{name:"WEEKLY WRITE ARTICLES",type:"pie",roseType:"radius",radius:[15,95],center:["50%","38%"],data:[{value:320,name:"Industries"},{value:240,name:"Technology"},{value:149,name:"Forex"},{value:100,name:"Gold"},{value:59,name:"Forecasts"}],animationEasing:"cubicInOut",animationDuration:2600}]})}}},c=s,u=a("9ca4"),m=Object(u["a"])(c,n,i,!1,null,null,null);t["default"]=m.exports},d2a7:function(e,t,a){},d345:function(e,t,a){},d618:function(e,t,a){"use strict";var n=a("f07d"),i=a.n(n);i.a},d61f:function(e,t,a){"use strict";var n=a("4a41"),i=a.n(n);i.a},d69e:function(e,t,a){},d7f4:function(e,t,a){},d8af:function(e,t,a){"use strict";var n=a("38d4"),i=a.n(n);i.a},dc53:function(e,t,a){"use strict";var n=a("a8bb"),i=a.n(n);i.a},dced:function(e,t,a){},dd7b:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login-content"},[a("div",{staticClass:"login"},[e._m(0),e._v(" "),a("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{id:"loginForm",model:e.loginForm,rules:e.loginRules}},[a("div",{staticClass:"logoTitle"},[a("h1",{staticClass:"title"},[e._v("主播工会")]),e._v(" "),a("span"),e._v(" "),a("h1",{staticClass:"title"},[e._v("平台登录")])]),e._v(" "),e.loginType?a("el-form-item",{staticStyle:{"margin-top":"25px"},attrs:{prop:"username"}},[a("el-input",{staticClass:"login-input",attrs:{type:"text","auto-complete":"off",placeholder:"请输入账号"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}},[a("svg-icon",{staticClass:"el-input__icon input-icon",staticStyle:{width:"28px",height:"20px","margin-top":"10px","padding-right":"5px","border-right":"1px solid #c0c0c0"},attrs:{slot:"prefix","icon-class":"wbb_zhang"},slot:"prefix"})],1)],1):e._e(),e._v(" "),e.loginType?e._e():a("el-form-item",{staticStyle:{"margin-top":"25px"},attrs:{prop:"mobile"}},[a("el-input",{staticClass:"login-input",attrs:{type:"text",autocomplete:"new-password",placeholder:"请输入手机号"},model:{value:e.loginForm.mobile,callback:function(t){e.$set(e.loginForm,"mobile",t)},expression:"loginForm.mobile"}},[a("svg-icon",{staticClass:"el-input__icon input-icon",staticStyle:{width:"28px",height:"20px","margin-top":"10px","padding-right":"5px","border-right":"1px solid #c0c0c0"},attrs:{slot:"prefix","icon-class":"phone"},slot:"prefix"})],1)],1),e._v(" "),e.loginType?a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{staticClass:"login-input",attrs:{type:"password","auto-complete":"off",placeholder:"请输入密码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}},[a("svg-icon",{staticClass:"el-input__icon input-icon",staticStyle:{width:"28px",height:"20px","margin-top":"10px","padding-right":"5px","border-right":"1px solid #c0c0c0"},attrs:{slot:"prefix","icon-class":"wbb_pas"},slot:"prefix"})],1)],1):e._e(),e._v(" "),e.loginType?e._e():a("el-form-item",{attrs:{prop:"code"}},[a("el-input",{staticClass:"login-input",attrs:{type:"text",autocomplete:"new-password",placeholder:"验证码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}},model:{value:e.loginForm.code,callback:function(t){e.$set(e.loginForm,"code",t)},expression:"loginForm.code"}},[a("svg-icon",{staticClass:"el-input__icon input-icon",staticStyle:{width:"28px",height:"20px","margin-top":"10px","padding-right":"5px","border-right":"1px solid #c0c0c0"},attrs:{slot:"prefix","icon-class":"validCode"},slot:"prefix"}),e._v(" "),a("i",{staticClass:"get-code-button",class:0!==e.time?"disabled-class":"",attrs:{slot:"suffix"},on:{click:function(t){return e.getMessageCode("loginForm")}},slot:"suffix"},[a("span",[e._v("获取手机验证码")]),e._v(" "),e.time?a("span",[e._v(e._s(e.time)+"s")]):e._e()])],1)],1),e._v(" "),a("div",{staticStyle:{display:"flex","justify-content":"space-between",padding:"0 30px","box-sizing":"border-box",height:"30px"}},[a("el-checkbox",{staticStyle:{margin:"0px 0px 25px 0px",color:"#c1c1c1","font-size":"12px"},model:{value:e.loginForm.rememberMe,callback:function(t){e.$set(e.loginForm,"rememberMe",t)},expression:"loginForm.rememberMe"}},[e._v("记住登陆状态")]),e._v(" "),a("div",{staticStyle:{color:"#c1c1c1","font-size":"12px","line-height":"19px",cursor:"pointer"},on:{click:e.forget}},[e._v("忘记密码?")])],1),e._v(" "),a("el-form-item",{staticStyle:{width:"100%","margin-bottom":"0"}},[a("el-button",{staticStyle:{width:"100%"},attrs:{loading:e.loading,size:"medium",type:"primary",id:"loginBtn"},nativeOn:{click:function(t){return t.preventDefault(),e.handleLogin(t)}}},[e.loading?a("span",[e._v("登 录 中...")]):a("span",[e._v("立 即 登 陆")])])],1),e._v(" "),a("p",{staticClass:"login-p"},[e.loginType?e._e():a("span",{on:{click:e.changeType}},[e._v("账户密码登陆")]),e._v(" "),e.loginType?a("span",{on:{click:e.changeType}},[e._v("手机号登陆")]):e._e()])],1)],1)])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login-left hidden-sm-and-down"},[a("div",{staticClass:"login-left-title"},[a("h2",{staticClass:"login-left-h1"},[e._v("主播工会")]),e._v(" "),a("h2",[e._v("后台管理系统")])])])}],o=a("8c92"),r=a.n(o),l=a("509f"),s=a.n(l),c="MIIBUwIBADANBgkqhkiG9w0BAQEFAASCAT0wggE5AgEAAkEA0vfvyTdGJkdbHkB8\nmp0f3FE0GYP3AYPaJF7jUd1M0XxFSE2ceK3k2kw20YvQ09NJKk+OMjWQl9WitG9p\nB6tSCQIDAQABAkA2SimBrWC2/wvauBuYqjCFwLvYiRYqZKThUS3MZlebXJiLB+Ue\n/gUifAAKIg1avttUZsHBHrop4qfJCwAI0+YRAiEA+W3NK/RaXtnRqmoUUkb59zsZ\nUBLpvZgQPfj1MhyHDz0CIQDYhsAhPJ3mgS64NbUZmGWuuNKp5coY2GIj/zYDMJp6\nvQIgUueLFXv/eZ1ekgz2Oi67MNCk5jeTF2BurZqNLR3MSmUCIFT3Q6uHMtsB9Eha\n4u7hS31tj1UWE+D+ADzp59MGnoftAiBeHT7gDMuqeJHPL4b+kC+gzV4FGTfhR9q3\ntTbklZkD2A==";function u(e){var t=new s.a;return t.setPrivateKey(c),t.decrypt(e)}var m=a("7ded"),d=(a("52c1"),{name:"Login",data:function(){return{codeUrl:"",cookiePassword:"",loginType:!0,time:0,interval:"",loginForm:{username:"",password:"",rememberMe:!1,mobile:"",code:"",uuid:""},loginRules:{username:[{required:!0,trigger:"blur",message:"用户名不能为空"}],password:[{required:!0,trigger:"blur",message:"密码不能为空"}],mobile:[{required:!0,message:"请输入手机号",trigger:"blur"},{pattern:/^1(3|4|5|6|7|8|9)\d{9}$/,message:"手机号格式不对",trigger:"blur"}],code:[{required:!0,message:"请输入验证码",trigger:"blur"}]},loading:!1,redirect:void 0}},watch:{$route:{handler:function(e){this.redirect=e.query&&e.query.redirect,this.loginType="false"!==localStorage.getItem("LOGINTYPE")},immediate:!0}},created:function(){},methods:{getCookie:function(){var e=r.a.get("username"),t=r.a.get("password"),a=r.a.get("rememberMe");this.loginForm={username:void 0===e?this.loginForm.username:e,password:void 0===t?this.loginForm.password:u(t),rememberMe:void 0!==a&&Boolean(a)}},getMessageCode:function(e){var t=this;if(this.time)return!1;this.$refs[e].validateField("mobile",(function(e){if(!e){var a={mobile:t.loginForm.mobile};Object(m["b"])(a).then((function(e){0===e.code&&(t.$message.success(e.info),t.time=30,t.interval=setInterval((function(){t.time>0?t.time--:clearInterval(t.interval)}),1e3))}))}}))},handleLogin:function(){var e=this;this.$refs.loginForm.validate((function(t){if(t){e.loading=!0;var a={};e.loginType?(a.password=e.loginForm.password,a.username=e.loginForm.username):(a.mobile=e.loginForm.mobile,a.code=e.loginForm.code),a.loginType=e.loginType,e.$store.dispatch("Login",a).then((function(t){e.loading=!1,0==t.code&&(e.$message.success(t.info),e.$router.push({path:t.data.homepage||"/user/person"}))})).catch((function(){e.loading=!1}))}}))},changeType:function(){var e=JSON.parse(JSON.stringify(this.loginForm));this.loginType=!this.loginType,this.$refs["loginForm"].resetFields(),this.loginForm=e},toRegister:function(){this.$router.push("/register")},forget:function(){this.$router.push("/forget")}}}),p=d,f=(a("66c0a"),a("2c35"),a("3ab6"),a("9ca4")),v=Object(f["a"])(p,n,i,!1,null,"1b5b87aa",null);t["default"]=v.exports},dd7c:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"publicStyle"},[a("div",{staticClass:"publicStyle-conter"},[a(e.currentPage,{tag:"component",attrs:{obj:e.obj,"keep-alive":""},on:{changePage:e.changePage}})],1)])},i=[],o=(a("bbd8"),a("224f")),r={name:"anchors",components:{LIST:o["default"]},data:function(){return{currentPage:"LIST",obj:{},activePage:"LIST"}},methods:{changePage:function(e,t){this.currentPage=e,t&&(this.obj=t)},changeActive:function(e){this.activePage=e,this.changePage(e)}}},l=r,s=(a("2a99"),a("9ca4")),c=Object(s["a"])(l,n,i,!1,null,"29ae760f",null);t["default"]=c.exports},de09:function(e,t,a){"use strict";var n=a("0eed"),i=a.n(n);i.a},de0a:function(e){e.exports=["platform-eleme","eleme","delete-solid","delete","s-tools","setting","user-solid","user","phone","phone-outline","more","more-outline","star-on","star-off","s-goods","goods","warning","warning-outline","question","info","remove","circle-plus","success","error","zoom-in","zoom-out","remove-outline","circle-plus-outline","circle-check","circle-close","s-help","help","minus","plus","check","close","picture","picture-outline","picture-outline-round","upload","upload2","download","camera-solid","camera","video-camera-solid","video-camera","message-solid","bell","s-cooperation","s-order","s-platform","s-fold","s-unfold","s-operation","s-promotion","s-home","s-release","s-ticket","s-management","s-open","s-shop","s-marketing","s-flag","s-comment","s-finance","s-claim","s-custom","s-opportunity","s-data","s-check","s-grid","menu","share","d-caret","caret-left","caret-right","caret-bottom","caret-top","bottom-left","bottom-right","back","right","bottom","top","top-left","top-right","arrow-left","arrow-right","arrow-down","arrow-up","d-arrow-left","d-arrow-right","video-pause","video-play","refresh","refresh-right","refresh-left","finished","sort","sort-up","sort-down","rank","loading","view","c-scale-to-original","date","edit","edit-outline","folder","folder-opened","folder-add","folder-remove","folder-delete","folder-checked","tickets","document-remove","document-delete","document-copy","document-checked","document","document-add","printer","paperclip","takeaway-box","search","monitor","attract","mobile","scissors","umbrella","headset","brush","mouse","coordinate","magic-stick","reading","data-line","data-board","pie-chart","data-analysis","collection-tag","film","suitcase","suitcase-1","receiving","collection","files","notebook-1","notebook-2","toilet-paper","office-building","school","table-lamp","house","no-smoking","smoking","shopping-cart-full","shopping-cart-1","shopping-cart-2","shopping-bag-1","shopping-bag-2","sold-out","sell","present","box","bank-card","money","coin","wallet","discount","price-tag","news","guide","male","female","thumb","cpu","link","connection","open","turn-off","set-up","chat-round","chat-line-round","chat-square","chat-dot-round","chat-dot-square","chat-line-square","message","postcard","position","turn-off-microphone","microphone","close-notification","bangzhu","time","odometer","crop","aim","switch-button","full-screen","copy-document","mic","stopwatch","medal-1","medal","trophy","trophy-1","first-aid-kit","discover","place","location","location-outline","location-information","add-location","delete-location","map-location","alarm-clock","timer","watch-1","watch","lock","unlock","key","service","mobile-phone","bicycle","truck","ship","basketball","football","soccer","baseball","wind-power","light-rain","lightning","heavy-rain","sunrise","sunrise-1","sunset","sunny","cloudy","partly-cloudy","cloudy-and-sunny","moon","moon-night","dish","dish-1","food","chicken","fork-spoon","knife-fork","burger","tableware","sugar","dessert","ice-cream","hot-water","water-cup","coffee-cup","cold-drink","goblet","goblet-full","goblet-square","goblet-square-full","refrigerator","grape","watermelon","cherry","apple","pear","orange","coffee","ice-tea","ice-drink","milk-tea","potato-strips","lollipop","ice-cream-square","ice-cream-round"]},de2e:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"record"},[a("div",{staticClass:"record-conter"},[a("el-row",{staticClass:"record-top",staticStyle:{"margin-left":"0px","margin-right":"0px"},attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[a("el-form-item",{attrs:{label:"手机号："}},[a("el-input",{attrs:{placeholder:"请输入手机号",clearable:"",size:"mini"},on:{clear:e.onSubmit},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit(t)}},model:{value:e.formInline.orderNo,callback:function(t){e.$set(e.formInline,"orderNo","string"===typeof t?t.trim():t)},expression:"formInline.orderNo"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.onSubmit}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-d-arrow-left",size:"mini"},on:{click:function(t){return e.handlePrev("prev")}}},[e._v("前一天")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.handlePrev("next")}}},[e._v("\n              后一天\n              "),a("span",{staticClass:"el-icon-d-arrow-right"})])],1)],1)],1)],1),e._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"dark","row-key":"proprId"},on:{"sort-change":e.sortChange}},[a("el-table-column",{attrs:{type:"index","min-width":"50",label:"编号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status","min-width":"50",label:"审核状态"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status","min-width":"50",label:"用户"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status","min-width":"50",label:"年龄"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status","min-width":"50",label:"地区"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status","min-width":"50",label:"相册"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status","min-width":"50",label:"自拍认证"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status","min-width":"50",label:"动态视频"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status","min-width":"50",label:"声音认证"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status","min-width":"50",label:"身份证照片"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status","min-width":"50",label:"身份证号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status","min-width":"50",label:"审核"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("a",{staticStyle:{"margin-right":"3px",color:"rgb(24, 144, 255)"},attrs:{href:"javascript:;"},on:{click:function(a){return e.openChattingRecords(t.row.id)}}},[e._v("审核")])]}}])},[a("template",{slot:"header"},[a("span",[e._v("审核")]),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"提示文字",placement:"top"}},[a("i",{staticClass:"el-icon-question icon-color"})])],1)],2)],1),e._v(" "),a("my-pagination",{directives:[{name:"show",rawName:"v-show",value:e.totalNum>0,expression:"totalNum>0"}],attrs:{total:e.totalNum,page:e.formInline.pageNum,limit:e.formInline.pageSize,ext_stat:e.ext_stat},on:{"update:page":function(t){return e.$set(e.formInline,"pageNum",t)},"update:limit":function(t){return e.$set(e.formInline,"pageSize",t)},pagination:e.getOnlineList}})],1),e._v(" "),a("el-dialog",{attrs:{id:"owner-dialog",title:"绑定主播到公会",visible:e.bindDialog,width:"500px","custom-class":"common-dialog"},on:{close:function(t){return e.resetForm("ruleForm")},"update:visible":function(t){e.bindDialog=t}}},[a("el-form",{ref:"ruleForm",attrs:{rules:e.rules,model:e.bindForm,"label-width":"80px","label-position":"right"}},[a("el-form-item",{attrs:{label:"主播手机",prop:"proprName"}},[a("el-input",{attrs:{maxlength:"11",placeholder:"请输入手机号"},model:{value:e.bindForm.proprName,callback:function(t){e.$set(e.bindForm,"proprName",t)},expression:"bindForm.proprName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"验证码",prop:"proprMobile"}},[a("el-row",[a("el-col",{staticStyle:{"margin-right":"10px"},attrs:{span:10}},[a("el-input",{attrs:{maxlength:"10",placeholder:"请输入验证码"},model:{value:e.bindForm.proprMobile,callback:function(t){e.$set(e.bindForm,"proprMobile",t)},expression:"bindForm.proprMobile"}})],1),e._v(" "),a("el-col",{attrs:{span:10}},[a("el-button",{staticStyle:{width:"100%"},attrs:{type:"success"}},[e._v("获取手机验证码")])],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"owner-dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.bindDialog=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("确定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{id:"owner-dialog",width:"865px",visible:e.chattingRecordsDialog,"show-close":!1,"custom-class":"chattingRecords"},on:{close:function(t){return e.resetForm("ruleForm")},"update:visible":function(t){e.chattingRecordsDialog=t}}},[a("chattingRecords",{attrs:{id:e.chattingRecordsForm.id},on:{closeDialog:e.closeDialog}})],1)],1)},i=[],o=a("4458"),r={name:"record",components:{chattingRecords:o["default"]},data:function(){return{totalNum:0,formInline:{lawyerType:3,propId:"",orderNo:"",entrustStatus:"",orderByColumn:"id",isAsc:"desc",beginTime:"",endTime:"",pageSize:10,pageNum:1},startOptions:{disabledDate:!1},endOptions:{disabledDate:!1},tableData:[{anchor:{name:"纳豆nado",profile:"profile.jpg",gender:0,online:0}}],bindDialog:!1,bindForm:{},chattingRecordsDialog:!1,chattingRecordsForm:{id:""}}},created:function(){this.formInline.date.startday=this.getDateNow()[0],this.formInline.date.endday=this.getDateNow()[1]},methods:{see:function(e){var t={id:e.id,orderNo:e.orderNo};this.$emit("changePage","SEE",t)},onSubmit:function(){this.getOnlineList()},getOnlineList:function(){var e=this,t=JSON.parse(JSON.stringify(this.formInline));t.startday=t.date.startday,t.endday=t.date.endday,t.offset=(t.pageNum-1)*t.pageSize,delete t.date,list(t).then((function(t){200===t.code&&(e.tableData=t.data.items,e.ext_stat=t.data.ext_stat,e.totalNum=+t.data.total_rows)}))},sortChange:function(e){e.column;var t=e.prop,a=e.order;console.log(a),this.formInline.orderByColumn=t;var n="DESC";"ascending"===a&&(n="ASC"),this.formInline.isAsc=n},handleSizeChange:function(e){this.formInline.pageNum=1,this.formInline.pageSize=e,this.getOnlineList()},handleCurrentChange:function(e){this.formInline.pageNum=e,this.getOnlineList()},handlePrev:function(e){this.prevDate(this.formInline.date,e),this.getOnlineList()},auditById:function(e,t){var a=this;this.$confirm("审核通过后无法再更改审核状态，是否确定审核通过？","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var n={id:e.id,data:{entrustStatus:t}};examineStatusEdit(n).then((function(e){200===e.code?(a.$message.success({message:"变更成功!"}),a.getOnlineList()):500===e.code&&a.$message.error({message:e.msg})}))})).catch((function(){}))},openChattingRecords:function(e){this.chattingRecordsForm.id=e,this.chattingRecordsDialog=!0},closeDialog:function(e){this.chattingRecordsDialog=e},handleExport:function(){var e=this,t=JSON.parse(JSON.stringify(this.formInline));t.beginTime||delete t.beginTime,t.endTime||delete t.endTime,t.pageSize=9999999999,this.$confirm("是否确认导出所有数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return onlineExport(t)})).then((function(t){e.download(t.msg)})).catch((function(){}))},downloadPDF:function(e){var t=this;this.$confirm("是否确认下载pdf文件?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){onlineDownloadPDF(e).then((function(e){t.downloadBlob(e,"律师函.zip")})).catch((function(e){console.log(e)}))})).catch((function(){}))}}},l=r,s=(a("64f8"),a("6c6b7"),a("af0e"),a("9ca4")),c=Object(s["a"])(l,n,i,!1,null,"650b8409",null);t["default"]=c.exports},dedc:function(e,t,a){"use strict";var n=a("1da1"),i=a.n(n);i.a},e0d5:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"publicStyle"},[a("div",{staticClass:"publicStyle-conter"},[a(e.currentPage,{tag:"component",attrs:{obj:e.obj,"keep-alive":""},on:{changePage:e.changePage}})],1)])},i=[],o=(a("bbd8"),a("2b90")),r={name:"anchors",components:{LIST:o["default"]},data:function(){return{currentPage:"LIST",obj:{},activePage:"LIST"}},methods:{changePage:function(e,t){this.currentPage=e,t&&(this.obj=t)},changeActive:function(e){this.activePage=e,this.changePage(e)}}},l=r,s=(a("0cfa"),a("9ca4")),c=Object(s["a"])(l,n,i,!1,null,"0aff7756",null);t["default"]=c.exports},e1bd:function(e,t,a){"use strict";var n=a("c138"),i=a.n(n);i.a},e266:function(e,t,a){"use strict";var n=a("af7d"),i=a.n(n);i.a},e474:function(e,t,a){"use strict";var n=a("0ab7"),i=a.n(n);i.a},e4c6:function(e,t,a){"use strict";var n=a("9073"),i=a.n(n);i.a},eab4:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.className,style:{height:e.height,width:e.width}})},i=[],o=a("24ce"),r=a.n(o),l=a("feb2");a("6cbb");var s={mixins:[l["default"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"350px"},autoResize:{type:Boolean,default:!0},chartData:{type:Object,required:!0}},data:function(){return{chart:null}},watch:{chartData:{deep:!0,handler:function(e){this.setOptions(e)}}},mounted:function(){var e=this;this.$nextTick((function(){e.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=r.a.init(this.$el,"macarons"),this.setOptions(this.chartData)},setOptions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.expectedData,a=e.actualData;this.chart.setOption({xAxis:{data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],boundaryGap:!1,axisTick:{show:!1}},grid:{left:10,right:10,bottom:20,top:30,containLabel:!0},tooltip:{trigger:"axis",axisPointer:{type:"cross"},padding:[5,10]},yAxis:{axisTick:{show:!1}},legend:{data:["expected","actual"]},series:[{name:"expected",itemStyle:{normal:{color:"#FF005A",lineStyle:{color:"#FF005A",width:2}}},smooth:!0,type:"line",data:t,animationDuration:2800,animationEasing:"cubicInOut"},{name:"actual",smooth:!0,type:"line",itemStyle:{normal:{color:"#3888fa",lineStyle:{color:"#3888fa",width:2},areaStyle:{color:"#f3f8ff"}}},data:a,animationDuration:2800,animationEasing:"quadraticOut"}]})}}},c=s,u=a("9ca4"),m=Object(u["a"])(c,n,i,!1,null,null,null);t["default"]=m.exports},eb5b:function(e,t,a){},eb6b:function(e,t,a){"use strict";var n=a("3dc7"),i=a.n(n);i.a},ec55:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"errPage-container"},[a("el-button",{staticClass:"pan-back-btn",attrs:{icon:"arrow-left"},on:{click:e.back}},[e._v("\n    返回\n  ")]),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("h1",{staticClass:"text-jumbo text-ginormous"},[e._v("\n        401错误!\n      ")]),e._v(" "),a("h2",[e._v("您没有访问权限！")]),e._v(" "),a("h6",[e._v("对不起，您没有访问权限，请不要进行非法操作！您可以返回主页面")]),e._v(" "),a("ul",{staticClass:"list-unstyled"},[a("li",{staticClass:"link-type"},[a("router-link",{attrs:{to:"/"}},[e._v("\n            回首页\n          ")])],1)])]),e._v(" "),a("el-col",{attrs:{span:12}},[a("img",{attrs:{src:e.errGif,width:"313",height:"428",alt:"Girl has dropped her ice cream."}})])],1)],1)},i=[],o=a("cc6c"),r=a.n(o),l={name:"Page401",data:function(){return{errGif:r.a+"?"+ +new Date}},methods:{back:function(){this.$route.query.noGoBack?this.$router.push({path:"/"}):this.$router.go(-1)}}},s=l,c=(a("9800"),a("9ca4")),u=Object(c["a"])(s,n,i,!1,null,"2ebd819d",null);t["default"]=u.exports},ecb2:function(e,t,a){},ed31:function(e,t,a){},ed45:function(e,t,a){"use strict";a.d(t,"f",(function(){return i})),a.d(t,"e",(function(){return o})),a.d(t,"a",(function(){return r})),a.d(t,"h",(function(){return l})),a.d(t,"c",(function(){return s})),a.d(t,"b",(function(){return c})),a.d(t,"d",(function(){return u})),a.d(t,"g",(function(){return m}));var n=a("b775");function i(e){return Object(n["a"])({url:"/system/dict/type/list",method:"get",params:e})}function o(e){return Object(n["a"])({url:"/system/dict/type/"+e,method:"get"})}function r(e){return Object(n["a"])({url:"/system/dict/type",method:"post",data:e})}function l(e){return Object(n["a"])({url:"/system/dict/type",method:"put",data:e})}function s(e){return Object(n["a"])({url:"/system/dict/type/"+e,method:"delete"})}function c(){return Object(n["a"])({url:"/system/dict/type/clearCache",method:"delete"})}function u(e){return Object(n["a"])({url:"/system/dict/type/export",method:"get",params:e})}function m(){return Object(n["a"])({url:"/system/dict/type/optionselect",method:"get"})}},ed69:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"basicInfoForm",attrs:{model:e.info,rules:e.rules,"label-width":"150px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"表名称",prop:"tableName"}},[a("el-input",{attrs:{placeholder:"请输入仓库名称"},model:{value:e.info.tableName,callback:function(t){e.$set(e.info,"tableName",t)},expression:"info.tableName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"表描述",prop:"tableComment"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.info.tableComment,callback:function(t){e.$set(e.info,"tableComment",t)},expression:"info.tableComment"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"实体类名称",prop:"className"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.info.className,callback:function(t){e.$set(e.info,"className",t)},expression:"info.className"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"作者",prop:"functionAuthor"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.info.functionAuthor,callback:function(t){e.$set(e.info,"functionAuthor",t)},expression:"info.functionAuthor"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",rows:3},model:{value:e.info.remark,callback:function(t){e.$set(e.info,"remark",t)},expression:"info.remark"}})],1)],1)],1)],1)},i=[],o={name:"BasicInfoForm",props:{info:{type:Object,default:null}},data:function(){return{rules:{tableName:[{required:!0,message:"请输入表名称",trigger:"blur"}],tableComment:[{required:!0,message:"请输入表描述",trigger:"blur"}],className:[{required:!0,message:"请输入实体类名称",trigger:"blur"}],functionAuthor:[{required:!0,message:"请输入作者",trigger:"blur"}]}}}},r=o,l=a("9ca4"),s=Object(l["a"])(r,n,i,!1,null,null,null);t["default"]=s.exports},ed7c:function(e,t,a){},ee46:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"form",attrs:{model:e.user,rules:e.rules,"status-icon":"","label-width":"80px"}},[a("el-form-item",{attrs:{label:"旧密码",prop:"oldPassword"}},[a("el-input",{attrs:{placeholder:"请输入旧密码",type:"password"},model:{value:e.user.oldPassword,callback:function(t){e.$set(e.user,"oldPassword",t)},expression:"user.oldPassword"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"新密码",prop:"newPassword"}},[a("el-input",{attrs:{placeholder:"请输入新密码",type:"password"},model:{value:e.user.newPassword,callback:function(t){e.$set(e.user,"newPassword",t)},expression:"user.newPassword"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"确认密码",prop:"confirmPassword"}},[a("el-input",{attrs:{placeholder:"请确认密码",type:"password"},model:{value:e.user.confirmPassword,callback:function(t){e.$set(e.user,"confirmPassword",t)},expression:"user.confirmPassword"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.submit}},[e._v("保存")])],1)],1)},i=[],o=a("c0c7"),r={data:function(){var e=this,t=function(t,a,n){e.user.newPassword!==a?n(new Error("两次输入的密码不一致")):n()},a=function(e,t,a){if(t){var n={valid:"oripasswd",oripasswd:t};Object(o["n"])(n).then((function(e){setTimeout((function(){0===e.code?a():a(new Error(e.info))}),800)}))}else a(new Error("旧密码不能为空"))};return{test:"1test",user:{oldPassword:void 0,newPassword:void 0,confirmPassword:void 0},rules:{oldPassword:[{required:!0,validator:a,trigger:"blur"}],newPassword:[{required:!0,message:"新密码不能为空",trigger:"blur"},{min:6,max:20,message:"长度在 6 到 20 个字符",trigger:"blur"}],confirmPassword:[{required:!0,message:"确认密码不能为空",trigger:"blur"},{required:!0,validator:t,trigger:"blur"}]}}},methods:{submit:function(){var e=this;this.$refs["form"].validate((function(t){if(t){var a={oripasswd:e.user.oldPassword,passwd:e.user.newPassword,confirmpasswd:e.user.confirmPassword,save:"save"};Object(o["l"])(a).then((function(t){0===t.code&&e.msgSuccess("修改成功")}))}}))},close:function(){this.$store.dispatch("tagsView/delView",this.$route),this.$router.push({path:"/index"})}}},l=r,s=a("9ca4"),c=Object(s["a"])(l,n,i,!1,null,null,null);t["default"]=c.exports},f000:function(e,t,a){},f07c:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.className,staticStyle:{"min-width":"1400px"},style:{height:e.height,width:e.width}})},i=[],o=a("24ce"),r=a.n(o),l=a("feb2");a("6cbb");var s=6e3,c={mixins:[l["default"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"},chartData:{type:Object,default:{}}},data:function(){return{chart:null}},mounted:function(){var e=this;this.$nextTick((function(){e.initChart()}))},watch:{chartData:function(e){e.num&&this.initChart()}},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=r.a.init(this.$el,"macarons"),this.setOptions(this.chartData)},setOptions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.chart.setOption({tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:["订单数","人数"]},grid:{top:10,left:"2%",right:"2%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:e.categories,axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value",axisTick:{show:!1}}],series:[{name:"订单数",type:"bar",barWidth:"30%",barMinHeight:5,data:e.num&&e.num.data||[],animationDuration:s},{name:"人数",type:"bar",barWidth:"30%",barMinHeight:5,data:e.users&&e.users.data||[],animationDuration:s}]})}}},u=c,m=a("9ca4"),d=Object(m["a"])(u,n,i,!1,null,null,null);t["default"]=d.exports},f07d:function(e,t,a){},f0a8:function(e,t,a){"use strict";var n=a("1e58"),i=a.n(n);i.a},f4b6:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"publicStyle"},[a("div",{staticClass:"publicStyle-conter"},[a("div",{staticClass:"record"},[a("div",{staticClass:"record-conter"},[a("el-row",{staticClass:"record-top",staticStyle:{"margin-left":"0px","margin-right":"0px"},attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[a("el-form-item",{attrs:{label:""}},[a("el-button",{attrs:{icon:"el-icon-plus",type:"success",size:"mini",title:"新增"},on:{click:function(t){return e.openDialog("新增菜单")}}},[e._v("新增菜单")])],1)],1)],1)],1),e._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"dark","row-key":"menuId"}},[a("el-table-column",{attrs:{prop:"menuName","class-name":"table_col_menu",align:"left","show-overflow-tooltip":"","min-width":"80px",label:"菜单名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"icon","show-overflow-tooltip":"","min-width":"80px",label:"图标"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("svg-icon",{attrs:{"icon-class":e.row.icon}})]}}])}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"orderNum",label:"排序","min-width":"120px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"menuType",label:"权限标识","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"component",label:"组件路径","min-width":"80px","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"component",label:"可见","min-width":"80px","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s("0"===t.row.visible?"隐藏":"可见"))]}}])}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"createTime",label:"创建时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.parseTime(t.row.createTime)))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作","min-width":"120px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticStyle:{"margin-bottom":"5px"},attrs:{icon:"el-icon-plus",size:"mini",title:"新增"},on:{click:function(a){return e.openDialog("新增菜单",t.row.menuId)}}}),e._v(" "),a("el-button",{staticStyle:{"margin-bottom":"5px"},attrs:{icon:"el-icon-edit",type:"primary",size:"mini",title:"编辑",plain:""},on:{click:function(a){return e.openDialog("编辑菜单",t.row.menuId)}}}),e._v(" "),a("el-button",{staticStyle:{"margin-bottom":"5px"},attrs:{icon:"el-icon-delete",type:"danger",size:"mini",title:"删除",plain:""},on:{click:function(a){return e.deleteMenu(t.row)}}})]}}])})],1)],1)])]),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"600px","custom-class":"common-dialog"},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"上级菜单"}},[a("treeselect",{attrs:{options:e.menuOptions,"show-count":!0,placeholder:"选择上级菜单"},model:{value:e.form.parentId,callback:function(t){e.$set(e.form,"parentId",t)},expression:"form.parentId"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"菜单类型",prop:"menuType"}},[a("el-radio-group",{model:{value:e.form.menuType,callback:function(t){e.$set(e.form,"menuType",t)},expression:"form.menuType"}},[a("el-radio",{attrs:{label:"M"}},[e._v("目录")]),e._v(" "),a("el-radio",{attrs:{label:"C"}},[e._v("菜单")]),e._v(" "),a("el-radio",{attrs:{label:"F"}},[e._v("按钮")])],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},["F"!=e.form.menuType?a("el-form-item",{attrs:{label:"菜单图标"}},[a("el-popover",{attrs:{placement:"bottom-start",width:"460",trigger:"click"},on:{show:function(t){return e.$refs["iconSelect"].reset()}}},[a("iconSelect",{ref:"iconSelect",on:{selected:e.selected}}),e._v(" "),a("el-input",{attrs:{slot:"reference",placeholder:"点击选择图标",readonly:""},slot:"reference",model:{value:e.form.icon,callback:function(t){e.$set(e.form,"icon",t)},expression:"form.icon"}},[e.form.icon?a("svg-icon",{staticClass:"el-input__icon",staticStyle:{height:"32px",width:"16px"},attrs:{slot:"prefix","icon-class":e.form.icon},slot:"prefix"}):a("i",{staticClass:"el-icon-search el-input__icon",attrs:{slot:"prefix"},slot:"prefix"})],1)],1)],1):e._e()],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"菜单名称",prop:"menuName"}},[a("el-input",{attrs:{placeholder:"请输入菜单名称"},model:{value:e.form.menuName,callback:function(t){e.$set(e.form,"menuName",t)},expression:"form.menuName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"显示排序",prop:"orderNum"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.form.orderNum,callback:function(t){e.$set(e.form,"orderNum",t)},expression:"form.orderNum"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},["F"!=e.form.menuType?a("el-form-item",{attrs:{label:"是否外链"}},[a("el-radio-group",{model:{value:e.form.isFrame,callback:function(t){e.$set(e.form,"isFrame",t)},expression:"form.isFrame"}},[a("el-radio",{attrs:{label:"0"}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:"1"}},[e._v("否")])],1)],1):e._e()],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"路由地址",prop:"path"}},[a("el-input",{attrs:{placeholder:"请输入路由地址"},model:{value:e.form.path,callback:function(t){e.$set(e.form,"path",t)},expression:"form.path"}})],1)],1),e._v(" "),"C"==e.form.menuType?a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"组件路径",prop:"component"}},[a("el-input",{attrs:{placeholder:"请输入组件路径"},model:{value:e.form.component,callback:function(t){e.$set(e.form,"component",t)},expression:"form.component"}})],1)],1):e._e(),e._v(" "),a("el-col",{attrs:{span:12}},["F"==e.form.menuType?a("el-form-item",{attrs:{label:"权限标识"}},[a("el-input",{attrs:{placeholder:"请权限标识",maxlength:"50"},model:{value:e.form.perms,callback:function(t){e.$set(e.form,"perms",t)},expression:"form.perms"}})],1):e._e()],1),e._v(" "),a("el-col",{attrs:{span:24}},["F"!=e.form.menuType?a("el-form-item",{attrs:{label:"菜单状态"}},[a("el-radio-group",{model:{value:e.form.visible,callback:function(t){e.$set(e.form,"visible",t)},expression:"form.visible"}},e._l(e.visibleOptions,(function(t){return a("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1)],1):e._e()],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},i=[],o=(a("bbd8"),a("a6dc")),r=a("7d66"),l=a.n(r),s=(a("5166"),a("5aee")),c=[{value:"1",label:"显示"},{value:"0",label:"隐藏"}],u={name:"Menu",components:{treeselect:l.a,iconSelect:s["a"]},data:function(){return{visibleOptions:c,totalNum:0,formInline:{menuName:""},tableData:[],menuOptions:[],title:"",open:!1,form:{},rules:{menuName:[{required:!0,message:"菜单名称不能为空",trigger:"blur"}],orderNum:[{required:!0,message:"菜单顺序不能为空",trigger:"blur"}]}}},computed:{},beforeMount:function(){},created:function(){this.getList()},mounted:function(){},methods:{selected:function(e){this.form.icon=e},onSubmit:function(){this.getList()},getList:function(){var e=this,t=JSON.parse(JSON.stringify(this.formInline));Object(o["e"])(t).then((function(t){0===t.code&&(e.tableData=t.data)}))},getTreeselect:function(){var e=this;Object(o["d"])().then((function(t){e.menuOptions=[];var a={id:0,label:"主类目",children:[]};a.children=t.data,e.menuOptions.push(a)}))},openDialog:function(e,t){var a=this;if(this.reset(),this.getTreeselect(),this.title=e,"新增菜单"===e)t&&(this.form.parentId=t),this.open=!0;else{if("编辑菜单"!==e)return!1;Object(o["c"])(t).then((function(e){a.form=e.data,a.open=!0}))}},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){if(t)if("M"===e.form.menuType&&(e.form.component=""),console.log(e.form),"编辑菜单"===e.title)Object(o["h"])(e.form).then((function(t){0===t.code?(e.msgSuccess("修改成功"),e.open=!1,e.getList()):e.msgError(t.msg)}));else{if("新增菜单"!==e.title)return!1;Object(o["a"])(e.form).then((function(t){0===t.code?(e.msgSuccess("新增成功"),e.open=!1,e.getList()):e.msgError(t.msg)}))}}))},cancel:function(){this.reset(),this.open=!1},reset:function(){this.form={menuId:"",parentId:0,menuName:"",icon:"",menuType:"M",orderNum:"",isFrame:"1",visible:"1"},this.resetForm("form")},deleteMenu:function(e){var t=this;this.$confirm("是否确认删除名称为 ".concat(e.menuName," 的数据项?"),"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["b"])(e.menuId)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))}},watch:{}},m=u,d=(a("5bbb"),a("e266"),a("9ca4")),p=Object(d["a"])(m,n,i,!1,null,"e9cc4a56",null);t["default"]=p.exports},f6be:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{id:"owner-dialog",width:"865px",visible:e.chattingRecordsDialog,"show-close":!1,"custom-class":"chattingRecords"},on:{"update:visible":function(t){e.chattingRecordsDialog=t}}},[a("el-container",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"chatting-records"},[a("div",{staticClass:"anchor-info"},[a("el-popover",{attrs:{placement:"left",trigger:"click"}},[a("div",{staticClass:"hover-anchor-info"},[a("div",{staticClass:"hover-anchor-info-left"},[a("div",{staticClass:"anchor-info-id"},[a("span",[e._v("ID:"+e._s(e.anchorForm.userid))]),e._v(" "),"ios"===e.anchorForm.platform?a("span",{staticClass:"iconfont icon-ios"}):a("span",{staticClass:"iconfont icon-anzhuo"})]),e._v(" "),a("div",{staticClass:"anchor-info-name"},["1"===e.anchorForm.gender?a("span",{staticClass:"iconfont icon-nan icon-gender-men"}):a("span",{staticClass:"iconfont icon-nan icon-gender-women"}),e._v(" "),a("span",{staticClass:"visitor-info-name"},[e._v(e._s(e.anchorForm.nickname))]),e._v(" "),a("span",{staticClass:"anchor-info-username"},[e._v("["+e._s(e.anchorForm.username)+"]")])]),e._v(" "),a("div",{staticClass:"anchor-info-information"},[a("span",{staticClass:"anchor-info-age"},[e._v(e._s(e.anchorForm.age)+"岁")]),e._v(" "),a("span",[e._v("|")]),e._v(" "),a("span",{staticClass:"anchor-info-level"},[e._v("LV"+e._s(e.anchorForm.charm_level))]),e._v(" "),a("span",[e._v("|")]),e._v(" "),a("span",{staticClass:"anchor-info-address"},[e._v(e._s(e.anchorForm.location_lastloginip))])]),e._v(" "),a("div",{staticClass:"anchor-info-picture-box"},[a("img",{staticClass:"picture",attrs:{src:e.anchorForm.avatar,alt:""}})]),e._v(" "),a("div",{staticClass:"anchor-info-detail-buttons"},[a("div",{staticClass:"anchor-info-detail-buttons-first"},[a("div",{staticClass:"link-button to-call-records cursor",on:{click:function(t){return e.navigateTo("union/callRecords",e.anchorForm.username)}}},[e._v("通话记录")]),e._v(" "),a("div",{staticClass:"link-button to-diamonds cursor",on:{click:function(t){return e.navigateTo("union/diamonds",e.anchorForm.username)}}},[e._v("钻石流水")])])])]),e._v(" "),a("div",{staticClass:"hover-anchor-info-right"},[a("el-form",{ref:"ruleForm",attrs:{model:e.anchorForm,"label-width":"80px","label-position":"right"}},[a("el-form-item",{attrs:{label:"工会备注",prop:"remark"}},[a("span",{staticClass:"form-item-content"},[e._v(e._s(e.anchorForm.group_memo))])]),e._v(" "),a("el-form-item",{attrs:{label:"手机号",prop:"mobile"}},[a("span",{staticClass:"form-item-content"},[e._v(e._s(e.anchorForm.mobile))])]),e._v(" "),a("el-form-item",{attrs:{label:"魅力值",prop:"charm"}},[a("span",{staticClass:"form-item-content"},[e._v(e._s(e.format(e.anchorForm.charm)))])]),e._v(" "),a("el-form-item",{attrs:{label:"钻石余额",prop:"diamonds"}},[a("span",{staticClass:"form-item-content"},[e._v(e._s(e.format(e.anchorForm.diamonds)))])]),e._v(" "),a("el-form-item",{attrs:{label:"注册",prop:"createdTime"}},[a("span",{staticClass:"form-item-content"},[e._v(e._s(e.anchorForm.registertime))])]),e._v(" "),a("el-form-item",{attrs:{label:"登陆",prop:"loginTime"}},[a("span",{staticClass:"form-item-content"},[e._v(e._s(e.anchorForm.lastlogintime))])]),e._v(" "),a("el-form-item",{attrs:{label:"会员到期",prop:"expirationTime"}},[a("span",{staticClass:"form-item-content"},[e._v(e._s(e.anchorForm.user_vip_time))])])],1)],1)]),e._v(" "),a("div",{staticClass:"profile-box cursor",attrs:{slot:"reference"},slot:"reference"},[e.anchorForm.online?a("span",{staticClass:"profile-status"}):a("span",{staticClass:"profile-status outline"}),e._v(" "),a("img",{staticClass:"profile",attrs:{src:e.anchorForm.avatar,alt:""}})])])],1),e._v(" "),a("el-aside",{staticClass:"chatting-aside",staticStyle:{"background-color":"#e7e7e7"},attrs:{width:"250px"}},[a("el-row",[a("el-col",{ref:"visitor",staticClass:"visitor"},e._l(e.friendList,(function(t,n){return a("el-row",{key:n,staticClass:"visitor-item cursor",class:t.userid===e.checkedUser.userid?"active":"",nativeOn:{click:function(a){return e.checkChatting(t)}}},[a("el-col",{staticClass:"visitor-info-box"},[a("div",{staticClass:"profile-box"},[t.online?a("span",{staticClass:"profile-status outline"}):a("span",{staticClass:"profile-status"}),e._v(" "),a("img",{staticClass:"profile",attrs:{src:t.avatar,alt:""}})]),e._v(" "),a("div",{staticClass:"visitor-info"},[a("div",{staticClass:"visitor-info-header"},["1"===t.gender?a("span",{staticClass:"iconfont icon-nan icon-gender-men"}):a("span",{staticClass:"iconfont icon-nan icon-gender-women"}),e._v(" "),a("span",{staticClass:"visitor-info-name"},[e._v(e._s(t.nickname))]),e._v(" "),a("span",{staticClass:"chatting-created-time"},[e._v(e._s(e.msgTime(t.lastmsg.msgTime)))])]),e._v(" "),a("div",{staticClass:"visitor-info-content"},[e._v(e._s(e.msgType(t.lastmsg)))])])])],1)})),1)],1)],1),e._v(" "),a("el-container",{staticClass:"chat-window"},[a("el-header",{staticClass:"chat-window-header",staticStyle:{"text-align":"right","font-size":"10px"}},[a("span",{staticClass:"iconfont icon-guding icon-font-size icon-top-right"}),e._v(" "),a("span",{staticClass:"iconfont icon-minimum icon-font-size icon-top-right"}),e._v(" "),a("span",{staticClass:"iconfont icon-fangkuang icon-font-size icon-top-right"}),e._v(" "),a("span",{staticClass:"iconfont icon-cha icon-font-size icon-close-button cursor",on:{click:e.close}}),e._v(" "),a("span",{staticClass:"visitor-nickname"},[e._v(e._s(e.checkedUser.nickname))])]),e._v(" "),a("el-main",{ref:"chatting-main",staticClass:"chat-window-content"},[a("div",{ref:"chatting-content"},[a("div",{staticClass:"loadmore cursor",on:{click:e.loadMore}},["加载中..."===e.loadText?a("span",{staticClass:"el-icon-loading"}):e._e(),e._v("\n            "+e._s(e.loadText)+"\n          ")]),e._v(" "),e._l(e.chattingRecords,(function(t,n){return a("div",{key:n,staticClass:"chatt-records-item-box"},[t.showTime?a("div",{staticClass:"chatting-time"},[e._v(e._s(t.createdTime))]):e._e(),e._v(" "),a("div",{staticClass:"chatt-records-item",class:t.fromid===e.anchorForm.userid?"visitor-chatt-records":"anchor-chatt-records"},[a("div",{staticClass:"profile-box"},[a("img",{staticClass:"profile",attrs:{src:t.fromid===e.anchorForm.userid?t.f_avatar:t.t_avatar,alt:""}})]),e._v(" "),"TEXT"===t.msgtype?a("div",{staticClass:"chatt-records-message"},[a("span",{staticClass:"triangle-before"}),e._v(" "),a("span",{staticClass:"chatt-records-text"},[e._v(e._s(t.msgcontent))])]):"TEXT"===t.cmd?a("div",{staticClass:"chatt-records-message"},[a("span",{staticClass:"triangle-before"}),e._v(" "),a("span",{staticClass:"chatt-records-text"},[e._v(e._s(t.msgcontent.info.msg))])]):"gift"===t.cmd?a("div",{staticClass:"chatt-records-message no-padding no-background"},[a("div",{staticClass:"chatt-records-gift",class:t.fromid===e.anchorForm.userid?"":"chatt-records-gift-reverse"},[a("img",{staticClass:"chatt-records-gift-image",attrs:{src:t.msgcontent.info.gift.src,alt:""}}),e._v(" "),a("span",{staticClass:"chatt-records-gift-name"},[a("span",[e._v(e._s(t.msgcontent.info.gift.name))]),e._v(" "),a("span",[e._v("x")]),e._v(" "),a("span",[e._v(e._s(t.msgcontent.info.number))])])])]):"PICTURE"===t.msgtype?a("div",{staticClass:"chatt-records-message no-padding no-background set-border"},[a("el-image",{staticClass:"chatt-records-image",attrs:{src:t.msgcontent.url,fit:"contain",lazy:"","preview-src-list":e.previewImageList}},[a("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[a("i",{staticClass:"el-icon-picture-outline"})])])],1):"AUDIO"===t.msgtype?a("div",{staticClass:"chatt-records-message no-padding no-background"},[a("span",{staticClass:"triangle-before"}),e._v(" "),a("div",{staticClass:"chatt-records-audio",class:t.fromid===e.anchorForm.userid?" ":"chatt-records-audio-reverse"},[a("span",[e._v(e._s(e.setAudioSec(t.msgcontent)))]),e._v(" "),a("div",{staticClass:"audio-button cursor",on:{click:function(a){return e.playAudio(t)}}},[a("span",{staticClass:"empty-span",style:{width:e.setAudioLength(t.msgcontent)}}),e._v(" "),t.playStatus?e._e():a("span",{staticClass:"iconfont icon-saying margin-left"}),e._v(" "),t.playStatus?a("span",{staticClass:"iconfont icon-zanting margin-left"}):e._e(),e._v(" "),a("span",{staticStyle:{diaplay:"none"}},[a("audio",{ref:"audio"+t.id,refInFor:!0,attrs:{src:t.msgcontent.url}})])])])]):"VIDEO"===t.msgtype?a("div",{staticClass:"chatt-records-message no-padding no-background"},[a("div",{staticClass:"chatt-records-video"},[a("video",{staticClass:"video-player",attrs:{src:t.msgcontent.url,controls:""}})])]):"CUSTOM"===t.msgtype&&1===t.msgcontent.type?a("div",{staticClass:"chatt-records-message no-padding no-background"},[1===t.msgcontent.data.value?a("div",{staticClass:"custom-image shitou-jian-daobu sjd-shitou",attrs:{alt:""}}):2===t.msgcontent.data.value?a("div",{staticClass:"custom-image shitou-jian-daobu sjd-jiandao",attrs:{alt:""}}):3===t.msgcontent.data.value?a("div",{staticClass:"custom-image shitou-jian-daobu sjd-bu",attrs:{alt:""}}):e._e()]):a("div",{staticClass:"chatt-records-message"},[a("span",{staticClass:"triangle-before"}),e._v(" "),a("span",{staticClass:"chatt-records-text"},[e._v(e._s(t.msgcontent))])])])])}))],2)]),e._v(" "),a("el-footer",{staticClass:"chat-window-footer"},[a("div",{staticClass:"chat-window-footer-top"},[a("div",{staticClass:"chat-window-top-left"},[a("span",{staticClass:"iconfont icon-biaoqing icon-font-size icon-top-right"}),e._v(" "),a("span",{staticClass:"iconfont icon-wenjianjia icon-font-size icon-top-right"}),e._v(" "),a("span",{staticClass:"iconfont icon-jianqie icon-font-size icon-top-right"}),e._v(" "),a("span",{staticClass:"iconfont icon-liaotianjilu icon-font-size"})]),e._v(" "),a("div",{staticClass:"chat-window-top-right"},[a("span",{staticClass:"iconfont icon-weibiaoti- icon-font-size icon-top-right"}),e._v(" "),a("span",{staticClass:"iconfont icon-video_icon icon-font-size"})])]),e._v(" "),a("div",{staticClass:"chat-window-footer-content"}),e._v(" "),a("div",{staticClass:"chat-window-footer-bottom"},[a("div",{staticClass:"chat-window-bottom-buttons"},[a("span",[e._v("发送(Enter)")]),e._v(" "),a("span",{staticClass:"bottom-button-line"}),e._v(" "),a("span",{staticClass:"bottom-button"},[e._v("\n              跳过\n              "),a("span",{staticClass:"iconfont icon-xiayishou_huaban icon-font-size"})])])])])],1)],1)],1)},i=[],o=a("4f54"),r=(a("9a33"),a("ad0a")),l=(a("6d57"),a("bff7")),s=a("b775");a("fed1");function c(e){return Object(s["a"])({url:"/cdr/msg/groupajaxsearch",method:"GET",params:e})}var u=a("7f7e"),m=(a("2ca7"),{name:"",props:["chattingData"],data:function(){return{id:this.userId,formInline:{groupid:this.$store.state.user.groupInfo.id,pageNum:1,pageSize:20,offset:0,f_username:"",t_username:"",endday:""},intervalTime:0,scrollHeight:0,chattingRecords:[],chattingRecordsDialog:!1,msgTypeOptions:u["f"],friendList:[],checkedUser:{},loadText:"点击查看更多",time:null,anchorForm:{},previewImageList:[],loading:!1}},components:{},watch:{chattingData:{handler:function(e,t){this.formInline.endday=this.parseTime(new Date),this.formInline.pageNum=1,this.checkedUser={},this.chattingRecords=[],e.userid&&(this.getUserInfo(e.userid),this.getFriends(e.userid))},deep:!0}},beforeMount:function(){},created:function(){this.getUserInfo(this.chattingData.userid),this.getFriends(this.chattingData.userid)},mounted:function(){},methods:{setScrollEvent:function(){var e=this,t=this.$refs["chatting-main"].$el;t.addEventListener("scroll",(function(t){if(0==t.target.scrollTop&&null===e.time){if("没有更多数据了"===e.loadText)return;e.time=!0,e.loading||e.getList()}}))},getFriends:function(e){var t=this;Object(l["i"])(e).then((function(e){e&&0===e.code&&(t.friendList=e.data||[],e.data&&e.data.length?(t.checkedUser=e.data[0],t.chattingRecords=[],t.getList(),t.$nextTick((function(){t.setScrollEvent()}))):(t.checkedUser={},t.chattingRecords=[]),t.chattingRecordsDialog=!0)}))},getUserInfo:function(e){var t=this;Object(l["c"])(e).then((function(e){e&&0===e.code&&(t.anchorForm=e.data)}))},checkChatting:function(e){if(this.checkedUser.userid===e.userid)return!1;this.checkedUser=e,this.chattingRecords=[],this.formInline.pageNum=1,this.formInline.endday=this.parseTime(new Date),this.getList()},loadMore:function(){if("没有更多数据了"!==this.loadText){var e=(new Date).getTime();if(e-this.intervalTime<=2e3)return!1;if(this.time)return!1;this.intervalTime=e,this.getList()}},scrollTo:function(){var e=this.$refs["chatting-content"],t=e.scrollHeight-this.scrollHeight;this.$refs["chatting-main"].$el.scrollTop=t,this.scrollHeight=e.scrollHeight},getList:function(){var e=this;this.loading=!0;var t={f_username:this.checkedUser.from_username,t_username:this.checkedUser.to_username,offset:(this.formInline.pageNum-1)*this.formInline.pageSize};c(t).then((function(t){var a=t;if(a.data.items.forEach((function(t){e.isJSON(t.msgcontent)&&("TEXT"!==t.cmd&&"gift"!==t.cmd&&"TEXT"!==t.msgtype&&"PICTURE"!==t.msgtype&&"AUDIO"!==t.msgtype&&"VIDEO"!==t.msgtype&&"CUSTOM"!==t.msgtype||(t.msgcontent=JSON.parse(t.msgcontent)))})),a&&0===a.code){var n=a.data.items,i=n.reverse();i.forEach((function(t,a){e.$set(t,"showTime",!0);var n=0,o=new Date(t.createdTime).getTime();0!==a&&(n=new Date(i[a-1].createdTime).getTime()),n&&o-n<3e5&&(t.showTime=!1)})),e.loadText="加载中...",e.formInline.pageNum++,setTimeout((function(){var t;(t=e.chattingRecords).unshift.apply(t,Object(r["a"])(i)),e.chattingRecords.forEach((function(t){e.$set(t,"playStatus",!1)})),e.previewImageList=e.chattingRecords.map((function(e){if("PICTURE"===e.msgtype)return e.msgcontent.url})),e.time=null,e.$nextTick((function(){e.scrollTo()})),e.chattingRecords.length>=a.data.total_rows?e.loadText="没有更多数据了":e.loadText="点击查看更多",e.loading=!1}),2e3)}})).catch((function(t){e.loading=!1}))},pullDownRefresh:function(e){console.log(this.time),null==this.time&&0==e.target.scrollTop&&(e.target.scrollTop=10,this.time=!0,this.loadText="加载中...",this.getList())},close:function(){this.chattingRecordsDialog=!1},get_time_diff:function(e){var t=new Date(e).getTime(),a="",n=(new Date).getTime()-t,i=Math.floor(n/864e5);if(i>30)return e.slice(0,10);i>0&&(a+=i+"天");var o=n%864e5,r=Math.floor(o/36e5);r>0?(r<10&&(r="0"+r),a+=r+"小时"):""!==a&&(a+=r+"小时");var l=o%36e5,s=Math.floor(l/6e4);return s>0?(s<10&&(s="0"+s),a+=s+"分"):""!==a&&(a+=s+"分"),a},format:function(e){if(!e)return 0;e+="";for(var t="",a=e.length-1,n=1;a>=0;a--,n++)t+=n%3!=0||0==a?e[a]:e[a]+",";return t.split("").reverse().join("")},msgType:function(e){var t="";return this.msgTypeOptions.forEach((function(a){a.value===e.msgType&&(t="PERSON"===a.value||"CUSTOM"===a.value?e.msgcontent:"PICTURE"===a.value?"[图片]":"AUDIO"===a.value?"[语音]":"VIDEO"===a.value?"[视频]":"")})),t},msgTime:function(e){if(!e)return"";var t=(new Date).getTime(),a=this.parseTime(e);return t-e<864e5?a.substr(11,5):a.substr(0,10)},sliceDate:function(e){return e&&this.parseTime(e).substr(0,10)||""},setAudioSec:function(e){var t=e;return t.dur?(parseInt(t.dur/1e3)||0)+'"':""},setAudioLength:function(e){var t=e;if(!t.dur)return"0px";var a=parseInt(t.dur/1e3)||0;return a<=5?"0px":a>=30?"130px":5*a+"px"},playAudio:function(e){var t=this,a=this.$refs["audio"+e.id][0];a.addEventListener("ended",(function(){t.ended(e)})),a.paused?(this.$set(e,"playStatus",!0),a.play()):(this.$set(e,"playStatus",!1),a.pause())},ended:function(e){this.$set(e,"playStatus",!1)},navigateTo:function(e,t){this.$router.push({name:e,params:{username:t}})},isJSON:function(e){if("string"==typeof e)try{var t=JSON.parse(e);return!("object"!=Object(o["a"])(t)||!t)}catch(a){return!1}}}}),d=m,p=(a("a451"),a("bbe2"),a("9ca4")),f=Object(p["a"])(d,n,i,!1,null,"61c4f209",null);t["default"]=f.exports},f794:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"菜单名称"}},[a("el-input",{attrs:{placeholder:"请输入菜单名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.menuName,callback:function(t){e.$set(e.queryParams,"menuName",t)},expression:"queryParams.menuName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"菜单状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:menu:add"],expression:"['system:menu:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.menuList,"row-key":"menuId","tree-props":{children:"children",hasChildren:"hasChildren"}}},[a("el-table-column",{attrs:{prop:"menuName",label:"菜单名称","show-overflow-tooltip":!0,width:"160"}}),e._v(" "),a("el-table-column",{attrs:{prop:"icon",label:"图标",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("svg-icon",{attrs:{"icon-class":e.row.icon}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"orderNum",label:"排序",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{prop:"perms",label:"权限标识","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{prop:"component",label:"组件路径","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态",formatter:e.statusFormat,width:"80"}}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createTime)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:menu:edit"],expression:"['system:menu:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:menu:add"],expression:"['system:menu:add']"}],attrs:{size:"mini",type:"text",icon:"el-icon-plus"},on:{click:function(a){return e.handleAdd(t.row)}}},[e._v("新增")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:menu:remove"],expression:"['system:menu:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"600px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"上级菜单"}},[a("treeselect",{attrs:{options:e.menuOptions,normalizer:e.normalizer,"show-count":!0,placeholder:"选择上级菜单"},model:{value:e.form.parentId,callback:function(t){e.$set(e.form,"parentId",t)},expression:"form.parentId"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"菜单类型",prop:"menuType"}},[a("el-radio-group",{model:{value:e.form.menuType,callback:function(t){e.$set(e.form,"menuType",t)},expression:"form.menuType"}},[a("el-radio",{attrs:{label:"M"}},[e._v("目录")]),e._v(" "),a("el-radio",{attrs:{label:"C"}},[e._v("菜单")]),e._v(" "),a("el-radio",{attrs:{label:"F"}},[e._v("按钮")])],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},["F"!=e.form.menuType?a("el-form-item",{attrs:{label:"菜单图标"}},[a("el-popover",{attrs:{placement:"bottom-start",width:"460",trigger:"click"},on:{show:function(t){return e.$refs["iconSelect"].reset()}}},[a("IconSelect",{ref:"iconSelect",on:{selected:e.selected}}),e._v(" "),a("el-input",{attrs:{slot:"reference",placeholder:"点击选择图标",readonly:""},slot:"reference",model:{value:e.form.icon,callback:function(t){e.$set(e.form,"icon",t)},expression:"form.icon"}},[e.form.icon?a("svg-icon",{staticClass:"el-input__icon",staticStyle:{height:"32px",width:"16px"},attrs:{slot:"prefix","icon-class":e.form.icon},slot:"prefix"}):a("i",{staticClass:"el-icon-search el-input__icon",attrs:{slot:"prefix"},slot:"prefix"})],1)],1)],1):e._e()],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"菜单名称",prop:"menuName"}},[a("el-input",{attrs:{placeholder:"请输入菜单名称"},model:{value:e.form.menuName,callback:function(t){e.$set(e.form,"menuName",t)},expression:"form.menuName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"显示排序",prop:"orderNum"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.form.orderNum,callback:function(t){e.$set(e.form,"orderNum",t)},expression:"form.orderNum"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},["F"!=e.form.menuType?a("el-form-item",{attrs:{label:"是否外链"}},[a("el-radio-group",{model:{value:e.form.isFrame,callback:function(t){e.$set(e.form,"isFrame",t)},expression:"form.isFrame"}},[a("el-radio",{attrs:{label:"0"}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:"1"}},[e._v("否")])],1)],1):e._e()],1),e._v(" "),a("el-col",{attrs:{span:12}},["F"!=e.form.menuType?a("el-form-item",{attrs:{label:"路由地址",prop:"path"}},[a("el-input",{attrs:{placeholder:"请输入路由地址"},model:{value:e.form.path,callback:function(t){e.$set(e.form,"path",t)},expression:"form.path"}})],1):e._e()],1),e._v(" "),"C"==e.form.menuType?a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"组件路径",prop:"component"}},[a("el-input",{attrs:{placeholder:"请输入组件路径"},model:{value:e.form.component,callback:function(t){e.$set(e.form,"component",t)},expression:"form.component"}})],1)],1):e._e(),e._v(" "),a("el-col",{attrs:{span:12}},["M"!=e.form.menuType?a("el-form-item",{attrs:{label:"权限标识"}},[a("el-input",{attrs:{placeholder:"请权限标识",maxlength:"50"},model:{value:e.form.perms,callback:function(t){e.$set(e.form,"perms",t)},expression:"form.perms"}})],1):e._e()],1),e._v(" "),a("el-col",{attrs:{span:12}},["F"!=e.form.menuType?a("el-form-item",{attrs:{label:"显示状态"}},[e._v("\n            "+e._s(e.visibleOptions)+"\n            "),a("el-radio-group",{model:{value:e.form.visible,callback:function(t){e.$set(e.form,"visible",t)},expression:"form.visible"}},e._l(e.visibleOptions,(function(t){return a("el-radio",{key:t.dictValue,attrs:{label:t.dictValue}},[e._v(e._s(t.dictLabel))])})),1)],1):e._e()],1),e._v(" "),a("el-col",{attrs:{span:12}},["F"!=e.form.menuType?a("el-form-item",{attrs:{label:"菜单状态"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusOptions,(function(t){return a("el-radio",{key:t.dictValue,attrs:{label:t.dictValue}},[e._v(e._s(t.dictLabel))])})),1)],1):e._e()],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},i=[],o=a("a6dc"),r=a("7d66"),l=a.n(r),s=(a("5166"),a("5aee")),c={name:"Menu",components:{Treeselect:l.a,IconSelect:s["a"]},data:function(){return{loading:!0,menuList:[],menuOptions:[],title:"",open:!1,visibleOptions:[],statusOptions:[],queryParams:{menuName:void 0,visible:void 0},form:{},rules:{menuName:[{required:!0,message:"菜单名称不能为空",trigger:"blur"}],orderNum:[{required:!0,message:"菜单顺序不能为空",trigger:"blur"}],path:[{required:!0,message:"路由地址不能为空",trigger:"blur"}]}}},created:function(){var e=this;this.getList(),this.getDicts("sys_show_hide").then((function(t){console.log(t.data),e.visibleOptions=t.data})),this.getDicts("sys_normal_disable").then((function(t){e.statusOptions=t.data}))},methods:{selected:function(e){this.form.icon=e},getList:function(){var e=this;this.loading=!0,Object(o["e"])(this.queryParams).then((function(t){e.menuList=e.handleTree(t.data,"menuId"),e.loading=!1}))},normalizer:function(e){return e.children&&!e.children.length&&delete e.children,{id:e.menuId,label:e.menuName,children:e.children}},getTreeselect:function(){var e=this;Object(o["e"])().then((function(t){e.menuOptions=[];var a={menuId:0,menuName:"主类目",children:[]};a.children=e.handleTree(t.data,"menuId"),e.menuOptions.push(a)}))},visibleFormat:function(e,t){return"F"==e.menuType?"":this.selectDictLabel(this.visibleOptions,e.visible)},statusFormat:function(e,t){return"F"==e.menuType?"":this.selectDictLabel(this.statusOptions,e.status)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={menuId:void 0,parentId:0,menuName:void 0,icon:void 0,menuType:"M",orderNum:void 0,isFrame:"1",visible:"0",status:"0"},this.resetForm("form")},handleQuery:function(){this.getList()},handleAdd:function(e){this.reset(),this.getTreeselect(),null!=e&&(this.form.parentId=e.menuId),this.open=!0,this.title="添加菜单"},handleUpdate:function(e){var t=this;this.reset(),this.getTreeselect(),Object(o["c"])(e.menuId).then((function(e){t.form=e.data,t.open=!0,t.title="修改菜单"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.menuId?Object(o["h"])(e.form).then((function(t){200===t.code&&(e.msgSuccess("修改成功"),e.open=!1,e.getList())})):Object(o["a"])(e.form).then((function(t){200===t.code&&(e.msgSuccess("新增成功"),e.open=!1,e.getList())})))}))},handleDelete:function(e){var t=this;this.$confirm('是否确认删除名称为"'+e.menuName+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(o["b"])(e.menuId)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))}}},u=c,m=a("9ca4"),d=Object(m["a"])(u,n,i,!1,null,null,null);t["default"]=d.exports},f7eb:function(e,t,a){},f973:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"record"},[a("div",{staticClass:"record-conter"},[a("el-row",{staticClass:"record-top",staticStyle:{"margin-left":"0px","margin-right":"0px"},attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[a("el-form-item",{attrs:{label:"日期："}},[e.formInline.date.startday?a("dateTimePicker",{attrs:{date:e.formInline.date},on:{onSubmit:e.onSubmit}}):e._e()],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.onSubmit}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-d-arrow-left",size:"mini"},on:{click:function(t){return e.handlePrev("prev")}}},[e._v("前一天")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.handlePrev("next")}}},[e._v("\n              后一天\n              "),a("span",{staticClass:"el-icon-d-arrow-right"})])],1)],1)],1)],1),e._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"dark","row-key":"id"},on:{"sort-change":e.sortChange}},[a("el-table-column",{attrs:{type:"index","min-width":"50",label:"编号"}}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"","min-width":"70px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"anchor-info cursor",on:{click:function(a){return e.openDetail(t.row.userid)}}},[a("div",{staticClass:"profile-box"},[a("img",{staticClass:"profile",attrs:{src:t.row.avatar,alt:""}})]),e._v(" "),"3"===t.row.status||"2"===t.row.status?a("br"):e._e(),e._v(" "),"3"===t.row.status?a("span",{staticStyle:{color:"#f56c6c"}},[e._v("禁言")]):"2"===t.row.status?a("span",{staticStyle:{color:"#f56c6c"}},[e._v("封号")]):e._e()])]}}])},[a("template",{slot:"header"},[a("span",[e._v("头像")]),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"提示文字",placement:"top"}},[a("i",{staticClass:"el-icon-question icon-color"})])],1)],2),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"","min-width":"120px",label:"昵称/ID"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticClass:"visitor-info-name",attrs:{title:"用户昵称"}},[e._v(e._s(t.row.nickname))]),e._v(" "),a("br"),e._v(" "),a("span",{staticClass:"gender-men",class:"1"===t.row.gender?"":"gender-women"},[e._v(e._s(t.row.age))]),e._v(" "),"1"===t.row.verify_status?a("span",{staticClass:"el-icon-video-camera-solid verify_status",attrs:{title:"视频认证"}}):e._e(),e._v(" "),a("span",{attrs:{title:"短ID"}},[e._v(e._s(t.row.username))]),e._v(" "),a("br"),e._v(" "),a("span",{attrs:{title:"用户ID"}},[e._v(e._s(t.row.userid))])]}}])}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"group_name",label:"公会","min-width":"100px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"incomes",sortable:"custom","show-overflow-tooltip":"","min-width":"120px",label:"获得钻石"}}),e._v(" "),a("el-table-column",{attrs:{prop:"income_users",sortable:"custom","show-overflow-tooltip":"","min-width":"120px",label:"贡献用户数"}}),e._v(" "),a("el-table-column",{attrs:{prop:"income_avg",sortable:"custom","show-overflow-tooltip":"","min-width":"120px",label:"平均贡献"}})],1),e._v(" "),a("my-pagination",{directives:[{name:"show",rawName:"v-show",value:e.totalNum>0,expression:"totalNum>0"}],attrs:{total:e.totalNum,page:e.formInline.pageNum,limit:e.formInline.pageSize,ext_stat:e.ext_stat},on:{"update:page":function(t){return e.$set(e.formInline,"pageNum",t)},"update:limit":function(t){return e.$set(e.formInline,"pageSize",t)},pagination:e.getOnlineList}})],1),e._v(" "),e.userDetail.userid?a("el-detail",{attrs:{userDetail:e.userDetail}}):e._e()],1)},i=[],o=a("b775");function r(e){return Object(o["a"])({url:"/union/incomeSupervise/ajaxsearch",method:"GET",params:e})}var l={name:"record",data:function(){return{totalNum:0,ext_stat:"",formInline:{groupid:this.$store.state.user.groupInfo.id,date:{startday:"",endday:""},offset:0,pageSize:20,pageNum:1},tableData:[],userDetail:{timestamp:"",userid:""}}},created:function(){this.formInline.date.startday=this.getDateNow()[0],this.formInline.date.endday=this.getDateNow()[1],this.getOnlineList()},methods:{onSubmit:function(){this.getOnlineList()},getOnlineList:function(){var e=this,t=JSON.parse(JSON.stringify(this.formInline));t.startday=t.date.startday,t.endday=t.date.endday,t.offset=(t.pageNum-1)*t.pageSize,delete t.date,r(t).then((function(t){0===t.code&&(e.tableData=t.data.items,e.ext_stat=t.data.ext_stat,e.totalNum=+t.data.total_rows)}))},sortChange:function(e){e.column;var t=e.prop,a=e.order;console.log(a),this.formInline.orderByColumn=a?t:"id";var n="DESC";"ascending"===a&&(n="ASC"),this.formInline.isAsc=n,this.getOnlineList()},handlePrev:function(e){this.prevDate(this.formInline.date,e),this.getOnlineList()},openDetail:function(e){this.userDetail.timestamp=(new Date).getTime(),this.userDetail.userid=e}}},s=l,c=(a("5463"),a("de09"),a("44c3"),a("9ca4")),u=Object(c["a"])(s,n,i,!1,null,"43a0ad30",null);t["default"]=u.exports},f9c9:function(e,t,a){"use strict";var n=a("9fa0"),i=a.n(n);i.a},fa26:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"record"},[a("div",{staticClass:"record-conter"},[a("el-row",{staticClass:"record-top",staticStyle:{"margin-left":"0px","margin-right":"0px"},attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[a("el-form-item",{attrs:{label:"搜索："}},[a("el-select",{staticStyle:{width:"85px"},attrs:{placeholder:"",size:"mini"},on:{change:e.onSubmit},model:{value:e.formInline.type,callback:function(t){e.$set(e.formInline,"type",t)},expression:"formInline.type"}},e._l(e.searchOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1),e._v(" "),a("el-input",{attrs:{placeholder:"请输入ID",clearable:"",size:"mini"},on:{clear:e.onSubmit},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit(t)}},model:{value:e.formInline.content,callback:function(t){e.$set(e.formInline,"content","string"===typeof t?t.trim():t)},expression:"formInline.content"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"公会名称："}},[a("el-input",{attrs:{placeholder:"请输入公会名称",clearable:"",size:"mini"},on:{clear:e.onSubmit},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit(t)}},model:{value:e.formInline.name,callback:function(t){e.$set(e.formInline,"name","string"===typeof t?t.trim():t)},expression:"formInline.name"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.onSubmit}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"success",icon:"el-icon-plus",size:"mini"},on:{click:function(t){return e.openOrder("新增公会")}}},[e._v("新增公会")])],1)],1)],1)],1),e._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"dark","row-key":"id"},on:{"sort-change":e.sortChange}},[a("el-table-column",{attrs:{prop:"id","min-width":"50",label:"ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name","min-width":"80",label:"公会名称"}}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"","min-width":"70px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"anchor-info cursor",on:{click:function(a){return e.openDetail(t.row.user.userid)}}},[a("div",{staticClass:"profile-box"},[a("img",{staticClass:"profile",attrs:{src:t.row.user.avatar,alt:""}})]),e._v(" "),"3"===t.row.user.status||"2"===t.row.user.status?a("br"):e._e(),e._v(" "),"3"===t.row.user.status?a("span",{staticStyle:{color:"#f56c6c"}},[e._v("禁言")]):"2"===t.row.user.status?a("span",{staticStyle:{color:"#f56c6c"}},[e._v("封号")]):e._e()])]}}])},[a("template",{slot:"header"},[a("span",[e._v("头像")]),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"提示文字",placement:"top"}},[a("i",{staticClass:"el-icon-question icon-color"})])],1)],2),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"","min-width":"120px",label:"会长"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticClass:"visitor-info-name",attrs:{title:"会长昵称"}},[e._v(e._s(t.row.user.nickname))]),e._v(" "),a("br"),e._v(" "),a("span",{staticClass:"gender-men",class:"1"===t.row.user.gender?"":"gender-women"},[e._v(e._s(t.row.user.age))]),e._v(" "),"1"===t.row.user.verify_status?a("span",{staticClass:"el-icon-video-camera-solid verify_status",attrs:{title:"视频认证"}}):e._e(),e._v(" "),a("span",{attrs:{title:"短ID"}},[e._v(e._s(t.row.user.username))]),e._v(" "),a("br"),e._v(" "),a("span",{attrs:{title:"用户ID"}},[e._v(e._s(t.row.user.userid))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"loginuser","min-width":"80",label:"会长手机号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"m_members","min-width":"80",label:"成员数",sortable:"custom"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status","min-width":"80",label:"公会状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s("1"===t.row.status?"正常":"无效"))])]}}])}),e._v(" "),a("el-table-column",{attrs:{"min-width":"120",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticStyle:{"margin-bottom":"5px"},attrs:{icon:"el-icon-view",size:"mini",title:"查看详情"},on:{click:function(a){return e.see(t.row)}}}),e._v(" "),a("el-button",{staticStyle:{"margin-bottom":"5px"},attrs:{icon:"el-icon-edit",type:"primary",plain:"",size:"mini",title:"编辑"},on:{click:function(a){return e.openOrder("编辑公会",t.row.id)}}}),e._v(" "),a("el-button",{staticStyle:{"margin-bottom":"5px"},attrs:{icon:"el-icon-delete",type:"danger",size:"mini",title:"删除",plain:""},on:{click:function(a){return e.deleteById(t.row.id)}}})]}}])})],1),e._v(" "),a("my-pagination",{directives:[{name:"show",rawName:"v-show",value:e.totalNum>0,expression:"totalNum>0"}],attrs:{total:e.totalNum,page:e.formInline.pageNum,limit:e.formInline.pageSize,ext_stat:e.ext_stat},on:{"update:page":function(t){return e.$set(e.formInline,"pageNum",t)},"update:limit":function(t){return e.$set(e.formInline,"pageSize",t)},pagination:e.getOnlineList}})],1),e._v(" "),a("el-dialog",{attrs:{id:"owner-dialog",title:e.title,visible:e.dialogVisible,width:"600px","custom-class":"common-dialog"},on:{close:function(t){return e.resetForm("ruleForm")},"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"ruleForm",attrs:{rules:e.rules,model:e.ownerForm,"label-width":"120px","label-position":"left"}},[a("el-form-item",{attrs:{label:"公会名称",prop:"name"}},[a("el-input",{attrs:{maxlength:"100"},model:{value:e.ownerForm.name,callback:function(t){e.$set(e.ownerForm,"name",t)},expression:"ownerForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"会长手机号",prop:"loginuser"}},[a("el-input",{attrs:{maxlength:"11","show-word-limit":""},model:{value:e.ownerForm.loginuser,callback:function(t){e.$set(e.ownerForm,"loginuser",t)},expression:"ownerForm.loginuser"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"会长用户ID",prop:"create_userid"}},[a("el-input",{attrs:{maxlength:"100"},model:{value:e.ownerForm.create_userid,callback:function(t){e.$set(e.ownerForm,"create_userid",t)},expression:"ownerForm.create_userid"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"账户类型",prop:"account_type"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",size:"mini"},model:{value:e.ownerForm.account_type,callback:function(t){e.$set(e.ownerForm,"account_type",t)},expression:"ownerForm.account_type"}},e._l(e.accountTypeOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"分成计算方式",prop:"commission_method"}},[a("el-radio-group",{model:{value:e.ownerForm.commission_method,callback:function(t){e.$set(e.ownerForm,"commission_method",t)},expression:"ownerForm.commission_method"}},e._l(e.commissionMethodOptions,(function(t,n){return a("el-radio",{key:n,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"分成(%)",prop:"rate"}},[a("el-input",{attrs:{maxlength:"100"},model:{value:e.ownerForm.rate,callback:function(t){e.$set(e.ownerForm,"rate",t)},expression:"ownerForm.rate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"公会分成(%)",prop:"group_rate"}},[a("el-input",{attrs:{maxlength:"100"},model:{value:e.ownerForm.group_rate,callback:function(t){e.$set(e.ownerForm,"group_rate",t)},expression:"ownerForm.group_rate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"成员分成(%)",prop:"member_rate"}},[a("el-input",{attrs:{maxlength:"100"},model:{value:e.ownerForm.member_rate,callback:function(t){e.$set(e.ownerForm,"member_rate",t)},expression:"ownerForm.member_rate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"收款人",prop:"account_name"}},[a("el-input",{attrs:{maxlength:"100"},model:{value:e.ownerForm.account_name,callback:function(t){e.$set(e.ownerForm,"account_name",t)},expression:"ownerForm.account_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"开户行",prop:"account_branchs"}},[a("el-input",{attrs:{maxlength:"100"},model:{value:e.ownerForm.account_branchs,callback:function(t){e.$set(e.ownerForm,"account_branchs",t)},expression:"ownerForm.account_branchs"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"帐号",prop:"account_num"}},[a("el-input",{attrs:{maxlength:"100"},model:{value:e.ownerForm.account_num,callback:function(t){e.$set(e.ownerForm,"account_num",t)},expression:"ownerForm.account_num"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"公会状态",prop:"status"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",size:"mini"},model:{value:e.ownerForm.status,callback:function(t){e.$set(e.ownerForm,"status",t)},expression:"ownerForm.status"}},e._l(e.unionStatusOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"公会备注",prop:"memo"}},[a("el-input",{attrs:{type:"textarea",maxlength:"255",row:"3",resize:"none","show-word-limit":""},model:{value:e.ownerForm.memo,callback:function(t){e.$set(e.ownerForm,"memo",t)},expression:"ownerForm.memo"}})],1)],1),e._v(" "),a("div",{staticClass:"owner-dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("a",{staticClass:"owner-btn btn1",attrs:{href:"javascript:;"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("保存")]),e._v(" "),a("a",{staticClass:"owner-btn btn2",attrs:{href:"javascript:;"},on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("关闭")])])],1),e._v(" "),e.userDetail.userid?a("el-detail",{attrs:{userDetail:e.userDetail}}):e._e()],1)},i=[],o=(a("b449"),a("6648")),r=a("b775"),l=a("fed1"),s=a.n(l);function c(e){return Object(r["a"])({url:"/live/group/ajaxsearch",method:"GET",params:e})}function u(e){return Object(r["a"])({url:"/live/group/edit/".concat(e),method:"GET"})}function m(e){return Object(r["a"])({url:"/live/group/save",method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},data:s.a.stringify(e)})}function d(e){return Object(r["a"])({url:"/live/group/delete//".concat(e),method:"GET"})}var p=a("cafc"),f=a("0a5a"),v={name:"Unions_list",data:function(){return{searchOptions:f["h"],unionOrderOptions:f["i"],accountTypeOptions:f["a"],commissionMethodOptions:f["b"],unionStatusOptions:f["j"],totalNum:0,ext_stat:"",formInline:{type:"username",content:"",name:"",orderByColumn:"id",isAsc:"desc",pageSize:20,pageNum:1},tableData:[],dialogVisible:!1,title:"标题",ownerForm:{name:"",loginuser:"",create_userid:"",account_type:"",commission_method:"",rate:"",group_rate:"",member_rate:"",account_name:"",account_branchs:"",account_num:"",status:"",memo:""},rules:{name:[{required:!0,message:"请输入公会名称",trigger:"blur"}],loginuser:[{required:!0,message:"请输入会长手机号",trigger:"blur"},{pattern:/^1(3|4|5|6|7|8|9)\d{9}$/,message:"手机号格式不对",trigger:"blur"}],create_userid:[{required:!0,message:"请输入用户id",trigger:"blur"}]},userDetail:{timestamp:"",userid:""}}},created:function(){this.getOnlineList()},methods:{getGroupsOptions:function(){var e=this;Object(p["a"])().then((function(t){0===t.code&&(e.groupOptions=t.data)}))},see:function(e){var t={id:e.id};this.$emit("changePage","SEE",t)},onSubmit:function(){this.getOnlineList()},getOnlineList:function(){var e=this,t=JSON.parse(JSON.stringify(this.formInline));t.offset=(t.pageNum-1)*t.pageSize,c(t).then((function(t){0===t.code&&(e.tableData=t.data.items,e.ext_stat=t.data.ext_stat,e.totalNum=+t.data.total_rows)}))},openOrder:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,a){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.title=t,"新增公会"!==t){e.next=5;break}this.dialogVisible=!0,e.next=10;break;case 5:if("编辑公会"!==t){e.next=10;break}return e.next=8,u(a);case 8:n=e.sent,n&&0===n.code&&(this.ownerForm=n.data.item,this.dialogVisible=!0);case 10:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}(),sortChange:function(e){e.column;var t=e.prop,a=e.order;console.log(a),this.formInline.orderByColumn=a?t:"id";var n="desc";"ascending"===a&&(n="asc"),this.formInline.isAsc=n,this.getOnlineList()},handleCurrentChange:function(e){this.formInline.pageNum=e,this.getOnlineList()},submitForm:function(e){var t=this;this.$refs[e].validate((function(a){if(!a)return!1;var n=JSON.parse(JSON.stringify(t.ownerForm));console.log(n),m(n).then((function(a){0===a.code&&(t.$message.success(a.info),t.$refs[e].resetFields(),t.getOnlineList(),t.dialogVisible=!1)}))}))},resetForm:function(e){this.$refs[e].resetFields(),this.dialogVisible=!1},deleteById:function(e){var t=this;this.$confirm("是否删除当前项?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){d(e).then((function(e){0===e.code&&t.$message.success(e.info)}))}))},openDetail:function(e){this.userDetail.timestamp=(new Date).getTime(),this.userDetail.userid=e}}},h=v,b=(a("a213"),a("32b3"),a("695c"),a("9ca4")),g=Object(b["a"])(h,n,i,!1,null,"00bf9c01",null);t["default"]=g.exports},fb6c:function(e,t,a){},fbc4:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"panel-group",attrs:{gutter:40}},[a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[a("div",{staticClass:"card-panel",on:{click:function(t){return e.handleSetLineChartData("newVisitis")}}},[a("div",{staticClass:"card-panel-icon-wrapper icon-people"},[a("svg-icon",{attrs:{"icon-class":"peoples","class-name":"card-panel-icon"}})],1),e._v(" "),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[e._v("\n          访客\n        ")]),e._v(" "),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":102400,duration:2600}})],1)])]),e._v(" "),a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[a("div",{staticClass:"card-panel",on:{click:function(t){return e.handleSetLineChartData("messages")}}},[a("div",{staticClass:"card-panel-icon-wrapper icon-message"},[a("svg-icon",{attrs:{"icon-class":"message","class-name":"card-panel-icon"}})],1),e._v(" "),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[e._v("\n          消息\n        ")]),e._v(" "),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":81212,duration:3e3}})],1)])]),e._v(" "),a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[a("div",{staticClass:"card-panel",on:{click:function(t){return e.handleSetLineChartData("purchases")}}},[a("div",{staticClass:"card-panel-icon-wrapper icon-money"},[a("svg-icon",{attrs:{"icon-class":"money","class-name":"card-panel-icon"}})],1),e._v(" "),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[e._v("\n          金额\n        ")]),e._v(" "),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":9280,duration:3200}})],1)])]),e._v(" "),a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[a("div",{staticClass:"card-panel",on:{click:function(t){return e.handleSetLineChartData("shoppings")}}},[a("div",{staticClass:"card-panel-icon-wrapper icon-shopping"},[a("svg-icon",{attrs:{"icon-class":"shopping","class-name":"card-panel-icon"}})],1),e._v(" "),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[e._v("\n          订单\n        ")]),e._v(" "),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":13600,duration:3600}})],1)])])],1)},i=[],o=a("9e2e"),r=a.n(o),l={components:{CountTo:r.a},methods:{handleSetLineChartData:function(e){this.$emit("handleSetLineChartData",e)}}},s=l,c=(a("d618"),a("9ca4")),u=Object(c["a"])(s,n,i,!1,null,"4b11f5b6",null);t["default"]=u.exports},fcb7:function(e,t,a){"use strict";a.d(t,"d",(function(){return i})),a.d(t,"e",(function(){return o})),a.d(t,"c",(function(){return r})),a.d(t,"g",(function(){return l})),a.d(t,"f",(function(){return s})),a.d(t,"a",(function(){return c})),a.d(t,"h",(function(){return u})),a.d(t,"b",(function(){return m}));var n=a("b775");function i(e){return Object(n["a"])({url:"/system/dept/list",method:"get",params:e})}function o(e){return Object(n["a"])({url:"/system/dept/list/exclude/"+e,method:"get"})}function r(e){return Object(n["a"])({url:"/system/dept/"+e,method:"get"})}function l(){return Object(n["a"])({url:"/system/dept/treeselect",method:"get"})}function s(e){return Object(n["a"])({url:"/system/dept/roleDeptTreeselect/"+e,method:"get"})}function c(e){return Object(n["a"])({url:"/system/dept",method:"post",data:e})}function u(e){return Object(n["a"])({url:"/system/dept",method:"put",data:e})}function m(e){return Object(n["a"])({url:"/system/dept/"+e,method:"delete"})}},fd05:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"record"},[a("div",{staticClass:"record-conter"},[a("el-row",{staticClass:"record-top",staticStyle:{"margin-left":"0px","margin-right":"0px"},attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[a("el-form-item",{attrs:{label:"日期："}},[e.formInline.date.startday?a("dateTimePicker",{attrs:{date:e.formInline.date},on:{onSubmit:e.onSubmit}}):e._e()],1),e._v(" "),a("el-form-item",{attrs:{label:"短ID："}},[a("el-input",{attrs:{placeholder:"请输入短ID",clearable:"",size:"mini",maxlength:"200"},on:{clear:e.onSubmit},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit(t)}},model:{value:e.formInline.username,callback:function(t){e.$set(e.formInline,"username","string"===typeof t?t.trim():t)},expression:"formInline.username"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"用户ID："}},[a("el-input",{attrs:{placeholder:"请输入用户ID",clearable:"",size:"mini",maxlength:"200"},on:{clear:e.onSubmit},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit(t)}},model:{value:e.formInline.userid,callback:function(t){e.$set(e.formInline,"userid","string"===typeof t?t.trim():t)},expression:"formInline.userid"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"操作类型："}},[a("el-select",{staticStyle:{width:"85px"},attrs:{clearable:"",placeholder:"请选择",size:"mini"},on:{change:e.onSubmit},model:{value:e.formInline.operation,callback:function(t){e.$set(e.formInline,"operation",t)},expression:"formInline.operation"}},e._l(e.operationOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"币种："}},[a("el-select",{staticStyle:{width:"85px"},attrs:{clearable:"",placeholder:"请选择",size:"mini"},on:{change:e.onSubmit},model:{value:e.formInline.credittype,callback:function(t){e.$set(e.formInline,"credittype",t)},expression:"formInline.credittype"}},e._l(e.creditTypeOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"描述："}},[a("el-input",{attrs:{placeholder:"请输入关键字",clearable:"",size:"mini",maxlength:"200"},on:{clear:e.onSubmit},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit(t)}},model:{value:e.formInline.description,callback:function(t){e.$set(e.formInline,"description","string"===typeof t?t.trim():t)},expression:"formInline.description"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.onSubmit}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-d-arrow-left",size:"mini"},on:{click:function(t){return e.handlePrev("prev")}}},[e._v("前一天")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.handlePrev("next")}}},[e._v("\n              后一天\n              "),a("span",{staticClass:"el-icon-d-arrow-right"})]),e._v(" "),a("span",{staticStyle:{"margin-left":"10px",color:"#cccccc"}},[e._v("注:不支持跨月份查询")])],1)],1)],1)],1),e._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"dark","row-key":"proprId"},on:{"sort-change":e.sortChange}},[a("el-table-column",{attrs:{type:"index","min-width":"45",label:"编号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"userid","min-width":"110",label:"用户ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"operation","show-overflow-tooltip":"","min-width":"120px",label:"操作"}}),e._v(" "),a("el-table-column",{attrs:{prop:"credittype","min-width":"80",label:"币种"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.creditTypeOptions.filter((function(e){return e.value===t.row.credittype}))[0].label))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"number","min-width":"80",label:"数量"}}),e._v(" "),a("el-table-column",{attrs:{prop:"count","min-width":"80",label:"余额"}}),e._v(" "),a("el-table-column",{attrs:{prop:"description","min-width":"80",label:"描述"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ipaddr","min-width":"80",label:"IP"}}),e._v(" "),a("el-table-column",{attrs:{prop:"operator","min-width":"80",label:"操作人"}}),e._v(" "),a("el-table-column",{attrs:{prop:"dateline","min-width":"110",label:"操作时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.parseTime(t.row.dateline)))]}}])}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"操作","min-width":"130px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{icon:"el-icon-view",size:"mini",title:"查看详情"},on:{click:function(a){return e.openOrder(t.row.id)}}})]}}])})],1),e._v(" "),a("my-pagination",{directives:[{name:"show",rawName:"v-show",value:e.totalNum>0,expression:"totalNum>0"}],attrs:{total:e.totalNum,page:e.formInline.pageNum,limit:e.formInline.pageSize,ext_stat:e.ext_stat},on:{"update:page":function(t){return e.$set(e.formInline,"pageNum",t)},"update:limit":function(t){return e.$set(e.formInline,"pageSize",t)},pagination:e.getOnlineList}})],1),e._v(" "),a("el-dialog",{attrs:{id:"creditlogs-dialog",title:"查看详情",visible:e.orderDetail.orderDialog,width:"600px"},on:{"update:visible":function(t){return e.$set(e.orderDetail,"orderDialog",t)}}},[a("table",{staticClass:"table table-striped table-bordered table-hover view-userinfo"},[a("tbody",e._l(e.orderDetail.tableColumns,(function(t,n){return a("tr",{key:n},[a("td",{attrs:{width:"30%"}},[e._v(e._s(e.orderDetail.columns[t]?e.orderDetail.columns[t].label:""))]),e._v(" "),a("td",{attrs:{width:"70%"}},[a("span","credittype"===t||"operation"===t?[e._v(e._s(e.orderDetail.columns[t]?e.orderDetail.columns[t].value[e.orderDetail.orderForm[t]]:""))]:"dateline"===t?[e._v(e._s(e.orderDetail.columns[t]?e.parseTime(e.orderDetail.orderForm[t]):""))]:[e._v(e._s(e.orderDetail.orderForm[t]))])])])})),0)]),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.orderDetail.orderDialog=!1}}},[e._v("取 消")])],1)]),e._v(" "),a("el-dialog",{attrs:{id:"ruleForm-dialog",title:e.ruleFormTitle,visible:e.ruleFormDialog,width:"600px"},on:{close:function(t){return e.closeRulesFormDialog("ruleForm")},"update:visible":function(t){e.ruleFormDialog=t}}},[a("div",{staticStyle:{"margin-left":"13px","margin-bottom":"10px",color:"#f56c6c"}},[e._v("已退款金额："+e._s(e.refundData.refund_money)+"元，可退金额:"+e._s(e.refundData.price)+"元")]),e._v(" "),a("el-form",{ref:"ruleForm",attrs:{rules:e.rules,model:e.ruleForm,"label-width":"100px","label-position":"right"}},[a("el-form-item",{attrs:{label:"退款金额",prop:"refund_money"}},[a("el-input",{attrs:{maxlength:"20","show-word-limit":""},model:{value:e.ruleForm.refund_money,callback:function(t){e.$set(e.ruleForm,"refund_money",t)},expression:"ruleForm.refund_money"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"退款时间",prop:"operation_time"}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",type:"datetime",placeholder:"选择日期时间"},model:{value:e.ruleForm.operation_time,callback:function(t){e.$set(e.ruleForm,"operation_time",t)},expression:"ruleForm.operation_time"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"是否限制充值",prop:"pay_refused"}},[a("el-checkbox",{model:{value:e.ruleForm.pay_refused,callback:function(t){e.$set(e.ruleForm,"pay_refused",t)},expression:"ruleForm.pay_refused"}},[e._v("不允许再充值")])],1)],1),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){return e.closeRulesFormDialog("ruleForm")}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("保 存")])],1)],1)],1)},i=[],o=(a("163d"),a("6d57"),a("b449"),a("6648")),r=a("aa3e"),l=a("6787"),s={name:"users",data:function(){var e=this,t=function(t,a,n){if(a){var i=/^\d+(\.\d{0,2})?$/;i.test(a)?100*a>100*e.refundData.price?n(new Error("退款金额不能大于可退款金额!")):n():n(new Error("必须为数字类型,且小数点后最多保留2位"))}else n(new Error("请输入退款金额"))};return{creditTypeOptions:l["a"],totalNum:0,formInline:{date:{startday:"",endday:""},username:"",userid:"",operation:"",credittype:"",description:"",startday:"",endday:"",pageSize:20,pageNum:1,offset:0},startOptions:{disabledDate:!1},endOptions:{disabledDate:!1},ext_stat:"",tableData:[],operationOptions:[],orderDetail:{orderForm:{},columns:{},orderDialog:!1,tableColumns:["id","userid","credittype","operation","number","count","description","ipaddr","operator","dateline"]},detailDialog:{detailDialog:!1,detailForm:{},columns:{}},ruleFormDialog:!1,ruleFormTitle:"",refundData:{},ruleForm:{refund_id:"",userid:"",order_id:"",pay_mode:"",refund_money:"",operation_time:"",admin:"",client_id:"",channel:"",udid:"",dateline:""},rules:{refund_money:[{required:!0,validator:t,trigger:"blur"}],operation_time:[{required:!0,message:"请选择退款时间",trigger:"change"}]}}},created:function(){this.formInline.date.startday=this.getDateNow()[0],this.formInline.date.endday=this.getDateNow()[1],this.getOnlineList(),this.getOperationOptions()},methods:{onSubmit:function(){this.getOnlineList()},getOnlineList:function(){var e=this,t=JSON.parse(JSON.stringify(this.formInline));t.startday=t.date.startday,t.endday=t.date.endday,t.offset=(t.pageNum-1)*t.pageSize,delete t.date,Object(r["c"])(t).then((function(t){0===t.code&&(e.tableData=t.data.items,e.ext_stat=t.data.ext_stat,e.totalNum=+t.data.total_rows)}))},getOperationOptions:function(){var e=this;Object(r["b"])().then((function(t){0===t.code&&(e.operationOptions=t.data)}))},sortChange:function(e){e.column;var t=e.prop,a=e.order;console.log(a),this.formInline.orderByColumn=t;var n="DESC";"ascending"===a&&(n="ASC"),this.formInline.isAsc=n},handleSizeChange:function(e){this.formInline.pageNum=1,this.formInline.pageSize=e,this.getOnlineList()},handleCurrentChange:function(e){this.formInline.pageNum=e,this.getOnlineList()},handlePrev:function(e){this.prevDate(this.formInline.date,e),this.getOnlineList()},openOrder:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(r["a"])(t);case 2:a=e.sent,a&&0===a.code&&(this.orderDetail.orderForm=a.data.item,this.orderDetail.columns=a.data.columns,this.orderDetail.orderDialog=!0);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),openDetail:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,get_user_by_id(t);case 2:a=e.sent,a&&0===a.code&&(this.detailDialog.detailForm=a.data.item,this.detailDialog.columns=a.data.columns,this.detailDialog.detailDialog=!0);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getDetailById:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,get_user_by_id(t);case 2:a=e.sent,a&&0===a.code&&(this.detailDialog.detailForm=a.data.item);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),closeDialog:function(e){this.detailDialog.detailDialog=e},openEdit:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,a){var n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.ruleFormTitle=t,"新增"!==t){e.next=5;break}this.ruleFormDialog=!0,e.next=14;break;case 5:if("退款"!==t){e.next=13;break}return n={order_id:a},e.next=9,get_refund(n);case 9:i=e.sent,i&&0===i.code&&(this.refundData=i.data,this.ruleForm=i.data.item,this.ruleFormDialog=!0),e.next=14;break;case 13:return e.abrupt("return",!1);case 14:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}(),submitForm:function(e){var t=this;this.$refs[e].validate((function(a){if(!a)return!1;JSON.parse(JSON.stringify(t.ruleForm));var n={refund_id:t.ruleForm.refund_id,userid:t.ruleForm.userid,order_id:t.ruleForm.order_id,pay_mode:t.ruleForm.pay_mode,refund_money:t.ruleForm.refund_money,operation_time:t.ruleForm.operation_time,pay_refused:t.ruleForm.pay_refused,admin:t.ruleForm.admin,client_id:t.ruleForm.client_id,channel:t.ruleForm.channel,udid:t.ruleForm.udid,dateline:t.ruleForm.dateline};console.log(n),save_edit(n).then((function(a){a&&0===a.code&&(t.$message.success({message:a.info}),t.closeRulesFormDialog(e),t.getOnlineList())}))}))},closeRulesFormDialog:function(e){this.$refs[e].resetFields(),this.ruleFormDialog=!1},getSummaries:function(e){var t=e.columns,a=e.data,n=[];return t.forEach((function(e,t){if(0!==t)if("total_price"===e.property){var i=a.map((function(e){return Number(e["total_price"])})),o=0;i.forEach((function(e){o+=e})),n[t]=o+"元"}else n[t]="";else n[t]="合计"})),n}}},c=s,u=(a("25ae"),a("817f"),a("ac41"),a("9ca4")),m=Object(u["a"])(c,n,i,!1,null,"524f6673",null);t["default"]=m.exports},fdd4:function(e,t,a){"use strict";var n=a("9d20"),i=a.n(n);i.a},fe28:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"publicStyle"},[a("div",{staticClass:"publicStyle-conter"},[a(e.currentPage,{tag:"component",attrs:{obj:e.obj,"keep-alive":""},on:{changePage:e.changePage}})],1)])},i=[],o=(a("bbd8"),a("fd05")),r={name:"anchors",components:{LIST:o["default"]},data:function(){return{currentPage:"LIST",obj:{},activePage:"LIST"}},methods:{changePage:function(e,t){this.currentPage=e,t&&(this.obj=t)},changeActive:function(e){this.activePage=e,this.changePage(e)}}},l=r,s=(a("72a4"),a("9ca4")),c=Object(s["a"])(l,n,i,!1,null,"5eaaa356",null);t["default"]=c.exports},feb2:function(e,t,a){"use strict";a.r(t);var n=a("ed08");t["default"]={data:function(){return{$_sidebarElm:null,$_resizeHandler:null}},mounted:function(){this.initListener()},activated:function(){this.$_resizeHandler||this.initListener(),this.resize()},beforeDestroy:function(){this.destroyListener()},deactivated:function(){this.destroyListener()},methods:{$_sidebarResizeHandler:function(e){"width"===e.propertyName&&this.$_resizeHandler()},initListener:function(){var e=this;this.$_resizeHandler=Object(n["c"])((function(){e.resize()}),100),window.addEventListener("resize",this.$_resizeHandler),this.$_sidebarElm=document.getElementsByClassName("sidebar-container")[0],this.$_sidebarElm&&this.$_sidebarElm.addEventListener("transitionend",this.$_sidebarResizeHandler)},destroyListener:function(){window.removeEventListener("resize",this.$_resizeHandler),this.$_resizeHandler=null,this.$_sidebarElm&&this.$_sidebarElm.removeEventListener("transitionend",this.$_sidebarResizeHandler)},resize:function(){var e=this.chart;e&&e.resize()}}}},ffe7:function(e,t,a){e.exports=a.p+"static/img/profile.473f5971.jpg"}}]);